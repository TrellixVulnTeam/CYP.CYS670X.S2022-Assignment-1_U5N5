(window.dashboard_bundle_jsonpfunction=window.dashboard_bundle_jsonpfunction||[]).push([[0],{106:function(e,t,n){e.exports=n(23)(14)},107:function(e,t,n){e.exports=n(23)(13)},108:function(e,t,n){e.exports=n(23)(4)},109:function(e,t,n){e.exports=n(23)(19)},110:function(e,t,n){e.exports=n(23)(2453)},111:function(e,t,n){e.exports=n(23)(2460)},57:function(e,t,n){"use strict";n.r(t),n.d(t,"migrateFilter",(function(){return me})),n.d(t,"buildEsQuery",(function(){return Mt})),n.d(t,"buildQueryFromFilters",(function(){return Lt})),n.d(t,"luceneStringToDsl",(function(){return It})),n.d(t,"decorateQuery",(function(){return Qt})),n.d(t,"dedupFilters",(function(){return O})),n.d(t,"uniqFilters",(function(){return _})),n.d(t,"compareFilters",(function(){return w})),n.d(t,"COMPARE_ALL_OPTIONS",(function(){return A})),n.d(t,"cleanFilter",(function(){return pe})),n.d(t,"isFilter",(function(){return de})),n.d(t,"isFilters",(function(){return fe})),n.d(t,"pinFilter",(function(){return ce})),n.d(t,"isFilterPinned",(function(){return ne})),n.d(t,"onlyDisabledFiltersChanged",(function(){return he})),n.d(t,"enableFilter",(function(){return oe})),n.d(t,"disableFilter",(function(){return se})),n.d(t,"isFilterDisabled",(function(){return re})),n.d(t,"toggleFilterNegated",(function(){return ie})),n.d(t,"toggleFilterDisabled",(function(){return ue})),n.d(t,"toggleFilterPinned",(function(){return ae})),n.d(t,"unpinFilter",(function(){return le})),n.d(t,"isExistsFilter",(function(){return G})),n.d(t,"isMatchAllFilter",(function(){return Y})),n.d(t,"isPhraseFilter",(function(){return T})),n.d(t,"isPhrasesFilter",(function(){return R})),n.d(t,"isRangeFilter",(function(){return B})),n.d(t,"isQueryStringFilter",(function(){return ee})),n.d(t,"getFilterField",(function(){return J})),n.d(t,"buildQueryFilter",(function(){return te})),n.d(t,"buildPhrasesFilter",(function(){return k})),n.d(t,"buildPhraseFilter",(function(){return L})),n.d(t,"buildRangeFilter",(function(){return V})),n.d(t,"buildCustomFilter",(function(){return z})),n.d(t,"buildFilter",(function(){return Z})),n.d(t,"buildEmptyFilter",(function(){return K})),n.d(t,"buildExistsFilter",(function(){return H})),n.d(t,"getRangeScript",(function(){return D})),n.d(t,"getPhraseScript",(function(){return Q})),n.d(t,"getConvertedValueForField",(function(){return S})),n.d(t,"getPhraseFilterValue",(function(){return P})),n.d(t,"getPhraseFilterField",(function(){return C})),n.d(t,"isScriptedPhraseFilter",(function(){return N})),n.d(t,"isScriptedRangeFilter",(function(){return W})),n.d(t,"getFilterParams",(function(){return X})),n.d(t,"FilterStateStore",(function(){return v})),n.d(t,"FILTERS",(function(){return p})),n.d(t,"toElasticsearchQuery",(function(){return Ft})),n.d(t,"KQLSyntaxError",(function(){return At})),n.d(t,"nodeTypes",(function(){return it})),n.d(t,"nodeBuilder",(function(){return ut})),n.d(t,"fromKueryExpression",(function(){return Ot})),n.d(t,"isDataViewFieldSubtypeMulti",(function(){return Re})),n.d(t,"isDataViewFieldSubtypeNested",(function(){return Qe})),n.d(t,"getDataViewFieldSubtypeMulti",(function(){return ke})),n.d(t,"getDataViewFieldSubtypeNested",(function(){return Ie}));var r={};n.r(r),n.d(r,"buildNode",(function(){return Ae})),n.d(r,"toElasticsearchQuery",(function(){return je}));var u={};n.r(u),n.d(u,"wildcardSymbol",(function(){return qe})),n.d(u,"buildNode",(function(){return _e})),n.d(u,"test",(function(){return Fe})),n.d(u,"toElasticsearchQuery",(function(){return Ee})),n.d(u,"toQueryStringQuery",(function(){return Se})),n.d(u,"hasLeadingWildcard",(function(){return Te}));var i={};n.r(i),n.d(i,"buildNodeParams",(function(){return $e})),n.d(i,"toElasticsearchQuery",(function(){return Ue}));var a={};n.r(a),n.d(a,"buildNodeParams",(function(){return Be})),n.d(a,"toElasticsearchQuery",(function(){return We}));var o={};n.r(o),n.d(o,"buildNodeParams",(function(){return Ve})),n.d(o,"toElasticsearchQuery",(function(){return De}));var s={};n.r(s),n.d(s,"buildNodeParams",(function(){return Ge})),n.d(s,"toElasticsearchQuery",(function(){return He}));var c={};n.r(c),n.d(c,"buildNodeParams",(function(){return Ze})),n.d(c,"toElasticsearchQuery",(function(){return Ke}));var l={};n.r(l),n.d(l,"buildNodeParams",(function(){return ze})),n.d(l,"toElasticsearchQuery",(function(){return Je}));var d={};n.r(d),n.d(d,"buildNodeParams",(function(){return Xe})),n.d(d,"toElasticsearchQuery",(function(){return Ye}));var f={};n.r(f),n.d(f,"buildNode",(function(){return tt})),n.d(f,"buildNodeWithArgumentNodes",(function(){return nt})),n.d(f,"toElasticsearchQuery",(function(){return rt}));var p,v,h=n(1),m=n.n(h),g=n(65),y=n.n(g),b=n(7),x=n.n(b),A={index:!0,disabled:!0,negate:!0,state:!0,alias:!0},j=function(e,t,n){var r,u,i=Object(b.omit)(e,n);return t.index&&(i.index=null===(r=e.meta)||void 0===r?void 0:r.index),t.negate&&(i.negate=e.meta&&Boolean(e.meta.negate)),t.disabled&&(i.disabled=e.meta&&Boolean(e.meta.disabled)),t.alias&&(i.alias=null===(u=e.meta)||void 0===u?void 0:u.alias),i},q=function(e,t,n){return Object(b.map)(e,(function(e){return j(e,t,n)}))},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||!t)return!1;var r={},u=["$$hashKey","meta"];return(r=Object(b.defaults)(n||{},{index:!1,state:!1,negate:!1,disabled:!1,alias:!1})).state||u.push("$state"),Array.isArray(e)&&Array.isArray(t)?Object(b.isEqual)(q(e,r,u),q(t,r,u)):!Array.isArray(e)&&!Array.isArray(t)&&Object(b.isEqual)(j(e,r,u),j(t,r,u))},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Array.isArray(t)||(t=[t]),Object(b.filter)(t,(function(t){return!Object(b.find)(e,(function(e){return w(e,t,n)}))}))},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return Object(b.each)(e,(function(e){n=Object(b.union)(n,O(n,[e],t))})),n},F=n(81),E=n.n(F),S=function(e,t){if("boolean"!=typeof t&&"boolean"===e.type){if([1,"true"].includes(t))return!0;if([0,"false"].includes(t))return!1;throw new Error("".concat(t," is not a valid boolean value for boolean field ").concat(e.name))}return"number"!=typeof t&&"number"===e.type?Number(t):t},T=function(e){var t=Object(b.has)(e,"query.match_phrase"),n=Object(b.get)(e,"query.match",[]),r=void 0!==Object.values(n).find((function(e){return"phrase"===e.type}));return t||r},N=function(e){return Object(b.has)(e,"query.script.script.params.value")},C=function(e){var t,n,r=null!==(t=null!==(n=e.query.match_phrase)&&void 0!==n?n:e.query.match)&&void 0!==t?t:{};return Object.keys(r)[0]},P=function(e){if(T(e)){var t=e.query.match_phrase||e.query.match||{},n=Object.values(t)[0];return Object(b.isPlainObject)(n)?n.query:n}var r,u,i,a;return null===(r=e.query)||void 0===r||null===(u=r.script)||void 0===u||null===(i=u.script)||void 0===i||null===(a=i.params)||void 0===a?void 0:a.value},L=function(e,t,n){var r=S(e,t);return e.scripted?{meta:{index:n.id,field:e.name},query:{script:Q(e,t)}}:{meta:{index:n.id},query:{match_phrase:m()({},e.name,r)}}},Q=function(e,t){var n=S(e,t);return{script:{source:I(e),lang:e.lang,params:{value:n}}}},I=function(e){return"painless"===e.lang?"boolean compare(Supplier s, def v) {return s.get() == v;}"+"compare(() -> { ".concat(e.script," }, params.value);"):"(".concat(e.script,") == value")};!function(e){e.CUSTOM="custom",e.PHRASES="phrases",e.PHRASE="phrase",e.EXISTS="exists",e.MATCH_ALL="match_all",e.QUERY_STRING="query_string",e.RANGE="range",e.RANGE_FROM_VALUE="range_from_value",e.SPATIAL_FILTER="spatial_filter"}(p||(p={})),function(e){e.APP_STATE="appState",e.GLOBAL_STATE="globalState"}(v||(v={}));var R=function(e){var t;return(null==e||null===(t=e.meta)||void 0===t?void 0:t.type)===p.PHRASES},k=function(e,t,n){var r,u=n.id,i=p.PHRASES,a=e.name;return r=e.scripted?t.map((function(t){return{script:Q(e,t)}})):t.map((function(t){return{match_phrase:m()({},e.name,t)}})),{meta:{index:u,type:i,key:a,params:t},query:{bool:{should:r,minimum_should_match:1}}}},M={gt:">",gte:">=",lte:"<=",lt:"<"},$={gt:"boolean gt(Supplier s, def v) {return s.get() > v}",gte:"boolean gte(Supplier s, def v) {return s.get() >= v}",lte:"boolean lte(Supplier s, def v) {return s.get() <= v}",lt:"boolean lt(Supplier s, def v) {return s.get() < v}"},U={gt:"boolean gt(Supplier s, def v) {return s.get().toInstant().isAfter(Instant.parse(v))}",gte:"boolean gte(Supplier s, def v) {return !s.get().toInstant().isBefore(Instant.parse(v))}",lte:"boolean lte(Supplier s, def v) {return !s.get().toInstant().isAfter(Instant.parse(v))}",lt:"boolean lt(Supplier s, def v) {return s.get().toInstant().isBefore(Instant.parse(v))}"},B=function(e){return Object(b.has)(e,"query.range")},W=function(e){return function(e){return Boolean(Object(b.keys)(e).find((function(e){return["gte","gt","lte","lt","from","to"].includes(e)})))}(Object(b.get)(e,"query.script.script.params",{}))},V=function(e,t,n,r){if("gte"in(t=Object(b.mapValues)(t,(function(t){return"number"===e.type?parseFloat(t):t})))&&"gt"in t)throw new Error("gte and gt are mutually exclusive");if("lte"in t&&"lt"in t)throw new Error("lte and lt are mutually exclusive");var u=["gt","lt"].reduce((function(e,n){var r=n in t?n:"".concat(n,"e");return Math.abs(Object(b.get)(t,r))===1/0&&(e++,delete t[r]),e}),0),i=y()({index:n.id,params:{},field:e.name},r?{formattedValue:r}:{});if(2===u)return{meta:i,query:{match_all:{}}};if(e.scripted){var a=D(e,t);return a.script.params.value=function(e){return Object(b.map)(e,(function(e,t){return Object(b.get)(M,t)+e})).join(" ")}(a.script.params),{meta:i,query:{script:a}}}return{meta:i,query:{range:m()({},e.name,t)}}},D=function(e,t){var n=Object(b.mapValues)(Object(b.pickBy)(t,(function(e,t){return t in M})),(function(t){return"number"===e.type&&"string"==typeof t?parseFloat(t):t})),r=Object(b.map)(n,(function(t,n){return"("+e.script+")"+Object(b.get)(M,n)+n})).join(" && ");if("painless"===e.lang){var u="date"===e.type?U:$,i=Object(b.reduce)(n,(function(e,t,n){return e.concat(Object(b.get)(u,n))}),[]).join(" "),a=Object(b.map)(n,(function(t,n){return"".concat(n,"(() -> { ").concat(e.script," }, params.").concat(n,")")})).join(" && ");r="".concat(i).concat(a)}return{script:{source:r,params:n,lang:e.lang}}},G=function(e){return Object(b.has)(e,"query.exists")},H=function(e,t){return{meta:{index:t.id},query:{exists:{field:e.name}}}};function Z(e,t,n,r,u,i,a,o){var s=function(e,t,n,r){switch(n){case"phrase":return L(t,r,e);case"phrases":return k(t,r,e);case"range":var u=r,i=u.from,a=u.to;return V(t,{lt:a,gte:i},e);case"range_from_value":return V(t,r,e);case"exists":return H(t,e);default:throw new Error("Unknown filter type: ".concat(n))}}(e,t,n,i);return s.meta.alias=a,s.meta.negate=r,s.meta.disabled=u,o&&(s.$state={store:o}),s}var K=function(e,t){return{meta:{disabled:!1,negate:!1,alias:null,index:t},$state:{store:e?v.GLOBAL_STATE:v.APP_STATE}}};function z(e,t,n,r,u,i){var a={index:e,type:p.CUSTOM,disabled:n,negate:r,alias:u},o=y()(y()({},t),{},{meta:a});return o.$state={store:i},o}var J=function(e){return G(e)?function(e){return e.query.exists&&e.query.exists.field}(e):T(e)?C(e):R(e)?function(e){return e.meta.key}(e):B(e)?function(e){return e.query.range&&Object.keys(e.query.range)[0]}(e):void 0};function X(e){switch(e.meta.type){case p.PHRASE:return e.meta.params.query;case p.PHRASES:return e.meta.params;case p.RANGE:var t=e.meta.params,n=t.gte,r=t.gt,u=t.lte,i=t.lt;return{from:null!=n?n:r,to:null!=i?i:u}}}var Y=function(e){return Object(b.has)(e,"query.match_all")},ee=function(e){return Object(b.has)(e,"query.query_string")},te=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{query:e,meta:y()({index:t,alias:n},r)}},ne=function(e){return e.$state&&e.$state.store===v.GLOBAL_STATE},re=function(e){return Object(b.get)(e,"meta.disabled",!1)},ue=function(e){var t=!e.meta.disabled,n=y()(y()({},e.meta),{},{disabled:t});return y()(y()({},e),{},{meta:n})},ie=function(e){var t=!e.meta.negate,n=y()(y()({},e.meta),{},{negate:t});return y()(y()({},e),{},{meta:n})},ae=function(e){var t=ne(e)?v.APP_STATE:v.GLOBAL_STATE,n=y()(y()({},e.$state),{},{store:t});return y()(y()({},e),{},{$state:n})},oe=function(e){return e.meta.disabled?ue(e):e},se=function(e){return e.meta.disabled?e:ue(e)},ce=function(e){return ne(e)?e:ae(e)},le=function(e){return ne(e)?ae(e):e},de=function(e){return!!e&&"object"===E()(e)&&!!e.meta&&"object"===E()(e.meta)&&"boolean"==typeof e.meta.disabled},fe=function(e){return Array.isArray(e)&&!e.find((function(e){return!de(e)}))},pe=function(e){return Object(b.omit)(e,["meta","$state"])},ve=function(e){return e&&e.meta&&!e.meta.disabled},he=function(e,t){var n=Object(b.filter)(e||[],ve),r=Object(b.filter)(t||[],ve);return w(r,n,A)};function me(e,t){if(function(e){var t,n,r=Object.keys(null!==(t=e.match||(null===(n=e.query)||void 0===n?void 0:n.match))&&void 0!==t?t:{})[0];return Boolean(r&&("phrase"===Object(b.get)(e,["query","match",r,"type"])||"phrase"===Object(b.get)(e,["match",r,"type"])))}(e)){var n=e.match||e.query.match,r=Object.keys(n)[0],u=Object(b.get)(n,[r]),i=u.query;if(t){var a=t.fields.find((function(e){return e.name===r}));a&&(i=S(a,u.query))}return{meta:e.meta,$state:e.$state,query:{match_phrase:m()({},r,Object(b.omit)(y()(y()({},u),{},{query:i}),"type"))}}}return e.query||(e.query={}),e.exists&&(e.query.exists=e.exists,delete e.exists),e.range&&(e.query.range=e.range,delete e.range),e.match_all&&(e.query.match_all=e.match_all,delete e.match_all),Object.keys(e).forEach((function(t){"meta"!==t&&"query"!==t&&"$state"!==t&&(e.query[t]=e[t],delete e[t])})),e}var ge=n(77),ye=n.n(ge),be=n(69),xe=n.n(be);function Ae(e){return{type:"literal",value:e}}function je(e){return e.value}var qe="@kuery-wildcard@";function we(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Oe(e){return e.replace(/[+-=&|><!(){}[\]^"~*?:\\/]/g,"\\$&")}function _e(e){return e.includes(qe)?{type:"wildcard",value:e}:wt(e)}function Fe(e,t){var n=e.value.split(qe).map(we).join("[\\s\\S]*");return new RegExp("^".concat(n,"$")).test(t)}function Ee(e){return e.value.split(qe).join("*")}function Se(e){return e.value.split(qe).map(Oe).join("*")}function Te(e){var t=e.value;return t.startsWith(qe)&&t.replace(qe,"").length>0}function Ne(e,t){if(!t)return[];if("literal"===e.type){var n=je(e),r=t.fields.find((function(e){return e.name===n}));return r?[r]:[]}return"wildcard"===e.type?t.fields.filter((function(t){return Fe(e,t.name)})):void 0}var Ce=n(60),Pe=n.n(Ce);function Le(e){var t=Pe.a.tz.guess();return"Browser"===e?t:e}function Qe(e){var t,n=null==e?void 0:e.subType;return!(null==n||null===(t=n.nested)||void 0===t||!t.path)}function Ie(e){return Qe(e)?e.subType:void 0}function Re(e){var t,n=null==e?void 0:e.subType;return!(null==n||null===(t=n.multi)||void 0===t||!t.parent)}function ke(e){return Re(e)?e.subType:void 0}function Me(e,t,n){var r=y()(y()({},e),{},{value:n?"".concat(n,".").concat(e.value):e.value});if(!t||"wildcard"===r.type&&!n)return r;var u=Ne(r,t).reduce((function(e,t){var r=Ie(t),u=null==r?void 0:r.nested.path;return n&&!u?[].concat(ye()(e),["".concat(t.name,' is not a nested field but is in nested group "').concat(n,'" in the KQL expression.')]):u&&!n?[].concat(ye()(e),["".concat(t.name," is a nested field, but is not in a nested group in the KQL expression.")]):u!==n?[].concat(ye()(e),["Nested field ".concat(t.name," is being queried with the incorrect nested path. The correct path is ").concat(null==r?void 0:r.nested.path,".")]):e}),[]);if(u.length>0)throw new Error(u.join("\n"));return r}function $e(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object(b.isUndefined)(e))throw new Error("fieldName is a required argument");if(Object(b.isUndefined)(t))throw new Error("value is a required argument");var r="string"==typeof e?wt(e):Ae(e),u="string"==typeof t?wt(t):Ae(t),i=Ae(n);return{arguments:[r,u,i]}}function Ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=xe()(e.arguments,3),i=u[0],a=u[1],o=u[2],s="wildcard"===a.type&&a.value===qe,c="wildcard"===i.type&&i.value===qe,l=s&&c;if(l)return{match_all:{}};var d=Me(i,t,null!=r&&r.nested?r.nested.path:void 0),f=Object(b.isUndefined)(a)?a:_t(a),p=o.value?"phrase":"best_fields";if(null===d.value)return"wildcard"===a.type?{query_string:{query:Se(a)}}:{multi_match:{type:p,query:f,lenient:!0}};var v=t?Ne(d,t):[];if(v&&0===v.length&&v.push({name:_t(d),scripted:!1,type:""}),s&&(null==v||!v.length||(null==v?void 0:v.length)===(null==t?void 0:t.fields.length)))return{match_all:{}};var h=v.reduce((function(e,t){var u=function(e){var n=Ie(t);return"wildcard"!==d.type||null==n||!n.nested||null!=r&&r.nested?e:{nested:{path:n.nested.path,query:e,score_mode:"none"}}};if(!t.scripted){if(s)return[].concat(ye()(e),[u({exists:{field:t.name}})]);if("wildcard"===a.type)return[].concat(ye()(e),[u({query_string:{fields:[t.name],query:Se(a)}})]);if("date"===t.type){var i=n.dateFormatTZ?{time_zone:Le(n.dateFormatTZ)}:{};return[].concat(ye()(e),[u({range:m()({},t.name,y()({gte:f,lte:f},i))})])}var o="phrase"===p?"match_phrase":"match";return[].concat(ye()(e),[u(m()({},o,m()({},t.name,f)))])}if(!s)return[].concat(ye()(e),[{script:y()({},Q(t,f))}])}),[]);return{bool:{should:h||[],minimum_should_match:1}}}function Be(e){return{arguments:e}}function We(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=n.filtersInMustClause,i=e.arguments||[],a=u?"must":"filter";return{bool:m()({},a,i.map((function(e){return _t(e,t,n,r)})))}}function Ve(e){return{arguments:e}}function De(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=e.arguments||[];return{bool:{should:u.map((function(e){return _t(e,t,n,r)})),minimum_should_match:1}}}function Ge(e){return{arguments:[e]}}function He(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=xe()(e.arguments,1),i=u[0];return{bool:{must_not:_t(i,t,n,r)}}}function Ze(e,t,n){return{arguments:[wt(e),t,it.literal.buildNode(n)]}}function Ke(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=xe()(e.arguments,3),i=u[0],a=u[1],o=u[2],s=Me(i,t,null!=r&&r.nested?r.nested.path:void 0),c=t?Ne(s,t):[];c&&0===c.length&&c.push({name:_t(s),scripted:!1,type:""});var l=c.map((function(e){var t=function(t){var n=Ie(e);return"wildcard"!==s.type||null==n||!n.nested||r.nested?t:{nested:{path:n.nested.path,query:t,score_mode:"none"}}},u=m()({},a,_t(o));if(e.scripted)return{script:D(e,u)};if("date"===e.type){var i=n.dateFormatTZ?{time_zone:Le(n.dateFormatTZ)}:{};return t({range:m()({},e.name,y()(y()({},u),i))})}return t({range:m()({},e.name,u)})}));return{bool:{should:l,minimum_should_match:1}}}function ze(e){return{arguments:[Ae(e)]}}function Je(e,t){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=xe()(e.arguments,1),i=u[0],a=y()(y()({},i),{},{value:null!=r&&r.nested?"".concat(r.nested.path,".").concat(i.value):i.value}),o=je(a),s=null==t||null===(n=t.fields)||void 0===n?void 0:n.find((function(e){return e.name===o}));if(null!=s&&s.scripted)throw new Error("Exists query does not support scripted fields");return{exists:{field:o}}}function Xe(e,t){return{arguments:["string"==typeof e?wt(e):Ae(e),t]}}function Ye(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=xe()(e.arguments,2),a=i[0],o=i[1],s=_t(a),c=null!=u&&null!==(n=u.nested)&&void 0!==n&&n.path?"".concat(u.nested.path,".").concat(s):s;return{nested:{path:c,query:_t(o,t,r,y()(y()({},u),{},{nested:{path:c}})),score_mode:"none"}}}var et={is:i,and:a,or:o,not:s,range:c,exists:l,nested:d};function tt(e){var t=et[e];if(x.a.isUndefined(t))throw new Error('Unknown function "'.concat(e,'"'));for(var n=arguments.length,r=new Array(n>1?n-1:0),u=1;u<n;u++)r[u-1]=arguments[u];return y()({type:"function",function:e},t.buildNodeParams.apply(t,r))}function nt(e,t){if(x.a.isUndefined(et[e]))throw new Error('Unknown function "'.concat(e,'"'));return{type:"function",function:e,arguments:t}}function rt(e,t,n,r){return et[e.function].toElasticsearchQuery(e,t,n,r)}var ut={is:function(e,t){return it.function.buildNodeWithArgumentNodes("is",[it.literal.buildNode(e),"string"==typeof t?it.literal.buildNode(t):t,it.literal.buildNode(!1)])},or:function(e){return e.length>1?it.function.buildNode("or",e):e[0]},and:function(e){return e.length>1?it.function.buildNode("and",e):e[0]}},it={function:f,literal:r,wildcard:u},at=n(106),ot=n.n(at),st=n(107),ct=n.n(st),lt=n(108),dt=n.n(lt),ft=n(109),pt=n.n(ft),vt=n(110),ht=n.n(vt),mt=n(111),gt=n.n(mt),yt=n(0),bt=yt.i18n.translate("esQuery.kql.errors.endOfInputText",{defaultMessage:"end of input"}),xt={fieldName:yt.i18n.translate("esQuery.kql.errors.fieldNameText",{defaultMessage:"field name"}),value:yt.i18n.translate("esQuery.kql.errors.valueText",{defaultMessage:"value"}),literal:yt.i18n.translate("esQuery.kql.errors.literalText",{defaultMessage:"literal"}),whitespace:yt.i18n.translate("esQuery.kql.errors.whitespaceText",{defaultMessage:"whitespace"})},At=function(e){pt()(n,e);var t=ht()(n);function n(e,r){var u;ct()(this,n);var i=e.message;if(e.expected){var a=e.expected.map((function(e){var t,n="other"===(t=e).type?t.description:"literal"===t.type?'"'.concat(t.text,'"'):"end"===t.type?"end of input":t.text||t.description||"";return xt[n]||n})),o=Object(b.uniq)(a).filter((function(e){return void 0!==e})).sort().join(", ");i=yt.i18n.translate("esQuery.kql.errors.syntaxError",{defaultMessage:"Expected {expectedList} but {foundInput} found.",values:{expectedList:o,foundInput:e.found?'"'.concat(e.found,'"'):bt}})}var s=[i,r,Object(b.repeat)("-",e.location.start.offset)+"^"].join("\n");return u=t.call(this,s),m()(dt()(u),"shortMessage",void 0),u.name="KQLSyntaxError",u.shortMessage=i,u}return ot()(n)}(gt()(Error)),jt=n(82),qt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jt.parse;if(void 0===e)throw new Error("expression must be a string, got undefined instead");return n(e,y()(y()({},t),{},{helpers:{nodeTypes:it}}))},wt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return qt(e,y()(y()({},t),{},{startRule:"Literal"}),jt.parse)},Ot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return qt(e,t,jt.parse)}catch(t){throw"SyntaxError"===t.name?new At(t,e):t}},_t=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!t||!t.type||!it[t.type])return e(it.function.buildNode("and",[]),n);var i=it[t.type];return i.toElasticsearchQuery(t,n,r,u)},Ft=function(){return _t.apply(void 0,arguments)};function Et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=t.map((function(e){return Ot(e.query,{allowLeadingWildcards:n})}));return St(e,i,{dateFormatTZ:r,filtersInMustClause:u})}function St(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=it.function.buildNode("and",t),u=Ft(r,e,n);return Object.assign({must:[],filter:[],should:[],must_not:[]},u.bool)}function Tt(e,t){var n,r;return null===(n=e.meta)||void 0===n||!n.key||!t||("custom"===(null===(r=e.meta)||void 0===r?void 0:r.type)?e.meta.index===t.id:t.fields.some((function(t){return t.name===e.meta.key})))}var Nt=function(e,t){if(!t)return e;var n=J(e);if(!n)return e;var r=t.fields.find((function(e){return e.name===n})),u=r&&Ie(r);if(!u)return e;var i=pe(e);return{meta:e.meta,query:{nested:{path:u.nested.path,query:i.query||i}}}},Ct=function(e){return function(t){return Object(b.isUndefined)(t.meta)||Object(b.isUndefined)(t.meta.negate)?!e:t.meta&&t.meta.negate===e}},Pt=function(e){return e.query||e},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e.filter((function(e){return e&&!re(e)}));var r=function(r){return e.filter((function(e){return!!e})).filter(Ct(r)).filter((function(e){return!n||Tt(e,t)})).map((function(e){return me(e,t)})).map((function(e){return Nt(e,t)})).map(pe).map(Pt)};return{must:[],filter:r(!1),should:[],must_not:r(!0)}};function Qt(e,t,n){return function(e){return Object(b.has)(e,"query_string.query")}(e)&&("string"==typeof t&&(t=JSON.parse(t)),Object(b.extend)(e.query_string,t),n&&Object(b.defaults)(e.query_string,{time_zone:Le(n)})),e}function It(e){return Object(b.isString)(e)?""===e.trim()?{match_all:{}}:{query_string:{query:e}}:e}function Rt(e,t,n){return{must:(e||[]).map((function(e){return Qt(It(e.query),t,n)})),filter:[],should:[],must_not:[]}}function kt(e){return e.filter((function(e){return!e||"object"!==E()(e)||!Object(b.isEqual)(e,{match_all:{}})}))}function Mt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{allowLeadingWildcards:!1,queryStringOptions:{},ignoreFilterIfFieldNotInIndex:!1};t=Array.isArray(t)?t:[t],n=Array.isArray(n)?n:[n];var u=t.filter((function(e){return Object(b.has)(e,"query")})),i=Object(b.groupBy)(u,"language"),a=Et(e,i.kuery,r.allowLeadingWildcards,r.dateFormatTZ,r.filtersInMustClause),o=Rt(i.lucene,r.queryStringOptions,r.dateFormatTZ),s=Lt(n,e,r.ignoreFilterIfFieldNotInIndex);return{bool:{must:kt([].concat(ye()(a.must),ye()(o.must),ye()(s.must))),filter:kt([].concat(ye()(a.filter),ye()(o.filter),ye()(s.filter))),should:kt([].concat(ye()(a.should),ye()(o.should),ye()(s.should))),must_not:[].concat(ye()(a.must_not),ye()(o.must_not),ye()(s.must_not))}}}},65:function(e,t,n){e.exports=n(23)(2455)},69:function(e,t,n){e.exports=n(23)(8)},77:function(e,t,n){e.exports=n(23)(21)},81:function(e,t,n){e.exports=n(23)(43)},82:function(e,t,n){"use strict";function r(e,t,n,u){var i=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(i,r.prototype),i.expected=t,i.found=n,i.location=u,i.name="SyntaxError",i}function u(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,a=this.location.source+":"+i.line+":"+i.column;if(r){var o=this.location.end,s=u("",i.line.toString().length),c=r[i.line-1],l=i.line===o.line?o.column:c.length+1;t+="\n --\x3e "+a+"\n"+s+" |\n"+i.line+" | "+c+"\n"+s+" | "+u("",i.column-1)+u("",l-i.column,"^")}else t+="\n at "+a}return t},r.buildMessage=function(e,t){var n={literal:function(e){return'"'+u(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function u(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function a(e){return n[e.type](e)}return"Expected "+function(e){var t,n,r=e.map(a);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+u(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){var n,u={},i=(t=void 0!==t?t:{}).grammarSource,a={start:be,Literal:Ce},o=be,s=":",c="or",l="and",d="not",f='"',p="\\",v="<=",h=">=",m="@kuery-cursor@",g=/^[\\"]/,y=/^[^"]/,b=/^[\\():<>"*{}]/,x=/^[0-9a-f]/i,A=/^[ \t\r\n\xA0]/,j=fe("(",!1),q=fe(")",!1),w=fe(":",!1),O=fe("{",!1),_=fe("}",!1),F=ve("fieldName"),E=ve("value"),S=ve("OR"),T=fe("or",!0),N=ve("AND"),C=fe("and",!0),P=ve("NOT"),L=fe("not",!0),Q=ve("literal"),I=fe('"',!1),R=fe("\\",!1),k=pe(["\\",'"'],!1,!1),M=pe(['"'],!0,!1),$={type:"any"},U=fe("*",!1),B=fe("\\t",!1),W=fe("\\r",!1),V=fe("\\n",!1),D=pe(["\\","(",")",":","<",">",'"',"*","{","}"],!1,!1),G=fe("u",!1),H=pe([["0","9"],["a","f"]],!1,!0),Z=fe("<=",!1),K=fe(">=",!1),z=fe("<",!1),J=fe(">",!1),X=ve("whitespace"),Y=pe([" ","\t","\r","\n"," "],!1,!1),ee=fe("@kuery-cursor@",!1),te=function(e,t){return t},ne=function(e,t){return t},re=function(e){if("cursor"===e.type)return e;!Ge&&"wildcard"===e.type&&He.wildcard.hasLeadingWildcard(e)&&function(e,t){throw t=void 0!==t?t:me(oe,ae),function(e,t){return new r(e,null,null,t)}(e,t)}("Leading wildcards are disabled. See query:allowLeadingWildcards in Advanced Settings.");const t=Ke(!1);return n=>Ze("is",[n,e,t])},ue=function(){return Ve},ie=function(t,n,r){const{start:u,end:i}=me(oe,ae);return{type:"cursor",start:u.offset,end:i.offset-n.length,prefix:t.join(""),suffix:r.join(""),text:e.substring(oe,ae).replace(n,"")}},ae=0,oe=0,se=[{line:1,column:1}],ce=0,le=[],de=0;if("startRule"in t){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');o=a[t.startRule]}function fe(e,t){return{type:"literal",text:e,ignoreCase:t}}function pe(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function ve(e){return{type:"other",description:e}}function he(t){var n,r=se[t];if(r)return r;for(n=t-1;!se[n];)n--;for(r={line:(r=se[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return se[t]=r,r}function me(e,t){var n=he(e),r=he(t);return{source:i,start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function ge(e){ae<ce||(ae>ce&&(ce=ae,le=[]),le.push(e))}function ye(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function be(){var e,t,n,r,i,a;for(e=ae,t=[],n=Be();n!==u;)t.push(n),n=Be();return(n=xe())===u&&(n=null),(r=Re())!==u?(oe=e,i=n,e="cursor"===(a=r).type?{...a,suggestionTypes:["conjunction"]}:null!==i?i:He.function.buildNode("is","*","*")):(ae=e,e=u),e}function xe(){var e,t,n,r,i;if(e=ae,(t=Ae())!==u){if(n=[],r=ae,Se()!==u&&(i=Ae())!==u?(oe=r,r=te(0,i)):(ae=r,r=u),r!==u)for(;r!==u;)n.push(r),r=ae,Se()!==u&&(i=Ae())!==u?(oe=r,r=te(0,i)):(ae=r,r=u);else n=u;n!==u?(oe=e,e=function(e,t){const n=[e,...t];return Ve&&n.find((e=>"cursor"===e.type))||Ze("or",n)}(t,n)):(ae=e,e=u)}else ae=e,e=u;return e===u&&(e=Ae()),e}function Ae(){var e,t,n,r,i;if(e=ae,(t=je())!==u){if(n=[],r=ae,Te()!==u&&(i=je())!==u?(oe=r,r=te(0,i)):(ae=r,r=u),r!==u)for(;r!==u;)n.push(r),r=ae,Te()!==u&&(i=je())!==u?(oe=r,r=te(0,i)):(ae=r,r=u);else n=u;n!==u?(oe=e,e=function(e,t){const n=[e,...t];return Ve&&n.find((e=>"cursor"===e.type))||Ze("and",n)}(t,n)):(ae=e,e=u)}else ae=e,e=u;return e===u&&(e=je()),e}function je(){var e,t,n;return e=ae,Ne()!==u&&(t=qe())!==u?(oe=e,e="cursor"===(n=t).type?n:Ze("not",[n])):(ae=e,e=u),e===u&&(e=qe()),e}function qe(){var t,n,r,i,a,o,c,l;if(t=ae,40===e.charCodeAt(ae)?(n="(",ae++):(n=u,0===de&&ge(j)),n!==u){for(r=[],i=Be();i!==u;)r.push(i),i=Be();(i=xe())!==u&&(a=Re())!==u?(41===e.charCodeAt(ae)?(o=")",ae++):(o=u,0===de&&ge(q)),o!==u?(oe=t,c=i,t="cursor"===(l=a).type?{...l,suggestionTypes:["conjunction"]}:c):(ae=t,t=u)):(ae=t,t=u)}else ae=t,t=u;return t===u&&(t=function(){var t,n,r,i,a,o,c,l,d,f;if(t=ae,(n=we())!==u){for(r=[],i=Be();i!==u;)r.push(i),i=Be();if(58===e.charCodeAt(ae)?(i=":",ae++):(i=u,0===de&&ge(w)),i!==u){for(a=[],o=Be();o!==u;)a.push(o),o=Be();if(123===e.charCodeAt(ae)?(o="{",ae++):(o=u,0===de&&ge(O)),o!==u){for(c=[],l=Be();l!==u;)c.push(l),l=Be();(l=xe())!==u&&(d=Re())!==u?(125===e.charCodeAt(ae)?(f="}",ae++):(f=u,0===de&&ge(_)),f!==u?(oe=t,t=function(e,t,n){return"cursor"===t.type?{...t,nestedPath:t.nestedPath?`${e.value}.${t.nestedPath}`:e.value}:"cursor"===n.type?{...n,suggestionTypes:["conjunction"]}:Ze("nested",[e,t])}(n,l,d)):(ae=t,t=u)):(ae=t,t=u)}else ae=t,t=u}else ae=t,t=u}else ae=t,t=u;t===u&&(t=function(){var t;(t=function(){var t,n,r,i,a,o;if(t=ae,(n=we())!==u){for(r=[],i=Be();i!==u;)r.push(i),i=Be();if((i=function(){var t,n;t=ae,e.substr(ae,2)===v?(n=v,ae+=2):(n=u,0===de&&ge(Z));n!==u&&(oe=t,n="lte");(t=n)===u&&(t=ae,e.substr(ae,2)===h?(n=h,ae+=2):(n=u,0===de&&ge(K)),n!==u&&(oe=t,n="gte"),(t=n)===u&&(t=ae,60===e.charCodeAt(ae)?(n="<",ae++):(n=u,0===de&&ge(z)),n!==u&&(oe=t,n="lt"),(t=n)===u&&(t=ae,62===e.charCodeAt(ae)?(n=">",ae++):(n=u,0===de&&ge(J)),n!==u&&(oe=t,n="gt"),t=n)));return t}())!==u){for(a=[],o=Be();o!==u;)a.push(o),o=Be();(o=Ce())!==u?(oe=t,s=n,c=i,t="cursor"===(l=o).type?{...l,suggestionTypes:["conjunction"]}:Ze("range",[s,c,l])):(ae=t,t=u)}else ae=t,t=u}else ae=t,t=u;var s,c,l;return t}())===u&&(t=function(){var t,n,r,i,a,o;if(t=ae,(n=we())!==u){for(r=[],i=Be();i!==u;)r.push(i),i=Be();if(58===e.charCodeAt(ae)?(i=s,ae++):(i=u,0===de&&ge(w)),i!==u){for(a=[],o=Be();o!==u;)a.push(o),o=Be();(o=Oe())!==u?(oe=t,c=n,t="cursor"===(l=o).type?{...l,fieldName:c.value,suggestionTypes:["value","conjunction"]}:l(c)):(ae=t,t=u)}else ae=t,t=u}else ae=t,t=u;var c,l;return t}())===u&&(t=function(){var e,t;e=ae,(t=Ee())!==u&&(oe=e,t=function(e){if("cursor"===e.type){const t=`${e.prefix}${e.suffix}`.trim();return{...e,fieldName:t,suggestionTypes:["field","operator","conjunction"]}}return e(Ke(null))}(t));return e=t}());return t}());return t}()),t}function we(){var e;return de++,e=Ce(),de--,e===u&&(u,0===de&&ge(F)),e}function Oe(){var t,n,r,i,a,o,s,c;if(t=ae,40===e.charCodeAt(ae)?(n="(",ae++):(n=u,0===de&&ge(j)),n!==u){for(r=[],i=Be();i!==u;)r.push(i),i=Be();(i=function(){var e,t,n,r,i;if(e=ae,(t=_e())!==u){if(n=[],r=ae,Se()!==u&&(i=_e())!==u?(oe=r,r=ne(0,i)):(ae=r,r=u),r!==u)for(;r!==u;)n.push(r),r=ae,Se()!==u&&(i=_e())!==u?(oe=r,r=ne(0,i)):(ae=r,r=u);else n=u;n!==u?(oe=e,e=function(e,t){const n=[e,...t],r=Ve&&n.find((e=>"cursor"===e.type));return r?{...r,suggestionTypes:["value"]}:e=>Ze("or",n.map((t=>t(e))))}(t,n)):(ae=e,e=u)}else ae=e,e=u;e===u&&(e=_e());return e}())!==u&&(a=Re())!==u?(41===e.charCodeAt(ae)?(o=")",ae++):(o=u,0===de&&ge(q)),o!==u?(oe=t,s=i,t="cursor"===(c=a).type?{...c,suggestionTypes:["conjunction"]}:s):(ae=t,t=u)):(ae=t,t=u)}else ae=t,t=u;return t===u&&(t=Ee()),t}function _e(){var e,t,n,r,i;if(e=ae,(t=Fe())!==u){if(n=[],r=ae,Te()!==u&&(i=Fe())!==u?(oe=r,r=ne(0,i)):(ae=r,r=u),r!==u)for(;r!==u;)n.push(r),r=ae,Te()!==u&&(i=Fe())!==u?(oe=r,r=ne(0,i)):(ae=r,r=u);else n=u;n!==u?(oe=e,e=function(e,t){const n=[e,...t],r=Ve&&n.find((e=>"cursor"===e.type));return r?{...r,suggestionTypes:["value"]}:e=>Ze("and",n.map((t=>t(e))))}(t,n)):(ae=e,e=u)}else ae=e,e=u;return e===u&&(e=Fe()),e}function Fe(){var e,t,n;return e=ae,Ne()!==u&&(t=Oe())!==u?(oe=e,e="cursor"===(n=t).type?{...list,suggestionTypes:["value"]}:e=>Ze("not",[n(e)])):(ae=e,e=u),e===u&&(e=Oe()),e}function Ee(){var e,t;return de++,e=ae,(t=Pe())!==u&&(oe=e,t=function(e){if("cursor"===e.type)return e;const t=Ke(!0);return n=>Ze("is",[n,e,t])}(t)),(e=t)===u&&(e=ae,(t=Qe())!==u&&(oe=e,t=re(t)),e=t),de--,e===u&&(t=u,0===de&&ge(E)),e}function Se(){var t,n,r,i,a;if(de++,t=ae,n=[],(r=Be())!==u)for(;r!==u;)n.push(r),r=Be();else n=u;if(n!==u)if("or"===e.substr(ae,2).toLowerCase()?(r=e.substr(ae,2),ae+=2):(r=u,0===de&&ge(T)),r!==u){if(i=[],(a=Be())!==u)for(;a!==u;)i.push(a),a=Be();else i=u;i!==u?t=n=[n,r,i]:(ae=t,t=u)}else ae=t,t=u;else ae=t,t=u;return de--,t===u&&(n=u,0===de&&ge(S)),t}function Te(){var t,n,r,i,a;if(de++,t=ae,n=[],(r=Be())!==u)for(;r!==u;)n.push(r),r=Be();else n=u;if(n!==u)if("and"===e.substr(ae,3).toLowerCase()?(r=e.substr(ae,3),ae+=3):(r=u,0===de&&ge(C)),r!==u){if(i=[],(a=Be())!==u)for(;a!==u;)i.push(a),a=Be();else i=u;i!==u?t=n=[n,r,i]:(ae=t,t=u)}else ae=t,t=u;else ae=t,t=u;return de--,t===u&&(n=u,0===de&&ge(N)),t}function Ne(){var t,n,r,i;if(de++,t=ae,"not"===e.substr(ae,3).toLowerCase()?(n=e.substr(ae,3),ae+=3):(n=u,0===de&&ge(L)),n!==u){if(r=[],(i=Be())!==u)for(;i!==u;)r.push(i),i=Be();else r=u;r!==u?t=n=[n,r]:(ae=t,t=u)}else ae=t,t=u;return de--,t===u&&(n=u,0===de&&ge(P)),t}function Ce(){var e;return de++,(e=Pe())===u&&(e=Qe()),de--,e===u&&(u,0===de&&ge(Q)),e}function Pe(){var t,n,r,i,a,o,s;if(t=ae,oe=ae,(n=(n=ue())?void 0:u)!==u)if(34===e.charCodeAt(ae)?(r=f,ae++):(r=u,0===de&&ge(I)),r!==u){for(i=[],a=Le();a!==u;)i.push(a),a=Le();if((a=We())!==u){for(o=[],s=Le();s!==u;)o.push(s),s=Le();34===e.charCodeAt(ae)?(s=f,ae++):(s=u,0===de&&ge(I)),s!==u?(oe=t,t=ie(i,a,o)):(ae=t,t=u)}else ae=t,t=u}else ae=t,t=u;else ae=t,t=u;if(t===u)if(t=ae,34===e.charCodeAt(ae)?(n=f,ae++):(n=u,0===de&&ge(I)),n!==u){for(r=[],i=Le();i!==u;)r.push(i),i=Le();34===e.charCodeAt(ae)?(i=f,ae++):(i=u,0===de&&ge(I)),i!==u?(oe=t,t=Ke(r.join(""))):(ae=t,t=u)}else ae=t,t=u;return t}function Le(){var t,n,r;return(t=ke())===u&&(t=$e())===u&&(t=ae,92===e.charCodeAt(ae)?(n=p,ae++):(n=u,0===de&&ge(R)),n!==u?(g.test(e.charAt(ae))?(r=e.charAt(ae),ae++):(r=u,0===de&&ge(k)),r!==u?(oe=t,t=r):(ae=t,t=u)):(ae=t,t=u),t===u&&(t=ae,n=ae,de++,r=We(),de--,r===u?n=void 0:(ae=n,n=u),n!==u?(y.test(e.charAt(ae))?(r=e.charAt(ae),ae++):(r=u,0===de&&ge(M)),r!==u?(oe=t,t=r):(ae=t,t=u)):(ae=t,t=u))),t}function Qe(){var e,t,n,r,i,a;if(e=ae,oe=ae,(t=(t=ue())?void 0:u)!==u){for(n=[],r=Ie();r!==u;)n.push(r),r=Ie();if((r=We())!==u){for(i=[],a=Ie();a!==u;)i.push(a),a=Ie();oe=e,e=ie(n,r,i)}else ae=e,e=u}else ae=e,e=u;if(e===u){if(e=ae,t=[],(n=Ie())!==u)for(;n!==u;)t.push(n),n=Ie();else t=u;t!==u&&(oe=e,t=function(e){const t=e.join("").trim();return"null"===t?Ke(null):"true"===t?Ke(!0):"false"===t?Ke(!1):e.includes(Je)?ze(t):Ke(t)}(t)),e=t}return e}function Ie(){var t,n,r,i,a;return(t=ke())===u&&(t=function(){var t,n,r;t=ae,92===e.charCodeAt(ae)?(n=p,ae++):(n=u,0===de&&ge(R));n!==u&&(r=Me())!==u?(oe=t,t=r):(ae=t,t=u);return t}())===u&&(t=$e())===u&&(t=function(){var t,n,r;t=ae,92===e.charCodeAt(ae)?(n=p,ae++):(n=u,0===de&&ge(R));n!==u?(e.substr(ae,2).toLowerCase()===c?(r=e.substr(ae,2),ae+=2):(r=u,0===de&&ge(T)),r===u&&(e.substr(ae,3).toLowerCase()===l?(r=e.substr(ae,3),ae+=3):(r=u,0===de&&ge(C)),r===u&&(e.substr(ae,3).toLowerCase()===d?(r=e.substr(ae,3),ae+=3):(r=u,0===de&&ge(L)))),r!==u?(oe=t,t=r):(ae=t,t=u)):(ae=t,t=u);return t}())===u&&(t=function(){var t,n;t=ae,42===e.charCodeAt(ae)?(n="*",ae++):(n=u,0===de&&ge(U));n!==u&&(oe=t,n=Je);return t=n}())===u&&(t=ae,n=ae,de++,r=Me(),de--,r===u?n=void 0:(ae=n,n=u),n!==u?(r=ae,de++,i=function(){var e;(e=Se())===u&&(e=Te())===u&&(e=Ne());return e}(),de--,i===u?r=void 0:(ae=r,r=u),r!==u?(i=ae,de++,a=We(),de--,a===u?i=void 0:(ae=i,i=u),i!==u?(e.length>ae?(a=e.charAt(ae),ae++):(a=u,0===de&&ge($)),a!==u?(oe=t,t=a):(ae=t,t=u)):(ae=t,t=u)):(ae=t,t=u)):(ae=t,t=u)),t}function Re(){var e,t,n,r,i,a;if(e=ae,oe=ae,(t=(t=ue())?void 0:u)!==u){for(n=[],r=Be();r!==u;)n.push(r),r=Be();if((r=We())!==u){for(i=[],a=Be();a!==u;)i.push(a),a=Be();oe=e,e=ie(n,r,i)}else ae=e,e=u}else ae=e,e=u;if(e===u)for(e=[],t=Be();t!==u;)e.push(t),t=Be();return e}function ke(){var t,n;return t=ae,"\\t"===e.substr(ae,2)?(n="\\t",ae+=2):(n=u,0===de&&ge(B)),n!==u&&(oe=t,n="\t"),(t=n)===u&&(t=ae,"\\r"===e.substr(ae,2)?(n="\\r",ae+=2):(n=u,0===de&&ge(W)),n!==u&&(oe=t,n="\r"),(t=n)===u&&(t=ae,"\\n"===e.substr(ae,2)?(n="\\n",ae+=2):(n=u,0===de&&ge(V)),n!==u&&(oe=t,n="\n"),t=n)),t}function Me(){var t;return b.test(e.charAt(ae))?(t=e.charAt(ae),ae++):(t=u,0===de&&ge(D)),t}function $e(){var t,n,r;return t=ae,92===e.charCodeAt(ae)?(n=p,ae++):(n=u,0===de&&ge(R)),n!==u&&(r=function(){var t,n,r,i,a,o,s,c;t=ae,117===e.charCodeAt(ae)?(n="u",ae++):(n=u,0===de&&ge(G));n!==u?(r=ae,i=ae,(a=Ue())!==u&&(o=Ue())!==u&&(s=Ue())!==u&&(c=Ue())!==u?i=a=[a,o,s,c]:(ae=i,i=u),(r=i!==u?e.substring(r,ae):i)!==u?(oe=t,l=r,t=String.fromCharCode(parseInt(l,16))):(ae=t,t=u)):(ae=t,t=u);var l;return t}())!==u?(oe=t,t=r):(ae=t,t=u),t}function Ue(){var t;return x.test(e.charAt(ae))?(t=e.charAt(ae),ae++):(t=u,0===de&&ge(H)),t}function Be(){var t;return de++,A.test(e.charAt(ae))?(t=e.charAt(ae),ae++):(t=u,0===de&&ge(Y)),de--,t===u&&(u,0===de&&ge(X)),t}function We(){var t,n;return t=ae,oe=ae,(ue()?void 0:u)!==u?(e.substr(ae,14)===m?(n=m,ae+=14):(n=u,0===de&&ge(ee)),n!==u?(oe=t,t=De):(ae=t,t=u)):(ae=t,t=u),t}const{parseCursor:Ve,cursorSymbol:De,allowLeadingWildcards:Ge=!0,helpers:{nodeTypes:He}}=t,Ze=He.function.buildNodeWithArgumentNodes,Ke=He.literal.buildNode,ze=He.wildcard.buildNode,{wildcardSymbol:Je}=He.wildcard;if((n=o())!==u&&ae===e.length)return n;throw n!==u&&ae<e.length&&ge({type:"end"}),ye(le,ce<e.length?e.charAt(ce):null,ce<e.length?me(ce,ce+1):me(ce,ce))}}}}]);
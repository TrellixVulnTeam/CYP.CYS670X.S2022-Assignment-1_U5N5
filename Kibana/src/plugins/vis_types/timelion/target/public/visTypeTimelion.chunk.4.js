(window.visTypeTimelion_bundle_jsonpfunction=window.visTypeTimelion_bundle_jsonpfunction||[]).push([[4],{27:function(t,n,r){"use strict";r.r(n),r.d(n,"parseTimelionExpression",(function(){return o}));var e=r(57);const o=t=>Object(e.parse)(t)},57:function(t,n,r){"use strict";function e(t,n,r,o){var u=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(u,e.prototype),u.expected=n,u.found=r,u.location=o,u.name="SyntaxError",u}function o(t,n,r){return r=r||" ",t.length>n?t:(n-=t.length,t+(r+=r.repeat(n)).slice(0,n))}!function(t,n){function r(){this.constructor=t}r.prototype=n.prototype,t.prototype=new r}(e,Error),e.prototype.format=function(t){var n="Error: "+this.message;if(this.location){var r,e=null;for(r=0;r<t.length;r++)if(t[r].source===this.location.source){e=t[r].text.split(/\r\n|\n|\r/g);break}var u=this.location.start,c=this.location.source+":"+u.line+":"+u.column;if(e){var i=this.location.end,a=o("",u.line.toString().length),l=e[u.line-1],s=u.line===i.line?i.column:l.length+1;n+="\n --\x3e "+c+"\n"+a+" |\n"+u.line+" | "+l+"\n"+a+" | "+o("",u.column-1)+o("",s-u.column,"^")}else n+="\n at "+c}return n},e.buildMessage=function(t,n){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var n=t.parts.map((function(t){return Array.isArray(t)?u(t[0])+"-"+u(t[1]):u(t)}));return"["+(t.inverted?"^":"")+n+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+e(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+e(t)}))}function u(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+e(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+e(t)}))}function c(t){return r[t.type](t)}return"Expected "+function(t){var n,r,e=t.map(c);if(e.sort(),e.length>0){for(n=1,r=1;n<e.length;n++)e[n-1]!==e[n]&&(e[r]=e[n],r++);e.length=r}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(n)+" found."},t.exports={SyntaxError:e,parse:function(t,n){var r,o,u={},c=(n=void 0!==n?n:{}).grammarSource,i={start:pt},a=pt,l=",",s="=",f="@",h='"',p="'",A="true",d="false",g="null",v="\\",m=/^[a-zA-Z]/,C=/^[.a-zA-Z0-9_\-]/,y=/^[^()"',= \t]/,x=/^[ \t\r\n]/,b=/^[^"]/,j=/^[^']/,w=/^[0-9]/,F=ct(",",!1),E=ct("=",!1),O=ct("$",!1),S=it([["a","z"],["A","Z"]],!1,!1),N=it([".",["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),_=at("function"),T=ct(".",!1),z=ct("(",!1),R=ct(")",!1),Z=ct("@",!1),$=ct(":",!1),J=at("literal"),M=ct('"',!1),P=ct("'",!1),k=ct("true",!1),I=ct("false",!1),L=ct("null",!1),U=it(["(",")",'"',"'",",","="," ","\t"],!0,!1),V=it([" ","\t","\r","\n"],!1,!1),q=ct("\\",!1),B=it(['"'],!0,!1),D=it(["'"],!0,!1),G=it([["0","9"]],!1,!1),H=function(t,n){return n},K=function(t,n){return n},Q=function(t){return t.join("")},W=0,X=0,Y=[{line:1,column:1}],tt=0,nt=[],rt=0;if("startRule"in n){if(!(n.startRule in i))throw new Error("Can't start parsing from rule \""+n.startRule+'".');a=i[n.startRule]}function et(){return t.substring(X,W)}function ot(){return st(X,W)}function ut(t,n){throw function(t,n){return new e(t,null,null,n)}(t,n=void 0!==n?n:st(X,W))}function ct(t,n){return{type:"literal",text:t,ignoreCase:n}}function it(t,n,r){return{type:"class",parts:t,inverted:n,ignoreCase:r}}function at(t){return{type:"other",description:t}}function lt(n){var r,e=Y[n];if(e)return e;for(r=n-1;!Y[r];)r--;for(e={line:(e=Y[r]).line,column:e.column};r<n;)10===t.charCodeAt(r)?(e.line++,e.column=1):e.column++,r++;return Y[n]=e,e}function st(t,n){var r=lt(t),e=lt(n);return{source:c,start:{offset:t,line:r.line,column:r.column},end:{offset:n,line:e.line,column:e.column}}}function ft(t){W<tt||(W>tt&&(tt=W,nt=[]),nt.push(t))}function ht(t,n,r){return new e(e.buildMessage(t,n),t,n,r)}function pt(){var t,n;return t=W,jt()===u&&null,(n=Ct())!==u?(X=t,t={tree:n.filter((function(t){return null!=t})),functions:Nt,args:_t,variables:Tt}):(W=t,t=u),t}function At(){var n,r,e,c,i,a,l;return n=W,(r=xt())!==u?((e=jt())===u&&(e=null),61===t.charCodeAt(W)?(c=s,W++):(c=u,0===rt&&ft(E)),c!==u?(jt()===u&&null,(i=dt())!==u?(X=n,a={type:"namedArg",name:r,value:i,location:Ot(ot()),text:et()},St.push(a),n=a):(W=n,n=u)):(W=n,n=u)):(W=n,n=u),n===u&&(n=W,(r=jt())===u&&(r=null),61===t.charCodeAt(W)?(e=s,W++):(e=u,0===rt&&ft(E)),e!==u?((c=jt())===u&&(c=null),dt()===u&&null,X=n,l={type:"incompleteArgument",currentArgs:St,currentFunction:o,location:Ot(ot()),text:et()},n=void ut(JSON.stringify(l))):(W=n,n=u),n===u&&(n=W,(r=xt())!==u?((e=jt())===u&&(e=null),61===t.charCodeAt(W)?(c=s,W++):(c=u,0===rt&&ft(E)),c!==u?(X=n,n=function(t){var n={type:"incompleteArgumentValue",currentArgs:St,currentFunction:o,name:t,location:Ot(ot()),text:et()};ut(JSON.stringify(n))}(r)):(W=n,n=u)):(W=n,n=u),n===u&&(n=W,(r=dt())!==u&&(X=n,r=r),n=r))),n}function dt(){var n,r,e;return(n=gt())===u&&(n=mt())===u&&(n=W,(r=function(){var n,r,e,o;rt++,n=W,34===t.charCodeAt(W)?(r=h,W++):(r=u,0===rt&&ft(M));if(r!==u){for(e=[],o=wt();o!==u;)e.push(o),o=wt();34===t.charCodeAt(W)?(o=h,W++):(o=u,0===rt&&ft(M)),o!==u?(X=n,n=Q(e)):(W=n,n=u)}else W=n,n=u;if(n===u){if(n=W,39===t.charCodeAt(W)?(r=p,W++):(r=u,0===rt&&ft(P)),r!==u){for(e=[],o=Ft();o!==u;)e.push(o),o=Ft();39===t.charCodeAt(W)?(o=p,W++):(o=u,0===rt&&ft(P)),o!==u?(X=n,n=Q(e)):(W=n,n=u)}else W=n,n=u;if(n===u&&(n=W,t.substr(W,4)===A?(r=A,W+=4):(r=u,0===rt&&ft(k)),r!==u&&(X=n,r=!0),(n=r)===u&&(n=W,t.substr(W,5)===d?(r=d,W+=5):(r=u,0===rt&&ft(I)),r!==u&&(X=n,r=!1),(n=r)===u&&(n=W,t.substr(W,4)===g?(r=g,W+=4):(r=u,0===rt&&ft(L)),r!==u&&(X=n,r=null),(n=r)===u)))){if(n=W,r=[],y.test(t.charAt(W))?(e=t.charAt(W),W++):(e=u,0===rt&&ft(U)),e!==u)for(;e!==u;)r.push(e),y.test(t.charAt(W))?(e=t.charAt(W),W++):(e=u,0===rt&&ft(U));else r=u;r!==u&&(X=n,c=r.join(""),r=isNaN(Number(c))?c:Number(c)),n=r}}var c;rt--,n===u&&(r=u,0===rt&&ft(J));return n}())!==u&&(X=n,(e=function(t){return{type:"literal",value:t}}(r)).location=Ot(ot()),e.text=et(),r=e),n=r),n}function gt(){var n,r,e;return n=W,36===t.charCodeAt(W)?(r="$",W++):(r=u,0===rt&&ft(O)),r!==u&&(e=xt())!==u?(X=n,n=function(t){if(Tt[t])return Tt[t];ut("$"+t+" is not defined")}(e)):(W=n,n=u),n}function vt(){var n,r,e,o,c,i;return n=W,36===t.charCodeAt(W)?(r="$",W++):(r=u,0===rt&&ft(O)),r!==u&&(e=xt())!==u?(jt()===u&&null,61===t.charCodeAt(W)?(o=s,W++):(o=u,0===rt&&ft(E)),o!==u?(jt()===u&&null,(c=dt())!==u?(X=n,i=c,n=void(Tt[e]=i)):(W=n,n=u)):(W=n,n=u)):(W=n,n=u),n}function mt(){var n;return(n=vt())===u&&(n=gt())===u&&(n=function(){var n,r,e,o,c,i;n=W,40===t.charCodeAt(W)?(r="(",W++):(r=u,0===rt&&ft(z));if(r!==u)if(jt()===u&&null,(e=Ct())!==u)if(jt()===u&&null,41===t.charCodeAt(W)?(o=")",W++):(o=u,0===rt&&ft(R)),o!==u){for(c=[],i=bt();i!==u;)c.push(i),i=bt();X=n,n=function(t,n){var r={type:"chainList",list:t};return r.label=et(),{type:"chain",chain:[r].concat(n)}}(e,c)}else W=n,n=u;else W=n,n=u;else W=n,n=u;return n}())===u&&(n=function(){var t,n,r,e;if(t=W,(n=bt())!==u){for(jt()===u&&null,r=[],e=bt();e!==u;)r.push(e),e=bt();X=t,t={type:"chain",chain:[n].concat(r)}}else W=t,t=u;return t}())===u&&(n=function(){var n,r,e,o,c;n=W,64===t.charCodeAt(W)?(r=f,W++):(r=u,0===rt&&ft(Z));r!==u&&(e=Et())!==u?(58===t.charCodeAt(W)?(o=":",W++):(o=u,0===rt&&ft($)),o!==u&&(c=Et())!==u?(X=n,n={type:"reference",plot:e,series:c}):(W=n,n=u)):(W=n,n=u);n===u&&(n=W,64===t.charCodeAt(W)?(r=f,W++):(r=u,0===rt&&ft(Z)),r!==u&&(e=Et())!==u?(X=n,n=function(t){return{type:"reference",plot:t}}(e)):(W=n,n=u));return n}()),n}function Ct(){var n,r,e,o,c,i;if(n=W,(r=mt())!==u){for(e=[],o=W,jt()===u&&null,44===t.charCodeAt(W)?(c=l,W++):(c=u,0===rt&&ft(F)),c!==u?(jt()===u&&null,(i=mt())!==u?(X=o,o=K(0,i)):(W=o,o=u)):(W=o,o=u);o!==u;)e.push(o),o=W,jt()===u&&null,44===t.charCodeAt(W)?(c=l,W++):(c=u,0===rt&&ft(F)),c!==u?(jt()===u&&null,(i=mt())!==u?(X=o,o=K(0,i)):(W=o,o=u)):(W=o,o=u);44===t.charCodeAt(W)?(o=l,W++):(o=u,0===rt&&ft(F)),o===u&&(o=null),X=n,n=[r].concat(e)}else W=n,n=u;return n}function yt(){var n,r,e,c,i;if(n=W,r=[],m.test(t.charAt(W))?(e=t.charAt(W),W++):(e=u,0===rt&&ft(S)),e!==u)for(;e!==u;)r.push(e),m.test(t.charAt(W))?(e=t.charAt(W),W++):(e=u,0===rt&&ft(S));else r=u;if(r!==u){for(e=[],C.test(t.charAt(W))?(c=t.charAt(W),W++):(c=u,0===rt&&ft(N));c!==u;)e.push(c),C.test(t.charAt(W))?(c=t.charAt(W),W++):(c=u,0===rt&&ft(N));X=n,i=e,o=r.join("")+i.join(""),St=[],n=o}else W=n,n=u;return n}function xt(){var n,r,e,o,c;if(n=W,r=[],m.test(t.charAt(W))?(e=t.charAt(W),W++):(e=u,0===rt&&ft(S)),e!==u)for(;e!==u;)r.push(e),m.test(t.charAt(W))?(e=t.charAt(W),W++):(e=u,0===rt&&ft(S));else r=u;if(r!==u){for(e=[],C.test(t.charAt(W))?(o=t.charAt(W),W++):(o=u,0===rt&&ft(N));o!==u;)e.push(o),C.test(t.charAt(W))?(o=t.charAt(W),W++):(o=u,0===rt&&ft(N));X=n,c=e,n=r.join("")+c.join("")}else W=n,n=u;return n}function bt(){var n,r,e,o,c,i,a,s,f,h;return rt++,n=W,(r=jt())===u&&(r=null),46===t.charCodeAt(W)?(e=".",W++):(e=u,0===rt&&ft(T)),e!==u&&(o=yt())!==u?(jt()===u&&null,40===t.charCodeAt(W)?(c="(",W++):(c=u,0===rt&&ft(z)),c!==u?(jt()===u&&null,(i=function(){var n,r,e,o,c,i,a;if(n=W,(r=At())!==u){for(e=[],o=W,(c=jt())===u&&(c=null),44===t.charCodeAt(W)?(i=l,W++):(i=u,0===rt&&ft(F)),i!==u?(jt(),(a=At())!==u?(X=o,o=H(0,a)):(W=o,o=u)):(W=o,o=u);o!==u;)e.push(o),o=W,(c=jt())===u&&(c=null),44===t.charCodeAt(W)?(i=l,W++):(i=u,0===rt&&ft(F)),i!==u?(jt(),(a=At())!==u?(X=o,o=H(0,a)):(W=o,o=u)):(W=o,o=u);(o=jt())===u&&(o=null),44===t.charCodeAt(W)?(c=l,W++):(c=u,0===rt&&ft(F)),c===u&&(c=null),X=n,n=[r].concat(e)}else W=n,n=u;return n}())===u&&(i=null),jt()===u&&null,41===t.charCodeAt(W)?(a=")",W++):(a=u,0===rt&&ft(R)),a!==u?(jt()===u&&null,X=n,(f={type:"function",function:s=o,arguments:i||[],location:Ot(ot()),text:et()}).arguments.forEach((function(t){t.function=s,_t.push(t)})),Nt.push(f),n=f):(W=n,n=u)):(W=n,n=u)):(W=n,n=u),n===u&&(n=W,46===t.charCodeAt(W)?(r=".",W++):(r=u,0===rt&&ft(T)),r!==u?((e=yt())===u&&(e=null),X=n,h={type:"incompleteFunction",function:e,location:Ot(ot()),text:et()},n=void ut(JSON.stringify(h))):(W=n,n=u)),rt--,n===u&&(r=u,0===rt&&ft(_)),n}function jt(){var n,r;if(n=[],x.test(t.charAt(W))?(r=t.charAt(W),W++):(r=u,0===rt&&ft(V)),r!==u)for(;r!==u;)n.push(r),x.test(t.charAt(W))?(r=t.charAt(W),W++):(r=u,0===rt&&ft(V));else n=u;return n}function wt(){var n,r,e;return n=W,92===t.charCodeAt(W)?(r=v,W++):(r=u,0===rt&&ft(q)),r!==u?(34===t.charCodeAt(W)?(e=h,W++):(e=u,0===rt&&ft(M)),e===u&&(92===t.charCodeAt(W)?(e=v,W++):(e=u,0===rt&&ft(q))),e!==u?(X=n,n=e):(W=n,n=u)):(W=n,n=u),n===u&&(b.test(t.charAt(W))?(n=t.charAt(W),W++):(n=u,0===rt&&ft(B))),n}function Ft(){var n,r,e;return n=W,92===t.charCodeAt(W)?(r=v,W++):(r=u,0===rt&&ft(q)),r!==u?(39===t.charCodeAt(W)?(e=p,W++):(e=u,0===rt&&ft(P)),e===u&&(92===t.charCodeAt(W)?(e=v,W++):(e=u,0===rt&&ft(q))),e!==u?(X=n,n=e):(W=n,n=u)):(W=n,n=u),n===u&&(j.test(t.charAt(W))?(n=t.charAt(W),W++):(n=u,0===rt&&ft(D))),n}function Et(){var n,r,e;if(n=W,r=[],w.test(t.charAt(W))?(e=t.charAt(W),W++):(e=u,0===rt&&ft(G)),e!==u)for(;e!==u;)r.push(e),w.test(t.charAt(W))?(e=t.charAt(W),W++):(e=u,0===rt&&ft(G));else r=u;return r!==u&&(X=n,r=parseInt(r.join(""))),n=r}function Ot(t){return{min:t.start.offset,max:t.end.offset}}var St=[],Nt=[],_t=[],Tt={};if((r=a())!==u&&W===t.length)return r;throw r!==u&&W<t.length&&ft({type:"end"}),ht(nt,tt<t.length?t.charAt(tt):null,tt<t.length?st(tt,tt+1):st(tt,tt))}}}}]);
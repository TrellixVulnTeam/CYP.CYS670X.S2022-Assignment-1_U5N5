(window.visTypeTimelion_bundle_jsonpfunction=window.visTypeTimelion_bundle_jsonpfunction||[]).push([[0],Array(28).concat([function(e,t,n){e.exports=n(15)(2455)},function(e,t,n){e.exports=n(15)(2)},function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function u(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],c=t.base?i[0]+t.base:i[0],s=n[c]||0,l="".concat(c," ").concat(s);n[c]=s+1;var f=u(l),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:l,updater:g(d,t),references:1}),r.push(l)}return r}function s(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,f=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function h(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,b=0;function g(e,t){var n,r,o;if(t.singleton){var i=b++;n=p||(p=s(t)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0)}else n=s(t),r=h.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=u(n[r]);a[o].references--}for(var i=c(e,t),s=0;s<n.length;s++){var l=u(n[s]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(c," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,u,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){e.exports=n(15)(8)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=["#01A4A4","#C66","#D0D102","#616161","#00A1CB","#32742C","#F18D05","#113F8C","#61AE24","#D70060"]},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(3),o=n(22),i=n.n(o);const a={};[["ms","milliseconds","millisecond"],["s","seconds","second","sec"],["m","minutes","minute","min"],["h","hours","hour"],["d","days","day"],["w","weeks","week"],["M","months","month"],["quarter"],["y","years","year"]].forEach((e=>{const t=i.a.normalizeUnits(e[0]),n=i.a.duration(1,t).asMilliseconds();[].concat(t,e).forEach((e=>{a[e]=n}))}));const u=new RegExp("^(\\d+(?:\\.\\d*)?)?\\s*("+Object(r.keys)(a).join("|")+")$");function c(e){const t=e.match(u);if(t){if("M"===t[2]&&"1"!==t[1])throw new Error("Invalid interval. 1M is only valid monthly interval.");return parseFloat(t[1]||"1")*a[t[2]]}}function s(e,t,n,r,o){if("auto"!==r)return r;const i=function(e){switch(!0){case e<=500:return"100ms";case e<=5e3:return"1s";case e<=7500:return"5s";case e<=15e3:return"10s";case e<=45e3:return"30s";case e<=18e4:return"1m";case e<=45e4:return"5m";case e<=12e5:return"10m";case e<=27e5:return"30m";case e<=72e5:return"1h";case e<=216e5:return"3h";case e<=864e5:return"12h";case e<=6048e5:return"24h";case e<=18144e5:return"1w";case e<36288e5:return"30d";default:return"1y"}}((t-e)/n),a=c(i),u=c(o);return void 0!==a&&void 0!==u&&a<u?o:i}const l="MMMM Do YYYY, HH:mm:ss.SSS"},function(e,t,n){e.exports=n(15)(21)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(22),o=n.n(r),i=n(5);function a(e){return t=>function(t){const n=t.match(/(\d+)(ms|s|m|h|d|w|M|y|)/);if(null===n||null===n[1]||null===n[2])throw new Error(i.i18n.translate("timelion.panels.timechart.unknownIntervalErrorMessage",{defaultMessage:"Unknown interval"}));const r=o.a.duration(Number(n[1]),n[2]),a=e.get("dateFormat:scaled");for(let e=a.length-1;e>=0;e--){const t=a[e];if(!t[0]||r>=o.a.duration(t[0]))return t[1]}return e.get("dateFormat")}(t)}},function(e,t,n){e.exports=n(15)(43)},function(e,t,n){"use strict";function r(e,t,n,o){var i=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(i,r.prototype),i.expected=t,i.found=n,i.location=o,i.name="SyntaxError",i}function o(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,a=this.location.source+":"+i.line+":"+i.column;if(r){var u=this.location.end,c=o("",i.line.toString().length),s=r[i.line-1],l=i.line===u.line?u.column:s.length+1;t+="\n --\x3e "+a+"\n"+c+" |\n"+i.line+" | "+s+"\n"+c+" | "+o("",i.column-1)+o("",l-i.column,"^")}else t+="\n at "+a}return t},r.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function a(e){return n[e.type](e)}return"Expected "+function(e){var t,n,r=e.map(a);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){var n,o={},i=(t=void 0!==t?t:{}).grammarSource,a={start:ye,Literal:Te},u=ye,c=":",s="or",l="and",f="not",d='"',h="\\",p="<=",b=">=",g="@kuery-cursor@",v=/^[\\"]/,m=/^[^"]/,y=/^[\\():<>"*{}]/,w=/^[0-9a-f]/i,x=/^[ \t\r\n\xA0]/,j=de("(",!1),k=de(")",!1),_=de(":",!1),O=de("{",!1),N=de("}",!1),A=pe("fieldName"),M=pe("value"),S=pe("OR"),C=de("or",!0),E=pe("AND"),T=de("and",!0),q=pe("NOT"),L=de("not",!0),P=pe("literal"),I=de('"',!1),B=de("\\",!1),F=he(["\\",'"'],!1,!1),R=he(['"'],!0,!1),U={type:"any"},D=de("*",!1),Q=de("\\t",!1),$=de("\\r",!1),G=de("\\n",!1),z=he(["\\","(",")",":","<",">",'"',"*","{","}"],!1,!1),W=de("u",!1),Y=he([["0","9"],["a","f"]],!1,!0),H=de("<=",!1),V=de(">=",!1),Z=de("<",!1),K=de(">",!1),X=pe("whitespace"),J=he([" ","\t","\r","\n","Â "],!1,!1),ee=de("@kuery-cursor@",!1),te=function(e,t){return t},ne=function(e,t){return t},re=function(e){if("cursor"===e.type)return e;!We&&"wildcard"===e.type&&Ye.wildcard.hasLeadingWildcard(e)&&function(e,t){throw t=void 0!==t?t:ge(ue,ae),function(e,t){return new r(e,null,null,t)}(e,t)}("Leading wildcards are disabled. See query:allowLeadingWildcards in Advanced Settings.");const t=Ve(!1);return n=>He("is",[n,e,t])},oe=function(){return Ge},ie=function(t,n,r){const{start:o,end:i}=ge(ue,ae);return{type:"cursor",start:o.offset,end:i.offset-n.length,prefix:t.join(""),suffix:r.join(""),text:e.substring(ue,ae).replace(n,"")}},ae=0,ue=0,ce=[{line:1,column:1}],se=0,le=[],fe=0;if("startRule"in t){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');u=a[t.startRule]}function de(e,t){return{type:"literal",text:e,ignoreCase:t}}function he(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function pe(e){return{type:"other",description:e}}function be(t){var n,r=ce[t];if(r)return r;for(n=t-1;!ce[n];)n--;for(r={line:(r=ce[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return ce[t]=r,r}function ge(e,t){var n=be(e),r=be(t);return{source:i,start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function ve(e){ae<se||(ae>se&&(se=ae,le=[]),le.push(e))}function me(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function ye(){var e,t,n,r,i,a;for(e=ae,t=[],n=Qe();n!==o;)t.push(n),n=Qe();return(n=we())===o&&(n=null),(r=Be())!==o?(ue=e,i=n,e="cursor"===(a=r).type?{...a,suggestionTypes:["conjunction"]}:null!==i?i:Ye.function.buildNode("is","*","*")):(ae=e,e=o),e}function we(){var e,t,n,r,i;if(e=ae,(t=xe())!==o){if(n=[],r=ae,Se()!==o&&(i=xe())!==o?(ue=r,r=te(0,i)):(ae=r,r=o),r!==o)for(;r!==o;)n.push(r),r=ae,Se()!==o&&(i=xe())!==o?(ue=r,r=te(0,i)):(ae=r,r=o);else n=o;n!==o?(ue=e,e=function(e,t){const n=[e,...t];return Ge&&n.find((e=>"cursor"===e.type))||He("or",n)}(t,n)):(ae=e,e=o)}else ae=e,e=o;return e===o&&(e=xe()),e}function xe(){var e,t,n,r,i;if(e=ae,(t=je())!==o){if(n=[],r=ae,Ce()!==o&&(i=je())!==o?(ue=r,r=te(0,i)):(ae=r,r=o),r!==o)for(;r!==o;)n.push(r),r=ae,Ce()!==o&&(i=je())!==o?(ue=r,r=te(0,i)):(ae=r,r=o);else n=o;n!==o?(ue=e,e=function(e,t){const n=[e,...t];return Ge&&n.find((e=>"cursor"===e.type))||He("and",n)}(t,n)):(ae=e,e=o)}else ae=e,e=o;return e===o&&(e=je()),e}function je(){var e,t,n;return e=ae,Ee()!==o&&(t=ke())!==o?(ue=e,e="cursor"===(n=t).type?n:He("not",[n])):(ae=e,e=o),e===o&&(e=ke()),e}function ke(){var t,n,r,i,a,u,s,l;if(t=ae,40===e.charCodeAt(ae)?(n="(",ae++):(n=o,0===fe&&ve(j)),n!==o){for(r=[],i=Qe();i!==o;)r.push(i),i=Qe();(i=we())!==o&&(a=Be())!==o?(41===e.charCodeAt(ae)?(u=")",ae++):(u=o,0===fe&&ve(k)),u!==o?(ue=t,s=i,t="cursor"===(l=a).type?{...l,suggestionTypes:["conjunction"]}:s):(ae=t,t=o)):(ae=t,t=o)}else ae=t,t=o;return t===o&&(t=function(){var t,n,r,i,a,u,s,l,f,d;if(t=ae,(n=_e())!==o){for(r=[],i=Qe();i!==o;)r.push(i),i=Qe();if(58===e.charCodeAt(ae)?(i=":",ae++):(i=o,0===fe&&ve(_)),i!==o){for(a=[],u=Qe();u!==o;)a.push(u),u=Qe();if(123===e.charCodeAt(ae)?(u="{",ae++):(u=o,0===fe&&ve(O)),u!==o){for(s=[],l=Qe();l!==o;)s.push(l),l=Qe();(l=we())!==o&&(f=Be())!==o?(125===e.charCodeAt(ae)?(d="}",ae++):(d=o,0===fe&&ve(N)),d!==o?(ue=t,t=function(e,t,n){return"cursor"===t.type?{...t,nestedPath:t.nestedPath?`${e.value}.${t.nestedPath}`:e.value}:"cursor"===n.type?{...n,suggestionTypes:["conjunction"]}:He("nested",[e,t])}(n,l,f)):(ae=t,t=o)):(ae=t,t=o)}else ae=t,t=o}else ae=t,t=o}else ae=t,t=o;t===o&&(t=function(){var t;(t=function(){var t,n,r,i,a,u;if(t=ae,(n=_e())!==o){for(r=[],i=Qe();i!==o;)r.push(i),i=Qe();if((i=function(){var t,n;t=ae,e.substr(ae,2)===p?(n=p,ae+=2):(n=o,0===fe&&ve(H));n!==o&&(ue=t,n="lte");(t=n)===o&&(t=ae,e.substr(ae,2)===b?(n=b,ae+=2):(n=o,0===fe&&ve(V)),n!==o&&(ue=t,n="gte"),(t=n)===o&&(t=ae,60===e.charCodeAt(ae)?(n="<",ae++):(n=o,0===fe&&ve(Z)),n!==o&&(ue=t,n="lt"),(t=n)===o&&(t=ae,62===e.charCodeAt(ae)?(n=">",ae++):(n=o,0===fe&&ve(K)),n!==o&&(ue=t,n="gt"),t=n)));return t}())!==o){for(a=[],u=Qe();u!==o;)a.push(u),u=Qe();(u=Te())!==o?(ue=t,c=n,s=i,t="cursor"===(l=u).type?{...l,suggestionTypes:["conjunction"]}:He("range",[c,s,l])):(ae=t,t=o)}else ae=t,t=o}else ae=t,t=o;var c,s,l;return t}())===o&&(t=function(){var t,n,r,i,a,u;if(t=ae,(n=_e())!==o){for(r=[],i=Qe();i!==o;)r.push(i),i=Qe();if(58===e.charCodeAt(ae)?(i=c,ae++):(i=o,0===fe&&ve(_)),i!==o){for(a=[],u=Qe();u!==o;)a.push(u),u=Qe();(u=Oe())!==o?(ue=t,s=n,t="cursor"===(l=u).type?{...l,fieldName:s.value,suggestionTypes:["value","conjunction"]}:l(s)):(ae=t,t=o)}else ae=t,t=o}else ae=t,t=o;var s,l;return t}())===o&&(t=function(){var e,t;e=ae,(t=Me())!==o&&(ue=e,t=function(e){if("cursor"===e.type){const t=`${e.prefix}${e.suffix}`.trim();return{...e,fieldName:t,suggestionTypes:["field","operator","conjunction"]}}return e(Ve(null))}(t));return e=t}());return t}());return t}()),t}function _e(){var e;return fe++,e=Te(),fe--,e===o&&(o,0===fe&&ve(A)),e}function Oe(){var t,n,r,i,a,u,c,s;if(t=ae,40===e.charCodeAt(ae)?(n="(",ae++):(n=o,0===fe&&ve(j)),n!==o){for(r=[],i=Qe();i!==o;)r.push(i),i=Qe();(i=function(){var e,t,n,r,i;if(e=ae,(t=Ne())!==o){if(n=[],r=ae,Se()!==o&&(i=Ne())!==o?(ue=r,r=ne(0,i)):(ae=r,r=o),r!==o)for(;r!==o;)n.push(r),r=ae,Se()!==o&&(i=Ne())!==o?(ue=r,r=ne(0,i)):(ae=r,r=o);else n=o;n!==o?(ue=e,e=function(e,t){const n=[e,...t],r=Ge&&n.find((e=>"cursor"===e.type));return r?{...r,suggestionTypes:["value"]}:e=>He("or",n.map((t=>t(e))))}(t,n)):(ae=e,e=o)}else ae=e,e=o;e===o&&(e=Ne());return e}())!==o&&(a=Be())!==o?(41===e.charCodeAt(ae)?(u=")",ae++):(u=o,0===fe&&ve(k)),u!==o?(ue=t,c=i,t="cursor"===(s=a).type?{...s,suggestionTypes:["conjunction"]}:c):(ae=t,t=o)):(ae=t,t=o)}else ae=t,t=o;return t===o&&(t=Me()),t}function Ne(){var e,t,n,r,i;if(e=ae,(t=Ae())!==o){if(n=[],r=ae,Ce()!==o&&(i=Ae())!==o?(ue=r,r=ne(0,i)):(ae=r,r=o),r!==o)for(;r!==o;)n.push(r),r=ae,Ce()!==o&&(i=Ae())!==o?(ue=r,r=ne(0,i)):(ae=r,r=o);else n=o;n!==o?(ue=e,e=function(e,t){const n=[e,...t],r=Ge&&n.find((e=>"cursor"===e.type));return r?{...r,suggestionTypes:["value"]}:e=>He("and",n.map((t=>t(e))))}(t,n)):(ae=e,e=o)}else ae=e,e=o;return e===o&&(e=Ae()),e}function Ae(){var e,t,n;return e=ae,Ee()!==o&&(t=Oe())!==o?(ue=e,e="cursor"===(n=t).type?{...list,suggestionTypes:["value"]}:e=>He("not",[n(e)])):(ae=e,e=o),e===o&&(e=Oe()),e}function Me(){var e,t;return fe++,e=ae,(t=qe())!==o&&(ue=e,t=function(e){if("cursor"===e.type)return e;const t=Ve(!0);return n=>He("is",[n,e,t])}(t)),(e=t)===o&&(e=ae,(t=Pe())!==o&&(ue=e,t=re(t)),e=t),fe--,e===o&&(t=o,0===fe&&ve(M)),e}function Se(){var t,n,r,i,a;if(fe++,t=ae,n=[],(r=Qe())!==o)for(;r!==o;)n.push(r),r=Qe();else n=o;if(n!==o)if("or"===e.substr(ae,2).toLowerCase()?(r=e.substr(ae,2),ae+=2):(r=o,0===fe&&ve(C)),r!==o){if(i=[],(a=Qe())!==o)for(;a!==o;)i.push(a),a=Qe();else i=o;i!==o?t=n=[n,r,i]:(ae=t,t=o)}else ae=t,t=o;else ae=t,t=o;return fe--,t===o&&(n=o,0===fe&&ve(S)),t}function Ce(){var t,n,r,i,a;if(fe++,t=ae,n=[],(r=Qe())!==o)for(;r!==o;)n.push(r),r=Qe();else n=o;if(n!==o)if("and"===e.substr(ae,3).toLowerCase()?(r=e.substr(ae,3),ae+=3):(r=o,0===fe&&ve(T)),r!==o){if(i=[],(a=Qe())!==o)for(;a!==o;)i.push(a),a=Qe();else i=o;i!==o?t=n=[n,r,i]:(ae=t,t=o)}else ae=t,t=o;else ae=t,t=o;return fe--,t===o&&(n=o,0===fe&&ve(E)),t}function Ee(){var t,n,r,i;if(fe++,t=ae,"not"===e.substr(ae,3).toLowerCase()?(n=e.substr(ae,3),ae+=3):(n=o,0===fe&&ve(L)),n!==o){if(r=[],(i=Qe())!==o)for(;i!==o;)r.push(i),i=Qe();else r=o;r!==o?t=n=[n,r]:(ae=t,t=o)}else ae=t,t=o;return fe--,t===o&&(n=o,0===fe&&ve(q)),t}function Te(){var e;return fe++,(e=qe())===o&&(e=Pe()),fe--,e===o&&(o,0===fe&&ve(P)),e}function qe(){var t,n,r,i,a,u,c;if(t=ae,ue=ae,(n=(n=oe())?void 0:o)!==o)if(34===e.charCodeAt(ae)?(r=d,ae++):(r=o,0===fe&&ve(I)),r!==o){for(i=[],a=Le();a!==o;)i.push(a),a=Le();if((a=$e())!==o){for(u=[],c=Le();c!==o;)u.push(c),c=Le();34===e.charCodeAt(ae)?(c=d,ae++):(c=o,0===fe&&ve(I)),c!==o?(ue=t,t=ie(i,a,u)):(ae=t,t=o)}else ae=t,t=o}else ae=t,t=o;else ae=t,t=o;if(t===o)if(t=ae,34===e.charCodeAt(ae)?(n=d,ae++):(n=o,0===fe&&ve(I)),n!==o){for(r=[],i=Le();i!==o;)r.push(i),i=Le();34===e.charCodeAt(ae)?(i=d,ae++):(i=o,0===fe&&ve(I)),i!==o?(ue=t,t=Ve(r.join(""))):(ae=t,t=o)}else ae=t,t=o;return t}function Le(){var t,n,r;return(t=Fe())===o&&(t=Ue())===o&&(t=ae,92===e.charCodeAt(ae)?(n=h,ae++):(n=o,0===fe&&ve(B)),n!==o?(v.test(e.charAt(ae))?(r=e.charAt(ae),ae++):(r=o,0===fe&&ve(F)),r!==o?(ue=t,t=r):(ae=t,t=o)):(ae=t,t=o),t===o&&(t=ae,n=ae,fe++,r=$e(),fe--,r===o?n=void 0:(ae=n,n=o),n!==o?(m.test(e.charAt(ae))?(r=e.charAt(ae),ae++):(r=o,0===fe&&ve(R)),r!==o?(ue=t,t=r):(ae=t,t=o)):(ae=t,t=o))),t}function Pe(){var e,t,n,r,i,a;if(e=ae,ue=ae,(t=(t=oe())?void 0:o)!==o){for(n=[],r=Ie();r!==o;)n.push(r),r=Ie();if((r=$e())!==o){for(i=[],a=Ie();a!==o;)i.push(a),a=Ie();ue=e,e=ie(n,r,i)}else ae=e,e=o}else ae=e,e=o;if(e===o){if(e=ae,t=[],(n=Ie())!==o)for(;n!==o;)t.push(n),n=Ie();else t=o;t!==o&&(ue=e,t=function(e){const t=e.join("").trim();return"null"===t?Ve(null):"true"===t?Ve(!0):"false"===t?Ve(!1):e.includes(Ke)?Ze(t):Ve(t)}(t)),e=t}return e}function Ie(){var t,n,r,i,a;return(t=Fe())===o&&(t=function(){var t,n,r;t=ae,92===e.charCodeAt(ae)?(n=h,ae++):(n=o,0===fe&&ve(B));n!==o&&(r=Re())!==o?(ue=t,t=r):(ae=t,t=o);return t}())===o&&(t=Ue())===o&&(t=function(){var t,n,r;t=ae,92===e.charCodeAt(ae)?(n=h,ae++):(n=o,0===fe&&ve(B));n!==o?(e.substr(ae,2).toLowerCase()===s?(r=e.substr(ae,2),ae+=2):(r=o,0===fe&&ve(C)),r===o&&(e.substr(ae,3).toLowerCase()===l?(r=e.substr(ae,3),ae+=3):(r=o,0===fe&&ve(T)),r===o&&(e.substr(ae,3).toLowerCase()===f?(r=e.substr(ae,3),ae+=3):(r=o,0===fe&&ve(L)))),r!==o?(ue=t,t=r):(ae=t,t=o)):(ae=t,t=o);return t}())===o&&(t=function(){var t,n;t=ae,42===e.charCodeAt(ae)?(n="*",ae++):(n=o,0===fe&&ve(D));n!==o&&(ue=t,n=Ke);return t=n}())===o&&(t=ae,n=ae,fe++,r=Re(),fe--,r===o?n=void 0:(ae=n,n=o),n!==o?(r=ae,fe++,i=function(){var e;(e=Se())===o&&(e=Ce())===o&&(e=Ee());return e}(),fe--,i===o?r=void 0:(ae=r,r=o),r!==o?(i=ae,fe++,a=$e(),fe--,a===o?i=void 0:(ae=i,i=o),i!==o?(e.length>ae?(a=e.charAt(ae),ae++):(a=o,0===fe&&ve(U)),a!==o?(ue=t,t=a):(ae=t,t=o)):(ae=t,t=o)):(ae=t,t=o)):(ae=t,t=o)),t}function Be(){var e,t,n,r,i,a;if(e=ae,ue=ae,(t=(t=oe())?void 0:o)!==o){for(n=[],r=Qe();r!==o;)n.push(r),r=Qe();if((r=$e())!==o){for(i=[],a=Qe();a!==o;)i.push(a),a=Qe();ue=e,e=ie(n,r,i)}else ae=e,e=o}else ae=e,e=o;if(e===o)for(e=[],t=Qe();t!==o;)e.push(t),t=Qe();return e}function Fe(){var t,n;return t=ae,"\\t"===e.substr(ae,2)?(n="\\t",ae+=2):(n=o,0===fe&&ve(Q)),n!==o&&(ue=t,n="\t"),(t=n)===o&&(t=ae,"\\r"===e.substr(ae,2)?(n="\\r",ae+=2):(n=o,0===fe&&ve($)),n!==o&&(ue=t,n="\r"),(t=n)===o&&(t=ae,"\\n"===e.substr(ae,2)?(n="\\n",ae+=2):(n=o,0===fe&&ve(G)),n!==o&&(ue=t,n="\n"),t=n)),t}function Re(){var t;return y.test(e.charAt(ae))?(t=e.charAt(ae),ae++):(t=o,0===fe&&ve(z)),t}function Ue(){var t,n,r;return t=ae,92===e.charCodeAt(ae)?(n=h,ae++):(n=o,0===fe&&ve(B)),n!==o&&(r=function(){var t,n,r,i,a,u,c,s;t=ae,117===e.charCodeAt(ae)?(n="u",ae++):(n=o,0===fe&&ve(W));n!==o?(r=ae,i=ae,(a=De())!==o&&(u=De())!==o&&(c=De())!==o&&(s=De())!==o?i=a=[a,u,c,s]:(ae=i,i=o),(r=i!==o?e.substring(r,ae):i)!==o?(ue=t,l=r,t=String.fromCharCode(parseInt(l,16))):(ae=t,t=o)):(ae=t,t=o);var l;return t}())!==o?(ue=t,t=r):(ae=t,t=o),t}function De(){var t;return w.test(e.charAt(ae))?(t=e.charAt(ae),ae++):(t=o,0===fe&&ve(Y)),t}function Qe(){var t;return fe++,x.test(e.charAt(ae))?(t=e.charAt(ae),ae++):(t=o,0===fe&&ve(J)),fe--,t===o&&(o,0===fe&&ve(X)),t}function $e(){var t,n;return t=ae,ue=ae,(oe()?void 0:o)!==o?(e.substr(ae,14)===g?(n=g,ae+=14):(n=o,0===fe&&ve(ee)),n!==o?(ue=t,t=ze):(ae=t,t=o)):(ae=t,t=o),t}const{parseCursor:Ge,cursorSymbol:ze,allowLeadingWildcards:We=!0,helpers:{nodeTypes:Ye}}=t,He=Ye.function.buildNodeWithArgumentNodes,Ve=Ye.literal.buildNode,Ze=Ye.wildcard.buildNode,{wildcardSymbol:Ke}=Ye.wildcard;if((n=u())!==o&&ae===e.length)return n;throw n!==o&&ae<e.length&&ve({type:"end"}),me(le,se<e.length?e.charAt(se):null,se<e.length?ge(se,se+1):ge(se,se))}}},function(e,t,n){e.exports=n(15)(14)},function(e,t,n){e.exports=n(15)(13)},function(e,t,n){e.exports=n(15)(4)},function(e,t,n){e.exports=n(15)(19)},function(e,t,n){e.exports=n(15)(2453)},function(e,t,n){e.exports=n(15)(2460)},function(e,t,n){(function(e){var n;
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var r,o,i,a,u,c,s,l,f,d,h,p,b,g,v,m,y,w,x,j,k,_,O,N,A,M,S,C,E,T,q,L,P,I,B,F,R,U,D,Q,$,G,z,W,Y,H,V,Z,K,X,J,ee,te,ne,re,oe,ie,ae,ue,ce,se,le,fe,de,he,pe,be,ge,ve,me,ye,we,xe,je,ke,_e,Oe,Ne,Ae,Me,Se=[].slice;_e=function(){var e,t,n,r,o;for(e={},r=0,t=(o="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r<t;r++)n=o[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),V=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},Oe=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},k=function(e){var t,n;for(e._clipped=!1,e._unclipped=e.slice(0),t=n=0;n<3;t=++n)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},a=Math.PI,ye=Math.round,O=Math.cos,C=Math.floor,re=Math.pow,Z=Math.log,xe=Math.sin,je=Math.sqrt,g=Math.atan2,J=Math.max,b=Math.abs,s=2*a,u=a/3,o=a/180,c=180/a,(j=function(){return arguments[0]instanceof r?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,arguments,(function(){}))}).default=j,p=[],null!==e&&null!=e.exports&&(e.exports=j),void 0===(n=function(){return j}.apply(t,[]))||(e.exports=n),j.version="1.4.1",h={},f=[],d=!1,r=function(){function e(){var e,t,n,r,o,i,a,u,c;for(i=this,t=[],u=0,r=arguments.length;u<r;u++)null!=(e=arguments[u])&&t.push(e);if(t.length>1&&(a=t[t.length-1]),null!=h[a])i._rgb=k(h[a](Oe(t.slice(0,-1))));else{for(d||(f=f.sort((function(e,t){return t.p-e.p})),d=!0),c=0,o=f.length;c<o&&!(a=(n=f[c]).test.apply(n,t));c++);a&&(i._rgb=k(h[a].apply(h,t)))}null==i._rgb&&console.warn("unknown format: "+t),null==i._rgb&&(i._rgb=[0,0,0]),3===i._rgb.length&&i._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e}(),j._input=h,
/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
j.brewer=w={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;for(e in t=[],w)t.push(w[e.toLowerCase()]=w[e])}(),j.colors=Ne={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},G=function(){var e,t,n,r,o,a,u;return r=(t=Oe(arguments))[0],e=t[1],n=t[2],a=(r+16)/116,o=isNaN(e)?a:a+e/500,u=isNaN(n)?a:a-n/200,a=i.Yn*z(a),o=i.Xn*z(o),u=i.Zn*z(u),[Me(3.2404542*o-1.5371385*a-.4985314*u),Me(-.969266*o+1.8760108*a+.041556*u),n=Me(.0556434*o-.2040259*a+1.0572252*u),t.length>3?t[3]:1]},Me=function(e){return 255*(e<=.00304?12.92*e:1.055*re(e,1/2.4)-.055)},z=function(e){return e>i.t1?e*e*e:i.t2*(e-i.t0)},i={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},fe=function(){var e,t,n,r,o,i,a;return n=(r=Oe(arguments))[0],t=r[1],e=r[2],i=(o=ge(n,t,e))[0],[116*(a=o[1])-16,500*(i-a),200*(a-o[2])]},ve=function(e){return(e/=255)<=.04045?e/12.92:re((e+.055)/1.055,2.4)},Ae=function(e){return e>i.t3?re(e,1/3):e/i.t2+i.t0},ge=function(){var e,t,n,r;return n=(r=Oe(arguments))[0],t=r[1],e=r[2],n=ve(n),t=ve(t),e=ve(e),[Ae((.4124564*n+.3575761*t+.1804375*e)/i.Xn),Ae((.2126729*n+.7151522*t+.072175*e)/i.Yn),Ae((.0193339*n+.119192*t+.9503041*e)/i.Zn)]},j.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Se.call(arguments).concat(["lab"]),(function(){}))},h.lab=G,r.prototype.lab=function(){return fe(this._rgb)},v=function(e){var t,n,r,o,i,a,u,c,s,l,f;return 2===(e=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(j(o));return r}()).length?(s=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),i=s[0],a=s[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push(i[t]+e*(a[t]-i[t]));return r}(),j.lab.apply(j,n)}):3===e.length?(l=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),i=l[0],a=l[1],u=l[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*i[t]+2*(1-e)*e*a[t]+e*e*u[t]);return r}(),j.lab.apply(j,n)}):4===e.length?(f=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),i=f[0],a=f[1],u=f[2],c=f[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*(1-e)*i[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*u[t]+e*e*e*c[t]);return r}(),j.lab.apply(j,n)}):5===e.length&&(n=v(e.slice(0,3)),r=v(e.slice(2,5)),t=function(e){return e<.5?n(2*e):r(2*(e-.5))}),t},j.bezier=function(e){var t;return(t=v(e)).scale=function(){return j.scale(t)},t},j.cubehelix=function(e,t,n,r,o){var i,a,u;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==o&&(o=[0,1]),i=0,"array"===_e(o)?a=o[1]-o[0]:(a=0,o=[o,o]),(u=function(u){var c,l,f,d,h;return c=s*((e+120)/360+t*u),d=re(o[0]+a*u,r),l=(0!==i?n[0]+u*i:n)*d*(1-d)/2,f=O(c),h=xe(c),j(k([255*(d+l*(-.14861*f+1.78277*h)),255*(d+l*(-.29227*f-.90649*h)),255*(d+l*(1.97294*f)),1]))}).start=function(t){return null==t?e:(e=t,u)},u.rotations=function(e){return null==e?t:(t=e,u)},u.gamma=function(e){return null==e?r:(r=e,u)},u.hue=function(e){return null==e?n:("array"===_e(n=e)?0===(i=n[1]-n[0])&&(n=n[1]):i=0,u)},u.lightness=function(e){return null==e?o:("array"===_e(e)?(o=e,a=e[1]-e[0]):(o=[e,e],a=0),u)},u.scale=function(){return j.scale(u)},u.hue(n),u},j.random=function(){var e,t;for("0123456789abcdef",e="#",t=0;t<6;++t)e+="0123456789abcdef".charAt(C(16*Math.random()));return new r(e)},p=[],B=function(e,t,n,r){var o,i,a,u;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==_e(e)&&(e=j(e)),"object"!==_e(t)&&(t=j(t)),a=0,i=p.length;a<i;a++)if(r===(o=p[a])[0]){u=o[1](e,t,n,r);break}if(null==u)throw"color mode "+r+" is not supported";return u.alpha(e.alpha()+n*(t.alpha()-e.alpha()))},j.interpolate=B,r.prototype.interpolate=function(e,t,n){return B(this,e,t,n)},j.mix=B,r.prototype.mix=r.prototype.interpolate,h.rgb=function(){var e,t,n,r;for(e in n=[],t=Oe(arguments))r=t[e],n.push(r);return n},j.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Se.call(arguments).concat(["rgb"]),(function(){}))},r.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},r.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},f.push({p:3,test:function(e){var t;return t=Oe(arguments),"array"===_e(t)&&3===t.length||4===t.length&&"number"===_e(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),h.lrgb=h.rgb,U=function(e,t,n,o){var i,a;return i=e._rgb,a=t._rgb,new r(je(re(i[0],2)*(1-n)+re(a[0],2)*n),je(re(i[1],2)*(1-n)+re(a[1],2)*n),je(re(i[2],2)*(1-n)+re(a[2],2)*n),o)},l=function(e){var t,n,o,i,a;for(t=1/e.length,a=[0,0,0,0],o=0,n=e.length;o<n;o++)i=e[o]._rgb,a[0]+=re(i[0],2)*t,a[1]+=re(i[1],2)*t,a[2]+=re(i[2],2)*t,a[3]+=i[3]*t;return a[0]=je(a[0]),a[1]=je(a[1]),a[2]=je(a[2]),a[3]>1&&(a[3]=1),new r(k(a))},p.push(["lrgb",U]),j.average=function(e,t){var n,r,o,i,u,c,s,f,d,h,p,b,v;if(null==t&&(t="rgb"),d=e.length,s=(e=e.map((function(e){return j(e)}))).splice(0,1)[0],"lrgb"===t)return l(e);for(f in i=[],u=0,c=0,b=s.get(t))b[f]=b[f]||0,i.push(isNaN(b[f])?0:1),"h"!==t.charAt(f)||isNaN(b[f])||(n=b[f]/180*a,u+=O(n),c+=xe(n));for(r=s.alpha(),p=0,h=e.length;p<h;p++)for(f in v=(o=e[p]).get(t),r+=o.alpha(),b)isNaN(v[f])||(i[f]+=1,"h"===t.charAt(f)?(n=v[f]/180*a,u+=O(n),c+=xe(n)):b[f]+=v[f]);for(f in b)if("h"===t.charAt(f)){for(n=g(c/i[f],u/i[f])/a*180;n<0;)n+=360;for(;n>=360;)n-=360;b[f]=n}else b[f]=b[f]/i[f];return j(b,t).alpha(r/d)},T=function(e){var t,n;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(n=parseInt(e,16))>>16,n>>8&255,255&n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(n=parseInt(e,16))>>24&255,n>>16&255,n>>8&255,ye((255&n)/255*100)/100];if(null!=h.css&&(t=h.css(e)))return t;throw"unknown color: "+e},ue=function(e,t){var n,r,o,i,a,u;return null==t&&(t="auto"),a=e[0],o=e[1],r=e[2],n=e[3],"auto"===t&&(t=n<1?"rgba":"rgb"),a=Math.round(a),o=Math.round(o),r=Math.round(r),u=(u="000000"+(a<<16|o<<8|r).toString(16)).substr(u.length-6),i=(i="0"+ye(255*n).toString(16)).substr(i.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return u+i;case"argb":return i+u;default:return u}}()},h.hex=function(e){return T(e)},j.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Se.call(arguments).concat(["hex"]),(function(){}))},r.prototype.hex=function(e){return null==e&&(e="auto"),ue(this._rgb,e)},f.push({p:4,test:function(e){if(1===arguments.length&&"string"===_e(e))return"hex"}}),P=function(){var e,t,n,r,o,i,a,u,c,s,l,f,d,h;if(o=(e=Oe(arguments))[0],l=e[1],a=e[2],0===l)c=r=t=255*a;else{for(n=[0,0,0],f=2*a-(d=a<.5?a*(1+l):a+l-a*l),(h=[0,0,0])[0]=(o/=360)+1/3,h[1]=o,h[2]=o-1/3,i=u=0;u<=2;i=++u)h[i]<0&&(h[i]+=1),h[i]>1&&(h[i]-=1),6*h[i]<1?n[i]=f+6*(d-f)*h[i]:2*h[i]<1?n[i]=d:3*h[i]<2?n[i]=f+(d-f)*(2/3-h[i])*6:n[i]=f;c=(s=[ye(255*n[0]),ye(255*n[1]),ye(255*n[2])])[0],r=s[1],t=s[2]}return e.length>3?[c,r,t,e[3]]:[c,r,t]},se=function(e,t,n){var r,o,i,a,u;return void 0!==e&&e.length>=3&&(e=(a=e)[0],t=a[1],n=a[2]),e/=255,t/=255,n/=255,i=Math.min(e,t,n),o=((J=Math.max(e,t,n))+i)/2,J===i?(u=0,r=Number.NaN):u=o<.5?(J-i)/(J+i):(J-i)/(2-J-i),e===J?r=(t-n)/(J-i):t===J?r=2+(n-e)/(J-i):n===J&&(r=4+(e-t)/(J-i)),(r*=60)<0&&(r+=360),[r,u,o]},j.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Se.call(arguments).concat(["hsl"]),(function(){}))},h.hsl=P,r.prototype.hsl=function(){return se(this._rgb)},I=function(){var e,t,n,r,o,i,a,u,c,s,l,f,d,h,p,b,g,v;if(o=(e=Oe(arguments))[0],b=e[1],v=e[2],v*=255,0===b)c=r=t=v;else switch(360===o&&(o=0),o>360&&(o-=360),o<0&&(o+=360),a=v*(1-b),u=v*(1-b*(n=(o/=60)-(i=C(o)))),g=v*(1-b*(1-n)),i){case 0:c=(s=[v,g,a])[0],r=s[1],t=s[2];break;case 1:c=(l=[u,v,a])[0],r=l[1],t=l[2];break;case 2:c=(f=[a,v,g])[0],r=f[1],t=f[2];break;case 3:c=(d=[a,u,v])[0],r=d[1],t=d[2];break;case 4:c=(h=[g,a,v])[0],r=h[1],t=h[2];break;case 5:c=(p=[v,a,u])[0],r=p[1],t=p[2]}return[c,r,t,e.length>3?e[3]:1]},le=function(){var e,t,n,r,o,i,a,u,c;return i=(a=Oe(arguments))[0],n=a[1],e=a[2],o=Math.min(i,n,e),t=(J=Math.max(i,n,e))-o,c=J/255,0===J?(r=Number.NaN,u=0):(u=t/J,i===J&&(r=(n-e)/t),n===J&&(r=2+(e-i)/t),e===J&&(r=4+(i-n)/t),(r*=60)<0&&(r+=360)),[r,u,c]},j.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Se.call(arguments).concat(["hsv"]),(function(){}))},h.hsv=I,r.prototype.hsv=function(){return le(this._rgb)},te=function(e){return"number"===_e(e)&&e>=0&&e<=16777215?[e>>16,e>>8&255,255&e,1]:(console.warn("unknown num color: "+e),[0,0,0,1])},pe=function(){var e;return((e=Oe(arguments))[0]<<16)+(e[1]<<8)+e[2]},j.num=function(e){return new r(e,"num")},r.prototype.num=function(e){return null==e&&(e="rgb"),pe(this._rgb,e)},h.num=te,f.push({p:1,test:function(e){if(1===arguments.length&&"number"===_e(e)&&e>=0&&e<=16777215)return"num"}}),E=function(){var e,t,n,r,o,i,a,u,c,s,l,f,d,h,p,b,g,v,m,y;if(u=(n=Oe(arguments))[0],o=n[1],t=n[2],a=a/100*255,e=255*(o/=100),0===o)f=a=r=t;else switch(360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360),l=(s=t*(1-o))+e*(1-(i=(u/=60)-(c=C(u)))),m=s+e*i,y=s+e,c){case 0:f=(d=[y,m,s])[0],a=d[1],r=d[2];break;case 1:f=(h=[l,y,s])[0],a=h[1],r=h[2];break;case 2:f=(p=[s,y,m])[0],a=p[1],r=p[2];break;case 3:f=(b=[s,l,y])[0],a=b[1],r=b[2];break;case 4:f=(g=[m,s,y])[0],a=g[1],r=g[2];break;case 5:f=(v=[y,s,l])[0],a=v[1],r=v[2]}return[f,a,r,n.length>3?n[3]:1]},ae=function(){var e,t,n,r,o,i,a,u,c;return u=(c=Oe(arguments))[0],o=c[1],t=c[2],a=Math.min(u,o,t),n=100*(r=(J=Math.max(u,o,t))-a)/255,e=a/(255-r)*100,0===r?i=Number.NaN:(u===J&&(i=(o-t)/r),o===J&&(i=2+(t-u)/r),t===J&&(i=4+(u-o)/r),(i*=60)<0&&(i+=360)),[i,n,e]},j.hcg=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Se.call(arguments).concat(["hcg"]),(function(){}))},h.hcg=E,r.prototype.hcg=function(){return ae(this._rgb)},N=function(e){var t,n,r,o,i,a,u,c;if(e=e.toLowerCase(),null!=j.colors&&j.colors[e])return T(j.colors[e]);if(i=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(u=i.slice(1,4),o=a=0;a<=2;o=++a)u[o]=+u[o];u[3]=1}else if(i=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(u=i.slice(1,5),o=c=0;c<=3;o=++c)u[o]=+u[o];else if(i=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(u=i.slice(1,4),o=t=0;t<=2;o=++t)u[o]=ye(2.55*u[o]);u[3]=1}else if(i=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(u=i.slice(1,5),o=n=0;n<=2;o=++n)u[o]=ye(2.55*u[o]);u[3]=+u[3]}else(i=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((r=i.slice(1,4))[1]*=.01,r[2]*=.01,(u=P(r))[3]=1):(i=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((r=i.slice(1,4))[1]*=.01,r[2]*=.01,(u=P(r))[3]=+i[4]);return u},ie=function(e){var t;return"rgb"===(t=e[3]<1?"rgba":"rgb")?t+"("+e.slice(0,3).map(ye).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(ye).join(",")+","+e[3]+")":void 0},me=function(e){return ye(100*e)/100},L=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=me(e[0]||0),e[1]=me(100*e[1])+"%",e[2]=me(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},h.css=function(e){return N(e)},j.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Se.call(arguments).concat(["css"]),(function(){}))},r.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?ie(this._rgb):"hsl"===e.slice(0,3)?L(this.hsl(),this.alpha()):void 0},h.named=function(e){return T(Ne[e])},f.push({p:5,test:function(e){if(1===arguments.length&&null!=Ne[e])return"named"}}),r.prototype.name=function(e){var t,n;for(n in arguments.length&&(Ne[e]&&(this._rgb=T(Ne[e])),this._rgb[3]=1),t=this.hex("rgb"),Ne)if(t===Ne[n])return n;return t},W=function(){var e,t,n,r;return n=(r=Oe(arguments))[0],e=r[1],t=r[2],[n,O(t*=o)*e,xe(t)*e]},Y=function(){var e,t,n,r,o,i,a,u,c;return a=(n=Oe(arguments))[0],o=n[1],i=n[2],e=(u=W(a,o,i))[0],t=u[1],r=u[2],[(c=G(e,t,r))[0],c[1],r=c[2],n.length>3?n[3]:1]},$=function(){var e,t,n,r,o,i;return o=(i=Oe(arguments))[0],e=i[1],t=i[2],n=je(e*e+t*t),r=(g(t,e)*c+360)%360,0===ye(1e4*n)&&(r=Number.NaN),[o,n,r]},de=function(){var e,t,n,r,o,i,a;return o=(i=Oe(arguments))[0],n=i[1],t=i[2],r=(a=fe(o,n,t))[0],e=a[1],t=a[2],$(r,e,t)},j.lch=function(){var e;return e=Oe(arguments),new r(e,"lch")},j.hcl=function(){var e;return e=Oe(arguments),new r(e,"hcl")},h.lch=Y,h.hcl=function(){var e,t,n,r;return t=(r=Oe(arguments))[0],e=r[1],n=r[2],Y([n,e,t])},r.prototype.lch=function(){return de(this._rgb)},r.prototype.hcl=function(){return de(this._rgb).reverse()},oe=function(e){var t,n,r,o,i,a;return null==e&&(e="rgb"),i=(a=Oe(arguments))[0],r=a[1],t=a[2],r/=255,t/=255,[(1-(i/=255)-(o=1-Math.max(i,Math.max(r,t))))*(n=o<1?1/(1-o):0),(1-r-o)*n,(1-t-o)*n,o]},_=function(){var e,t,n,r,o,i;return n=(t=Oe(arguments))[0],o=t[1],i=t[2],r=t[3],e=t.length>4?t[4]:1,1===r?[0,0,0,e]:[n>=1?0:255*(1-n)*(1-r),o>=1?0:255*(1-o)*(1-r),i>=1?0:255*(1-i)*(1-r),e]},h.cmyk=function(){return _(Oe(arguments))},j.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Se.call(arguments).concat(["cmyk"]),(function(){}))},r.prototype.cmyk=function(){return oe(this._rgb)},h.gl=function(){var e,t,n,r,o;for(r=function(){var e,n;for(t in n=[],e=Oe(arguments))o=e[t],n.push(o);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)r[e]*=255;return r},j.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Se.call(arguments).concat(["gl"]),(function(){}))},r.prototype.gl=function(){var e;return[(e=this._rgb)[0]/255,e[1]/255,e[2]/255,e[3]]},he=function(e,t,n){var r;return e=(r=Oe(arguments))[0],t=r[1],n=r[2],.2126*(e=K(e))+.7152*(t=K(t))+.0722*(n=K(n))},K=function(e){return(e/=255)<=.03928?e/12.92:re((e+.055)/1.055,2.4)},Q=function(e,t,n,o){var i,a;return i=e._rgb,a=t._rgb,new r(i[0]+n*(a[0]-i[0]),i[1]+n*(a[1]-i[1]),i[2]+n*(a[2]-i[2]),o)},p.push(["rgb",Q]),r.prototype.luminance=function(e,t){var n,r,o,i,a;return null==t&&(t="rgb"),arguments.length?(i=this._rgb,0===e?i=[0,0,0,this._rgb[3]]:1===e?i=[255,255,255,this[3]]:(n=he(this._rgb),r=1e-7,o=20,a=function(n,i){var u,c;return u=(c=n.interpolate(i,.5,t)).luminance(),Math.abs(e-u)<r||!o--?c:u>e?a(n,c):a(c,i)},i=n>e?a(j("black"),this).rgba():a(this,j("white")).rgba()),j(i).alpha(this.alpha())):he(this._rgb)},ke=function(e){var t,n,r,o;return(o=e/100)<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*Z(n),t=o<20?0:.8274096064007395*(t=o-10)-254.76935184120902+115.67994401066147*Z(t)):(r=351.97690566805693+.114206453784165*(r=o-55)-40.25366309332127*Z(r),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*Z(n),t=255),[r,n,t]},be=function(){var e,t,n,r,o,i,a,u;for(o=(i=Oe(arguments))[0],i[1],e=i[2],r=1e3,n=4e4,t=.4;n-r>t;)(a=ke(u=.5*(n+r)))[2]/a[0]>=e/o?n=u:r=u;return ye(u)},j.temperature=j.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Se.call(arguments).concat(["temperature"]),(function(){}))},h.temperature=h.kelvin=h.K=ke,r.prototype.temperature=function(){return be(this._rgb)},r.prototype.kelvin=r.prototype.temperature,j.contrast=function(e,t){var n,o,i,a;return"string"!==(i=_e(e))&&"number"!==i||(e=new r(e)),"string"!==(a=_e(t))&&"number"!==a||(t=new r(t)),(n=e.luminance())>(o=t.luminance())?(n+.05)/(o+.05):(o+.05)/(n+.05)},j.distance=function(e,t,n){var o,i,a,u,c,s,l;for(i in null==n&&(n="lab"),"string"!==(c=_e(e))&&"number"!==c||(e=new r(e)),"string"!==(s=_e(t))&&"number"!==s||(t=new r(t)),a=e.get(n),u=t.get(n),l=0,a)l+=(o=(a[i]||0)-(u[i]||0))*o;return Math.sqrt(l)},j.deltaE=function(e,t,n,o){var i,u,c,s,l,f,d,h,p,v,m,y,w,x,j,k,_,N,A,M,S,C,E,T;for(null==n&&(n=1),null==o&&(o=1),"string"!==(j=_e(e))&&"number"!==j||(e=new r(e)),"string"!==(k=_e(t))&&"number"!==k||(t=new r(t)),i=(_=e.lab())[0],c=_[1],l=_[2],u=(N=t.lab())[0],s=N[1],f=N[2],d=je(c*c+l*l),h=je(s*s+f*f),M=i<16?.511:.040975*i/(1+.01765*i),A=.0638*d/(1+.0131*d)+.638,x=d<1e-6?0:180*g(l,c)/a;x<0;)x+=360;for(;x>=360;)x-=360;return S=x>=164&&x<=345?.56+b(.2*O(a*(x+168)/180)):.36+b(.4*O(a*(x+35)/180)),w=je((p=d*d*d*d)/(p+1900)),je((C=(i-u)/(n*M))*C+(E=(y=d-h)/(o*A))*E+((v=c-s)*v+(m=l-f)*m-y*y)/((T=A*(w*S+1-w))*T))},r.prototype.get=function(e){var t,n,r,o,i;return this,r=(o=e.split("."))[0],t=o[1],i=this[r](),t?(n=r.indexOf(t))>-1?i[n]:console.warn("unknown channel "+t+" in mode "+r):i},r.prototype.set=function(e,t){var n,r,o,i,a;if(this,o=(i=e.split("."))[0],n=i[1])if(a=this[o](),(r=o.indexOf(n))>-1)if("string"===_e(t))switch(t.charAt(0)){case"+":case"-":a[r]+=+t;break;case"*":a[r]*=+t.substr(1);break;case"/":a[r]/=+t.substr(1);break;default:a[r]=+t}else a[r]=t;else console.warn("unknown channel "+n+" in mode "+o);else a=t;return j(a,o).alpha(this.alpha())},r.prototype.clipped=function(){return this._rgb._clipped||!1},r.prototype.alpha=function(e){return arguments.length?j.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},r.prototype.darken=function(e){var t;return null==e&&(e=1),this,(t=this.lab())[0]-=i.Kn*e,j.lab(t).alpha(this.alpha())},r.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},r.prototype.darker=r.prototype.darken,r.prototype.brighter=r.prototype.brighten,r.prototype.saturate=function(e){var t;return null==e&&(e=1),this,(t=this.lch())[1]+=e*i.Kn,t[1]<0&&(t[1]=0),j.lch(t).alpha(this.alpha())},r.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},r.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),j(t[0]*e,t[1]*e,t[2]*e,e)},ee=function(e,t){return e*t/255},A=function(e,t){return e>t?t:e},H=function(e,t){return e>t?e:t},we=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ne=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},x=function(e,t){return 255*(1-(1-t/255)/(e/255))},M=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e},(m=function(e,t,n){if(!m[n])throw"unknown blend mode "+n;return m[n](e,t)}).normal=(y=function(e){return function(t,n){var r,o;return r=j(n).rgb(),o=j(t).rgb(),j(e(r,o),"rgb")}})((S=function(e){return function(t,n){var r,o,i;for(i=[],r=o=0;o<=3;r=++o)i[r]=e(t[r],n[r]);return i}})((function(e,t){return e}))),m.multiply=y(S(ee)),m.screen=y(S(we)),m.overlay=y(S(ne)),m.darken=y(S(A)),m.lighten=y(S(H)),m.dodge=y(S(M)),m.burn=y(S(x)),j.blend=m,j.analyze=function(e){var t,n,r,o;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)null==(o=e[n])||isNaN(o)||(r.values.push(o),r.sum+=o,o<r.min&&(r.min=o),o>r.max&&(r.max=o),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return j.limits(r,e,t)},r},j.scale=function(e,t){var n,r,o,i,a,u,c,s,l,f,d,h,p,b,g,v,m,y,w,x,k;return l="rgb",f=j("#ccc"),b=0,!1,a=[0,1],p=[],h=[0,0],n=!1,o=[],d=!1,s=0,c=1,i=!1,r={},g=!0,u=1,x=function(e){var t,n,r,i,a,u;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===_e(e)&&null!=j.brewer&&(e=j.brewer[e]||j.brewer[e.toLowerCase()]||e),"array"===_e(e)){for(1===e.length&&(e=[e[0],e[0]]),t=r=0,i=(e=e.slice(0)).length-1;0<=i?r<=i:r>=i;t=0<=i?++r:--r)n=e[t],"string"===_e(n)&&(e[t]=j(n));for(p.length=0,t=u=0,a=e.length-1;0<=a?u<=a:u>=a;t=0<=a?++u:--u)p.push(t/(e.length-1))}return w(),o=e},m=function(e){var t,r;if(null!=n){for(r=n.length-1,t=0;t<r&&e>=n[t];)t++;return t-1}return 0},k=function(e){return e},function(e){var t,r,o,i,a;return a=e,n.length>2&&(i=n.length-1,t=m(e),o=n[0]+(n[1]-n[0])*(0+.5*b),r=n[i-1]+(n[i]-n[i-1])*(1-.5*b),a=s+(n[t]+.5*(n[t+1]-n[t])-o)/(r-o)*(c-s)),a},y=function(e,t){var i,a,d,b,v,y,w;if(null==t&&(t=!1),isNaN(e)||null===e)return f;if(w=t?e:n&&n.length>2?m(e)/(n.length-2):c!==s?(e-s)/(c-s):1,t||(w=k(w)),1!==u&&(w=re(w,u)),w=h[0]+w*(1-h[0]-h[1]),w=Math.min(1,Math.max(0,w)),d=Math.floor(1e4*w),g&&r[d])i=r[d];else{if("array"===_e(o))for(a=b=0,y=p.length-1;0<=y?b<=y:b>=y;a=0<=y?++b:--b){if(w<=(v=p[a])){i=o[a];break}if(w>=v&&a===p.length-1){i=o[a];break}if(w>v&&w<p[a+1]){w=(w-v)/(p[a+1]-v),i=j.interpolate(o[a],o[a+1],w,l);break}}else"function"===_e(o)&&(i=o(w));g&&(r[d]=i)}return i},w=function(){return r={}},x(e),(v=function(e){var t;return t=j(y(e)),d&&t[d]?t[d]():t}).classes=function(e){var t;return null!=e?("array"===_e(e)?(n=e,a=[e[0],e[e.length-1]]):(t=j.analyze(a),n=0===e?[t.min,t.max]:j.limits(t,"e",e)),v):n},v.domain=function(e){var t,n,r,i,u,l,f;if(!arguments.length)return a;if(s=e[0],c=e[e.length-1],p=[],r=o.length,e.length===r&&s!==c)for(u=0,i=e.length;u<i;u++)n=e[u],p.push((n-s)/(c-s));else for(t=f=0,l=r-1;0<=l?f<=l:f>=l;t=0<=l?++f:--f)p.push(t/(r-1));return a=[s,c],v},v.mode=function(e){return arguments.length?(l=e,w(),v):l},v.range=function(e,t){return x(e),v},v.out=function(e){return d=e,v},v.spread=function(e){return arguments.length?(b=e,v):b},v.correctLightness=function(e){return null==e&&(e=!0),i=e,w(),k=i?function(e){var t,n,r,o,i,a,u,c,s;for(t=y(0,!0).lab()[0],n=y(1,!0).lab()[0],u=t>n,r=y(e,!0).lab()[0],o=r-(i=t+(n-t)*e),c=0,s=1,a=20;Math.abs(o)>.01&&a-- >0;)u&&(o*=-1),o<0?(c=e,e+=.5*(s-e)):(s=e,e+=.5*(c-e)),r=y(e,!0).lab()[0],o=r-i;return e}:function(e){return e},v},v.padding=function(e){return null!=e?("number"===_e(e)&&(e=[e,e]),h=e,v):h},v.colors=function(t,r){var i,u,c,s,l,f,d,h;if(arguments.length<2&&(r="hex"),l=[],0===arguments.length)l=o.slice(0);else if(1===t)l=[v(.5)];else if(t>1)u=a[0],i=a[1]-u,l=function(){f=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)f.push(e);return f}.apply(this).map((function(e){return v(u+e/(t-1)*i)}));else{if(e=[],d=[],n&&n.length>2)for(c=h=1,s=n.length;1<=s?h<s:h>s;c=1<=s?++h:--h)d.push(.5*(n[c-1]+n[c]));else d=a;l=d.map((function(e){return v(e)}))}return j[r]&&(l=l.map((function(e){return e[r]()}))),l},v.cache=function(e){return null!=e?(g=e,v):g},v.gamma=function(e){return null!=e?(u=e,v):u},v.nodata=function(e){return null!=e?(f=j(e),v):f},v},null==j.scales&&(j.scales={}),j.scales.cool=function(){return j.scale([j.hsl(180,1,.9),j.hsl(250,.7,.4)])},j.scales.hot=function(){return j.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},j.analyze=function(e,t,n){var r,o,i,a,u,c;if(u={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(u.values.push(e),u.sum+=e,e<u.min&&(u.min=e),e>u.max&&(u.max=e),u.count+=1)},c=function(e,o){if(n(e,o))return null!=t&&"function"===_e(t)?r(t(e)):null!=t&&"string"===_e(t)||"number"===_e(t)?r(e[t]):r(e)},"array"===_e(e))for(a=0,i=e.length;a<i;a++)c(e[a]);else for(o in e)c(e[o],o);return u.domain=[u.min,u.max],u.limits=function(e,t){return j.limits(u,e,t)},u},j.limits=function(e,t,n){var r,o,i,a,u,c,s,l,f,d,h,p,g,v,m,y,w,x,k,_,O,N,A,M,S,E,T,q,L,P,I,B,F,R,U,D,Q,$,G,z,W,Y,H,V,K,X,ee,te,ne,oe,ie,ae,ue,ce,se;if(null==t&&(t="equal"),null==n&&(n=7),"array"===_e(e)&&(e=j.analyze(e)),S=e.min,J=e.max,e.sum,ce=e.values.sort((function(e,t){return e-t})),1===n)return[S,J];if(A=[],"c"===t.substr(0,1)&&(A.push(S),A.push(J)),"e"===t.substr(0,1)){for(A.push(S),_=I=1,U=n-1;1<=U?I<=U:I>=U;_=1<=U?++I:--I)A.push(S+_/n*(J-S));A.push(J)}else if("l"===t.substr(0,1)){if(S<=0)throw"Logarithmic scales are only possible for values > 0";for(E=Math.LOG10E*Z(S),M=Math.LOG10E*Z(J),A.push(S),_=se=1,D=n-1;1<=D?se<=D:se>=D;_=1<=D?++se:--se)A.push(re(10,E+_/n*(M-E)));A.push(J)}else if("q"===t.substr(0,1)){for(A.push(S),_=r=1,Y=n-1;1<=Y?r<=Y:r>=Y;_=1<=Y?++r:--r)B=(ce.length-1)*_/n,(F=C(B))===B?A.push(ce[F]):(R=B-F,A.push(ce[F]*(1-R)+ce[F+1]*R));A.push(J)}else if("k"===t.substr(0,1)){for(q=ce.length,v=new Array(q),x=new Array(n),oe=!0,L=0,y=null,(y=[]).push(S),_=o=1,H=n-1;1<=H?o<=H:o>=H;_=1<=H?++o:--o)y.push(S+_/n*(J-S));for(y.push(J);oe;){for(O=i=0,V=n-1;0<=V?i<=V:i>=V;O=0<=V?++i:--i)x[O]=0;for(_=a=0,K=q-1;0<=K?a<=K:a>=K;_=0<=K?++a:--a){for(ue=ce[_],T=Number.MAX_VALUE,O=u=0,X=n-1;0<=X?u<=X:u>=X;O=0<=X?++u:--u)(k=b(y[O]-ue))<T&&(T=k,m=O);x[m]++,v[_]=m}for(P=new Array(n),O=c=0,ee=n-1;0<=ee?c<=ee:c>=ee;O=0<=ee?++c:--c)P[O]=null;for(_=s=0,te=q-1;0<=te?s<=te:s>=te;_=0<=te?++s:--s)null===P[w=v[_]]?P[w]=ce[_]:P[w]+=ce[_];for(O=l=0,ne=n-1;0<=ne?l<=ne:l>=ne;O=0<=ne?++l:--l)P[O]*=1/x[O];for(oe=!1,O=f=0,Q=n-1;0<=Q?f<=Q:f>=Q;O=0<=Q?++f:--f)if(P[O]!==y[_]){oe=!0;break}y=P,++L>200&&(oe=!1)}for(N={},O=d=0,$=n-1;0<=$?d<=$:d>=$;O=0<=$?++d:--d)N[O]=[];for(_=h=0,G=q-1;0<=G?h<=G:h>=G;_=0<=G?++h:--h)N[w=v[_]].push(ce[_]);for(ie=[],O=p=0,z=n-1;0<=z?p<=z:p>=z;O=0<=z?++p:--p)ie.push(N[O][0]),ie.push(N[O][N[O].length-1]);for(ie=ie.sort((function(e,t){return e-t})),A.push(ie[0]),_=g=1,W=ie.length-1;g<=W;_=g+=2)ae=ie[_],isNaN(ae)||-1!==A.indexOf(ae)||A.push(ae)}return A},q=function(e,t,n){var r,o,i,a;return e=(r=Oe(arguments))[0],t=r[1],n=r[2],isNaN(e)&&(e=0),(e/=360)<1/3?i=1-((o=(1-t)/3)+(a=(1+t*O(s*e)/O(u-s*e))/3)):e<2/3?o=1-((a=(1-t)/3)+(i=(1+t*O(s*(e-=1/3))/O(u-s*e))/3)):a=1-((i=(1-t)/3)+(o=(1+t*O(s*(e-=2/3))/O(u-s*e))/3)),[255*(a=V(n*a*3)),255*(i=V(n*i*3)),255*(o=V(n*o*3)),r.length>3?r[3]:1]},ce=function(){var e,t,n,r,o,i,a;return o=(i=Oe(arguments))[0],t=i[1],e=i[2],s=2*Math.PI,o/=255,t/=255,e/=255,0===(a=1-Math.min(o,t,e)/(r=(o+t+e)/3))?n=0:(n=(o-t+(o-e))/2,n/=Math.sqrt((o-t)*(o-t)+(o-e)*(t-e)),n=Math.acos(n),e>t&&(n=s-n),n/=s),[360*n,a,r]},j.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Se.call(arguments).concat(["hsi"]),(function(){}))},h.hsi=q,r.prototype.hsi=function(){return ce(this._rgb)},F=function(e,t,n,r){var o,i,a,u,c,s,l,f,d,h;return"hsl"===r?(d=e.hsl(),h=t.hsl()):"hsv"===r?(d=e.hsv(),h=t.hsv()):"hcg"===r?(d=e.hcg(),h=t.hcg()):"hsi"===r?(d=e.hsi(),h=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",d=e.hcl(),h=t.hcl()),"h"===r.substr(0,1)&&(i=d[0],l=d[1],u=d[2],a=h[0],f=h[1],c=h[2]),isNaN(i)||isNaN(a)?isNaN(i)?isNaN(a)?o=Number.NaN:(o=a,1!==u&&0!==u||"hsv"===r||(s=f)):(o=i,1!==c&&0!==c||"hsv"===r||(s=l)):o=i+n*(a>i&&a-i>180?a-(i+360):a<i&&i-a>180?a+360-i:a-i),null==s&&(s=l+n*(f-l)),j[r](o,s,u+n*(c-u))},D=function(e,t,n,r){var o,i;return o=e.num(),i=t.num(),j.num(o+(i-o)*n,"num")},(p=p.concat(function(){var e,t,n,r;for(r=[],t=0,e=(n=["hsv","hsl","hsi","hcl","lch","hcg"]).length;t<e;t++)X=n[t],r.push([X,F]);return r}())).push(["num",D]),R=function(e,t,n,o){var i,a;return i=e.lab(),a=t.lab(),new r(i[0]+n*(a[0]-i[0]),i[1]+n*(a[1]-i[1]),i[2]+n*(a[2]-i[2]),o)},p.push(["lab",R])}).call(this)}).call(this,n(46)(e))},function(e,t,n){e.exports=n(15)(434)},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(48);case"v8light":return n(50)}},function(e,t,n){var r=n(30),o=n(49);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},function(e,t,n){(t=n(31)(!1)).push([e.i,".timelionChart{height:100%;width:100%;display:flex;flex-direction:column}.timelionChart__topTitle{text-align:center}\n",""]),e.exports=t},function(e,t,n){var r=n(30),o=n(51);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},function(e,t,n){(t=n(31)(!1)).push([e.i,".timelionChart{height:100%;width:100%;display:flex;flex-direction:column}.timelionChart__topTitle{text-align:center}\n",""]),e.exports=t},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"getTimelionRequestHandler",(function(){return tt})),n.d(t,"TimelionVisComponent",(function(){return Ot}));var r={};n.r(r),n.d(r,"buildNode",(function(){return U})),n.d(r,"toElasticsearchQuery",(function(){return D}));var o={};n.r(o),n.d(o,"wildcardSymbol",(function(){return Q})),n.d(o,"buildNode",(function(){return z})),n.d(o,"test",(function(){return W})),n.d(o,"toElasticsearchQuery",(function(){return Y})),n.d(o,"toQueryStringQuery",(function(){return H})),n.d(o,"hasLeadingWildcard",(function(){return V}));var i={};n.r(i),n.d(i,"buildNodeParams",(function(){return ne})),n.d(i,"toElasticsearchQuery",(function(){return re}));var a={};n.r(a),n.d(a,"buildNodeParams",(function(){return oe})),n.d(a,"toElasticsearchQuery",(function(){return ie}));var u={};n.r(u),n.d(u,"buildNodeParams",(function(){return ae})),n.d(u,"toElasticsearchQuery",(function(){return ue}));var c={};n.r(c),n.d(c,"buildNodeParams",(function(){return ce})),n.d(c,"toElasticsearchQuery",(function(){return se}));var s={};n.r(s),n.d(s,"buildNodeParams",(function(){return le})),n.d(s,"toElasticsearchQuery",(function(){return fe}));var l={};n.r(l),n.d(l,"buildNodeParams",(function(){return de})),n.d(l,"toElasticsearchQuery",(function(){return he}));var f={};n.r(f),n.d(f,"buildNodeParams",(function(){return pe})),n.d(f,"toElasticsearchQuery",(function(){return be}));var d={};n.r(d),n.d(d,"buildNode",(function(){return ve})),n.d(d,"buildNodeWithArgumentNodes",(function(){return me})),n.d(d,"toElasticsearchQuery",(function(){return ye}));var h,p,b=n(5),g=n(29),v=n.n(g),m=n(28),y=n.n(m),w=n(3),x=n.n(w),j=n(37),k=n.n(j),_=function(e,t){if("boolean"!=typeof t&&"boolean"===e.type){if([1,"true"].includes(t))return!0;if([0,"false"].includes(t))return!1;throw new Error("".concat(t," is not a valid boolean value for boolean field ").concat(e.name))}return"number"!=typeof t&&"number"===e.type?Number(t):t},O=function(e){var t=Object(w.has)(e,"query.match_phrase"),n=Object(w.get)(e,"query.match",[]),r=void 0!==Object.values(n).find((function(e){return"phrase"===e.type}));return t||r},N=function(e,t){var n=_(e,t);return{script:{source:A(e),lang:e.lang,params:{value:n}}}},A=function(e){return"painless"===e.lang?"boolean compare(Supplier s, def v) {return s.get() == v;}"+"compare(() -> { ".concat(e.script," }, params.value);"):"(".concat(e.script,") == value")};!function(e){e.CUSTOM="custom",e.PHRASES="phrases",e.PHRASE="phrase",e.EXISTS="exists",e.MATCH_ALL="match_all",e.QUERY_STRING="query_string",e.RANGE="range",e.RANGE_FROM_VALUE="range_from_value",e.SPATIAL_FILTER="spatial_filter"}(h||(h={})),function(e){e.APP_STATE="appState",e.GLOBAL_STATE="globalState"}(p||(p={}));var M={gt:">",gte:">=",lte:"<=",lt:"<"},S={gt:"boolean gt(Supplier s, def v) {return s.get() > v}",gte:"boolean gte(Supplier s, def v) {return s.get() >= v}",lte:"boolean lte(Supplier s, def v) {return s.get() <= v}",lt:"boolean lt(Supplier s, def v) {return s.get() < v}"},C={gt:"boolean gt(Supplier s, def v) {return s.get().toInstant().isAfter(Instant.parse(v))}",gte:"boolean gte(Supplier s, def v) {return !s.get().toInstant().isBefore(Instant.parse(v))}",lte:"boolean lte(Supplier s, def v) {return !s.get().toInstant().isAfter(Instant.parse(v))}",lt:"boolean lt(Supplier s, def v) {return s.get().toInstant().isBefore(Instant.parse(v))}"},E=function(e,t){var n=Object(w.mapValues)(Object(w.pickBy)(t,(function(e,t){return t in M})),(function(t){return"number"===e.type&&"string"==typeof t?parseFloat(t):t})),r=Object(w.map)(n,(function(t,n){return"("+e.script+")"+Object(w.get)(M,n)+n})).join(" && ");if("painless"===e.lang){var o="date"===e.type?C:S,i=Object(w.reduce)(n,(function(e,t,n){return e.concat(Object(w.get)(o,n))}),[]).join(" "),a=Object(w.map)(n,(function(t,n){return"".concat(n,"(() -> { ").concat(e.script," }, params.").concat(n,")")})).join(" && ");r="".concat(i).concat(a)}return{script:{source:r,params:n,lang:e.lang}}};var T=function(e){return function(e){return Object(w.has)(e,"query.exists")}(e)?function(e){return e.query.exists&&e.query.exists.field}(e):O(e)?function(e){var t,n,r=null!==(t=null!==(n=e.query.match_phrase)&&void 0!==n?n:e.query.match)&&void 0!==t?t:{};return Object.keys(r)[0]}(e):function(e){var t;return(null==e||null===(t=e.meta)||void 0===t?void 0:t.type)===h.PHRASES}(e)?function(e){return e.meta.key}(e):function(e){return Object(w.has)(e,"query.range")}(e)?function(e){return e.query.range&&Object.keys(e.query.range)[0]}(e):void 0};var q=function(e){return Object(w.get)(e,"meta.disabled",!1)},L=function(e){return Object(w.omit)(e,["meta","$state"])};function P(e,t){if(function(e){var t,n,r=Object.keys(null!==(t=e.match||(null===(n=e.query)||void 0===n?void 0:n.match))&&void 0!==t?t:{})[0];return Boolean(r&&("phrase"===Object(w.get)(e,["query","match",r,"type"])||"phrase"===Object(w.get)(e,["match",r,"type"])))}(e)){var n=e.match||e.query.match,r=Object.keys(n)[0],o=Object(w.get)(n,[r]),i=o.query;if(t){var a=t.fields.find((function(e){return e.name===r}));a&&(i=_(a,o.query))}return{meta:e.meta,$state:e.$state,query:{match_phrase:v()({},r,Object(w.omit)(y()(y()({},o),{},{query:i}),"type"))}}}return e.query||(e.query={}),e.exists&&(e.query.exists=e.exists,delete e.exists),e.range&&(e.query.range=e.range,delete e.range),e.match_all&&(e.query.match_all=e.match_all,delete e.match_all),Object.keys(e).forEach((function(t){"meta"!==t&&"query"!==t&&"$state"!==t&&(e.query[t]=e[t],delete e[t])})),e}var I=n(35),B=n.n(I),F=n(32),R=n.n(F);function U(e){return{type:"literal",value:e}}function D(e){return e.value}var Q="@kuery-wildcard@";function $(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function G(e){return e.replace(/[+-=&|><!(){}[\]^"~*?:\\/]/g,"\\$&")}function z(e){return e.includes(Q)?{type:"wildcard",value:e}:Fe(e)}function W(e,t){var n=e.value.split(Q).map($).join("[\\s\\S]*");return new RegExp("^".concat(n,"$")).test(t)}function Y(e){return e.value.split(Q).join("*")}function H(e){return e.value.split(Q).map(G).join("*")}function V(e){var t=e.value;return t.startsWith(Q)&&t.replace(Q,"").length>0}function Z(e,t){if(!t)return[];if("literal"===e.type){var n=D(e),r=t.fields.find((function(e){return e.name===n}));return r?[r]:[]}return"wildcard"===e.type?t.fields.filter((function(t){return W(e,t.name)})):void 0}var K=n(19),X=n.n(K);function J(e){var t=X.a.tz.guess();return"Browser"===e?t:e}function ee(e){return function(e){var t,n=null==e?void 0:e.subType;return!(null==n||null===(t=n.nested)||void 0===t||!t.path)}(e)?e.subType:void 0}function te(e,t,n){var r=y()(y()({},e),{},{value:n?"".concat(n,".").concat(e.value):e.value});if(!t||"wildcard"===r.type&&!n)return r;var o=Z(r,t).reduce((function(e,t){var r=ee(t),o=null==r?void 0:r.nested.path;return n&&!o?[].concat(B()(e),["".concat(t.name,' is not a nested field but is in nested group "').concat(n,'" in the KQL expression.')]):o&&!n?[].concat(B()(e),["".concat(t.name," is a nested field, but is not in a nested group in the KQL expression.")]):o!==n?[].concat(B()(e),["Nested field ".concat(t.name," is being queried with the incorrect nested path. The correct path is ").concat(null==r?void 0:r.nested.path,".")]):e}),[]);if(o.length>0)throw new Error(o.join("\n"));return r}function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object(w.isUndefined)(e))throw new Error("fieldName is a required argument");if(Object(w.isUndefined)(t))throw new Error("value is a required argument");var r="string"==typeof e?Fe(e):U(e),o="string"==typeof t?Fe(t):U(t),i=U(n);return{arguments:[r,o,i]}}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=R()(e.arguments,3),i=o[0],a=o[1],u=o[2],c="wildcard"===a.type&&a.value===Q,s="wildcard"===i.type&&i.value===Q,l=c&&s;if(l)return{match_all:{}};var f=te(i,t,null!=r&&r.nested?r.nested.path:void 0),d=Object(w.isUndefined)(a)?a:Ue(a),h=u.value?"phrase":"best_fields";if(null===f.value)return"wildcard"===a.type?{query_string:{query:H(a)}}:{multi_match:{type:h,query:d,lenient:!0}};var p=t?Z(f,t):[];if(p&&0===p.length&&p.push({name:Ue(f),scripted:!1,type:""}),c&&(null==p||!p.length||(null==p?void 0:p.length)===(null==t?void 0:t.fields.length)))return{match_all:{}};var b=p.reduce((function(e,t){var o=function(e){var n=ee(t);return"wildcard"!==f.type||null==n||!n.nested||null!=r&&r.nested?e:{nested:{path:n.nested.path,query:e,score_mode:"none"}}};if(!t.scripted){if(c)return[].concat(B()(e),[o({exists:{field:t.name}})]);if("wildcard"===a.type)return[].concat(B()(e),[o({query_string:{fields:[t.name],query:H(a)}})]);if("date"===t.type){var i=n.dateFormatTZ?{time_zone:J(n.dateFormatTZ)}:{};return[].concat(B()(e),[o({range:v()({},t.name,y()({gte:d,lte:d},i))})])}var u="phrase"===h?"match_phrase":"match";return[].concat(B()(e),[o(v()({},u,v()({},t.name,d)))])}if(!c)return[].concat(B()(e),[{script:y()({},N(t,d))}])}),[]);return{bool:{should:b||[],minimum_should_match:1}}}function oe(e){return{arguments:e}}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.filtersInMustClause,i=e.arguments||[],a=o?"must":"filter";return{bool:v()({},a,i.map((function(e){return Ue(e,t,n,r)})))}}function ae(e){return{arguments:e}}function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.arguments||[];return{bool:{should:o.map((function(e){return Ue(e,t,n,r)})),minimum_should_match:1}}}function ce(e){return{arguments:[e]}}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=R()(e.arguments,1),i=o[0];return{bool:{must_not:Ue(i,t,n,r)}}}function le(e,t,n){return{arguments:[Fe(e),t,we.literal.buildNode(n)]}}function fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=R()(e.arguments,3),i=o[0],a=o[1],u=o[2],c=te(i,t,null!=r&&r.nested?r.nested.path:void 0),s=t?Z(c,t):[];s&&0===s.length&&s.push({name:Ue(c),scripted:!1,type:""});var l=s.map((function(e){var t=function(t){var n=ee(e);return"wildcard"!==c.type||null==n||!n.nested||r.nested?t:{nested:{path:n.nested.path,query:t,score_mode:"none"}}},o=v()({},a,Ue(u));if(e.scripted)return{script:E(e,o)};if("date"===e.type){var i=n.dateFormatTZ?{time_zone:J(n.dateFormatTZ)}:{};return t({range:v()({},e.name,y()(y()({},o),i))})}return t({range:v()({},e.name,o)})}));return{bool:{should:l,minimum_should_match:1}}}function de(e){return{arguments:[U(e)]}}function he(e,t){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=R()(e.arguments,1),i=o[0],a=y()(y()({},i),{},{value:null!=r&&r.nested?"".concat(r.nested.path,".").concat(i.value):i.value}),u=D(a),c=null==t||null===(n=t.fields)||void 0===n?void 0:n.find((function(e){return e.name===u}));if(null!=c&&c.scripted)throw new Error("Exists query does not support scripted fields");return{exists:{field:u}}}function pe(e,t){return{arguments:["string"==typeof e?Fe(e):U(e),t]}}function be(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=R()(e.arguments,2),a=i[0],u=i[1],c=Ue(a),s=null!=o&&null!==(n=o.nested)&&void 0!==n&&n.path?"".concat(o.nested.path,".").concat(c):c;return{nested:{path:s,query:Ue(u,t,r,y()(y()({},o),{},{nested:{path:s}})),score_mode:"none"}}}var ge={is:i,and:a,or:u,not:c,range:s,exists:l,nested:f};function ve(e){var t=ge[e];if(x.a.isUndefined(t))throw new Error('Unknown function "'.concat(e,'"'));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return y()({type:"function",function:e},t.buildNodeParams.apply(t,r))}function me(e,t){if(x.a.isUndefined(ge[e]))throw new Error('Unknown function "'.concat(e,'"'));return{type:"function",function:e,arguments:t}}function ye(e,t,n,r){return ge[e.function].toElasticsearchQuery(e,t,n,r)}var we={function:d,literal:r,wildcard:o},xe=n(39),je=n.n(xe),ke=n(40),_e=n.n(ke),Oe=n(41),Ne=n.n(Oe),Ae=n(42),Me=n.n(Ae),Se=n(43),Ce=n.n(Se),Ee=n(44),Te=n.n(Ee),qe=b.i18n.translate("esQuery.kql.errors.endOfInputText",{defaultMessage:"end of input"}),Le={fieldName:b.i18n.translate("esQuery.kql.errors.fieldNameText",{defaultMessage:"field name"}),value:b.i18n.translate("esQuery.kql.errors.valueText",{defaultMessage:"value"}),literal:b.i18n.translate("esQuery.kql.errors.literalText",{defaultMessage:"literal"}),whitespace:b.i18n.translate("esQuery.kql.errors.whitespaceText",{defaultMessage:"whitespace"})},Pe=function(e){Me()(n,e);var t=Ce()(n);function n(e,r){var o;_e()(this,n);var i=e.message;if(e.expected){var a=e.expected.map((function(e){var t,n="other"===(t=e).type?t.description:"literal"===t.type?'"'.concat(t.text,'"'):"end"===t.type?"end of input":t.text||t.description||"";return Le[n]||n})),u=Object(w.uniq)(a).filter((function(e){return void 0!==e})).sort().join(", ");i=b.i18n.translate("esQuery.kql.errors.syntaxError",{defaultMessage:"Expected {expectedList} but {foundInput} found.",values:{expectedList:u,foundInput:e.found?'"'.concat(e.found,'"'):qe}})}var c=[i,r,Object(w.repeat)("-",e.location.start.offset)+"^"].join("\n");return o=t.call(this,c),v()(Ne()(o),"shortMessage",void 0),o.name="KQLSyntaxError",o.shortMessage=i,o}return je()(n)}(Te()(Error)),Ie=n(38),Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ie.parse;if(void 0===e)throw new Error("expression must be a string, got undefined instead");return n(e,y()(y()({},t),{},{helpers:{nodeTypes:we}}))},Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Be(e,y()(y()({},t),{},{startRule:"Literal"}),Ie.parse)},Re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return Be(e,t,Ie.parse)}catch(t){throw"SyntaxError"===t.name?new Pe(t,e):t}},Ue=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!t||!t.type||!we[t.type])return e(we.function.buildNode("and",[]),n);var i=we[t.type];return i.toElasticsearchQuery(t,n,r,o)},De=function(){return Ue.apply(void 0,arguments)};function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=t.map((function(e){return Re(e.query,{allowLeadingWildcards:n})}));return $e(e,i,{dateFormatTZ:r,filtersInMustClause:o})}function $e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=we.function.buildNode("and",t),o=De(r,e,n);return Object.assign({must:[],filter:[],should:[],must_not:[]},o.bool)}function Ge(e,t){var n,r;return null===(n=e.meta)||void 0===n||!n.key||!t||("custom"===(null===(r=e.meta)||void 0===r?void 0:r.type)?e.meta.index===t.id:t.fields.some((function(t){return t.name===e.meta.key})))}var ze=function(e,t){if(!t)return e;var n=T(e);if(!n)return e;var r=t.fields.find((function(e){return e.name===n})),o=r&&ee(r);if(!o)return e;var i=L(e);return{meta:e.meta,query:{nested:{path:o.nested.path,query:i.query||i}}}},We=function(e){return function(t){return Object(w.isUndefined)(t.meta)||Object(w.isUndefined)(t.meta.negate)?!e:t.meta&&t.meta.negate===e}},Ye=function(e){return e.query||e},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e.filter((function(e){return e&&!q(e)}));var r=function(r){return e.filter((function(e){return!!e})).filter(We(r)).filter((function(e){return!n||Ge(e,t)})).map((function(e){return P(e,t)})).map((function(e){return ze(e,t)})).map(L).map(Ye)};return{must:[],filter:r(!1),should:[],must_not:r(!0)}};function Ve(e,t,n){return function(e){return Object(w.has)(e,"query_string.query")}(e)&&("string"==typeof t&&(t=JSON.parse(t)),Object(w.extend)(e.query_string,t),n&&Object(w.defaults)(e.query_string,{time_zone:J(n)})),e}function Ze(e,t,n){return{must:(e||[]).map((function(e){return Ve(function(e){return Object(w.isString)(e)?""===e.trim()?{match_all:{}}:{query_string:{query:e}}:e}(e.query),t,n)})),filter:[],should:[],must_not:[]}}function Ke(e){return e.filter((function(e){return!e||"object"!==k()(e)||!Object(w.isEqual)(e,{match_all:{}})}))}function Xe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{allowLeadingWildcards:!1,queryStringOptions:{},ignoreFilterIfFieldNotInIndex:!1};t=Array.isArray(t)?t:[t],n=Array.isArray(n)?n:[n];var o=t.filter((function(e){return Object(w.has)(e,"query")})),i=Object(w.groupBy)(o,"language"),a=Qe(e,i.kuery,r.allowLeadingWildcards,r.dateFormatTZ,r.filtersInMustClause),u=Ze(i.lucene,r.queryStringOptions,r.dateFormatTZ),c=He(n,e,r.ignoreFilterIfFieldNotInIndex);return{bool:{must:Ke([].concat(B()(a.must),B()(u.must),B()(c.must))),filter:Ke([].concat(B()(a.filter),B()(u.filter),B()(c.filter))),should:Ke([].concat(B()(a.should),B()(u.should),B()(c.should))),must_not:[].concat(B()(a.must_not),B()(u.must_not),B()(c.must_not))}}}var Je=n(0);var et=n(1);function tt({uiSettings:e,http:t,timefilter:n}){const r=function(e){if(e.isDefault("dateFormat:tz")){return X.a.tz.guess()||X()().format("Z")}return e.get("dateFormat:tz","Browser")}(e);return async function({timeRange:o,filters:i,query:a,visParams:u,searchSessionId:c,executionContext:s}){var l;const f=Object(et.b)(),d=u.expression;if(!d)throw new Error(b.i18n.translate("timelion.emptyExpressionErrorMessage",{defaultMessage:"Timelion error: No expression provided"}));let h;const p=null===(l=i[0])||void 0===l?void 0:l.meta.index;p&&(h=await Object(et.c)().get(p).catch((()=>{})));const g=Object(Je.getEsQueryConfig)(e),v=n.calculateBounds(o),m=f.session.isCurrentSession(c)&&f.session.trackSearch({abort:()=>{}});try{const e=f.session.getSearchOptions(c);return await t.post("/api/timelion/run",{body:JSON.stringify({sheet:[d],extended:{es:{filter:Xe(h,a,i,g)}},time:{from:v.min,to:v.max,interval:u.interval,timezone:r},...e&&{searchSession:e}}),context:s})}catch(e){if(e&&e.body){const t=new Error(`${b.i18n.translate("timelion.requestHandlerErrorTitle",{defaultMessage:"Timelion request error"})}:${e.body.title?" "+e.body.title:""} ${e.body.message}`);throw t.stack=e.stack,t}throw e}finally{m&&f.session.isCurrentSession(c)&&m()}}}var nt=n(4),rt=n(21),ot=n(20),it=n(8),at=n(25),ut=n(2);const ct=({color:e,bars:t})=>{var n,r;let o=null!==(n=t.fill)&&void 0!==n?n:1;return o<0?o=0:o>1&&(o=1),{rectBorder:{visible:!1},rect:{fill:e,opacity:o,widthPixel:Math.max(1,null!==(r=t.lineWidth)&&void 0!==r?r:1)}}},st=({index:e,groupId:t,visData:n})=>Object(ut.jsx)(rt.BarSeries,{id:e+n.label,groupId:t,name:n.label,xScaleType:rt.ScaleType.Time,yScaleType:rt.ScaleType.Linear,xAccessor:0,yAccessors:[1],data:n._hide?[]:n.data,sortIndex:e,enableHistogramMode:!1,color:n.color,stackAccessors:n.stack?[0]:void 0,barSeriesStyle:ct(n)});var lt=n(45),ft=n.n(lt);const dt=(e,t)=>!(null==e||!e.show)||(null==t||!t.show),ht=(e,t)=>{var n;const r=null!=e&&e.fillColor||void 0===(null==e?void 0:e.fill)?"white":t;return r&&ft()(r).alpha(null!==(n=null==e?void 0:e.fill)&&void 0!==n?n:1).css()},pt=({color:e,lines:t,points:n})=>{var r,o,i,a,u,c;return{line:{opacity:dt(t,n)?1:0,stroke:e,strokeWidth:void 0!==(null==t?void 0:t.lineWidth)?Number(t.lineWidth):3,visible:dt(t,n)},area:{fill:e,opacity:null!==(r=null==t?void 0:t.fill)&&void 0!==r?r:0,visible:null===(o=null!==(i=null==t?void 0:t.show)&&void 0!==i?i:null==n?void 0:n.show)||void 0===o||o},point:{fill:ht(n,e),opacity:1,radius:null!==(a=null==n?void 0:n.radius)&&void 0!==a?a:3,stroke:e,strokeWidth:null!==(u=null==n?void 0:n.lineWidth)&&void 0!==u?u:2,visible:null!==(c=null==n?void 0:n.show)&&void 0!==c&&c,shape:"cross"===(null==n?void 0:n.symbol)?rt.PointShape.X:null==n?void 0:n.symbol}}},bt=({index:e,groupId:t,visData:n})=>{var r;return Object(ut.jsx)(rt.AreaSeries,{id:e+n.label,groupId:t,name:n.label,xScaleType:rt.ScaleType.Time,yScaleType:rt.ScaleType.Linear,xAccessor:0,yAccessors:[1],data:n._hide?[]:n.data,sortIndex:e,color:n.color,curve:null!==(r=n.lines)&&void 0!==r&&r.steps?rt.CurveType.CURVE_STEP:rt.CurveType.LINEAR,stackAccessors:n.stack?[0]:void 0,areaSeriesStyle:pt(n)})};var gt=n(34),vt=n(36);function mt(e,t){return n=>{let r=0;const o=n<0;for(n=Math.abs(n);n>=e&&r<t.length;)n/=e,r++;return`${Math.round(100*n)/100*(o?-1:1)}${t[r]}`}}function yt(e){return{bits:mt(1e3,["b","kb","mb","gb","tb","pb"]),"bits/s":mt(1e3,["b/s","kb/s","mb/s","gb/s","tb/s","pb/s"]),bytes:mt(1024,["B","KB","MB","GB","TB","PB"]),"bytes/s":mt(1024,["B/s","KB/s","MB/s","GB/s","TB/s","PB/s"]),currency:t=>t.toLocaleString("en",{style:"currency",currency:e&&e.units&&e.units.prefix||"USD"}),percent(t){let n=Object(w.get)(e,"tickDecimals",0)-Object(w.get)(e,"units.tickDecimalsShift",0);return n<0?n=0:n>20&&(n=20),(100*t).toFixed(n)+"%"},custom(t){const n=function(e,t){const n=t.tickDecimals?Math.pow(10,t.tickDecimals):1,r=""+Math.round(e*n)/n;if(null!=t.tickDecimals){const e=r.indexOf("."),o=-1===e?0:r.length-e-1;if(o<t.tickDecimals)return(o?r:r+".")+(""+n).substr(1,t.tickDecimals-o)}return r}(t,e);return(e&&e.units&&e.units.prefix)+n+(e&&e.units&&e.units.suffix)}}}const wt=e=>({...e,padding:20,paddingUnit:"pixel"}),xt=e=>{var t,n;const r=(null!==(t=null===(n=e._global)||void 0===n?void 0:n.yaxes)&&void 0!==t?t:[]).reduce(((e,t)=>({...e,...t})),{});if(Object.keys(r).length)return(e=>{var t,n;const r={...e};if(r.units){const e=yt(r);r.tickFormatter=e[r.units.type]}else e.tickDecimals&&(r.tickFormatter=t=>t.toFixed(e.tickDecimals));return{title:r.axisLabel,position:r.position,tickFormat:r.tickFormatter,domain:wt({fit:void 0===r.min&&void 0===r.max,min:null!==(t=r.min)&&void 0!==t?t:NaN,max:null!==(n=r.max)&&void 0!==n?n:NaN})}})(r)};var jt=n(33);n(47);const kt=()=>Object(ut.jsx)(rt.Axis,{id:"left",domain:wt({fit:!1,min:NaN,max:NaN}),position:rt.Position.Left,groupId:"1"}),_t=e=>{const t=(e=>e.reduce(((e,t,n)=>{const r=xt(t),o=`${t.yaxis?t.yaxis:1}`;if(e.every((e=>e.groupId!==o)))e.push({groupId:o,domain:wt({fit:!1,min:NaN,max:NaN}),id:((null==r?void 0:r.position)||rt.Position.Left)+n,position:rt.Position.Left,...r});else if(r){const t=e.findIndex((e=>e.groupId===o));e[t]={...e[t],...r}}return e}),[]))(e).map(((e,t)=>Object(ut.jsx)(rt.Axis,{groupId:e.groupId,key:t,id:e.id,title:e.title,position:e.position,tickFormat:e.tickFormat,gridLine:{visible:!t},domain:e.domain})));return t.length?t:Object(ut.jsx)(kt,null)},Ot=({interval:e,seriesList:t,renderComplete:n,onBrushEvent:r})=>{var o;const i=Object(it.useKibana)(),a=Object(nt.useRef)(null),u=t.list,c=Object(et.a)(),s=c.theme.useChartsTheme(),l=c.theme.useChartsBaseTheme(),f=Object(at.useActiveCursor)(c.activeCursor,a,{isDateHistogram:!0}),d=Object(nt.useCallback)((({x:e})=>{e&&r({gte:e[0],lte:e[1]})}),[r]),h=Object(nt.useCallback)((e=>{e&&n()}),[n]),p=Object(nt.useMemo)((()=>Object(w.last)(Object(w.compact)(Object(w.map)(t.list,"_title")))||""),[t.list]),b=Object(nt.useMemo)((()=>((e,t,n)=>{const r=t.getBounds(),o=Object(gt.b)(r.min&&r.min.valueOf()||0,r.max&&r.max.valueOf()||0,n.get("timelion:target_buckets")||200,e,n.get("timelion:min_interval")||"1ms"),i=Object(vt.a)(n)(o);return e=>X()(e).format(i)})(e,i.services.timefilter,i.services.uiSettings)),[e,i.services.timefilter,i.services.uiSettings]),g=Object(nt.useMemo)((()=>{const e={floating:!0,floatingColumns:1,vAlign:rt.Position.Top,hAlign:rt.Position.Left,direction:rt.LayoutDirection.Vertical};let t=!0;return u.forEach((n=>{var r;if(null!==(r=n._global)&&void 0!==r&&r.legend){var o,i;const{show:r=!0,position:a,noColumns:u=e.floatingColumns}=null!==(o=null===(i=n._global)||void 0===i?void 0:i.legend)&&void 0!==o?o:{};if((e=>/^(n|s)(e|w)$/s.test(e))(a)){const[t,n]=a.split("");e.vAlign="n"===t?rt.Position.Top:rt.Position.Bottom,e.hAlign="e"===n?rt.Position.Right:rt.Position.Left}r||(t=!1),void 0!==u&&(e.floatingColumns=u)}})),{legendPosition:e,showLegend:t}}),[u]);return Object(ut.jsx)("div",{className:"timelionChart","data-test-subj":"timelionChart"},p&&Object(ut.jsx)(ot.EuiTitle,{className:"timelionChart__topTitle",size:"xxxs"},Object(ut.jsx)("h4",null,p)),Object(ut.jsx)(rt.Chart,{ref:a,renderer:"canvas",size:{width:"100%"}},Object(ut.jsx)(rt.Settings,{debugState:null!==(o=window._echDebugStateFlag)&&void 0!==o&&o,onBrushEnd:d,showLegend:g.showLegend,showLegendExtra:!0,legendPosition:g.legendPosition,onRenderChange:h,onPointerUpdate:f,theme:s,baseTheme:l,tooltip:{snap:!0,headerFormatter:({value:e})=>b(e),type:rt.TooltipType.VerticalCursor},externalPointerEvents:{tooltip:{visible:!1}}}),Object(ut.jsx)(rt.Axis,{id:"bottom",position:rt.Position.Bottom,showOverlappingTicks:!0,tickFormat:b,gridLine:{visible:!1}}),_t(u),u.map(((e,t)=>{const n={...e},r=e.bars?st:bt;return n.color||(n.color=jt.a[t%jt.a.length]),Object(ut.jsx)(r,{key:`${t}-${n.label}`,visData:n,index:u.length-t,groupId:`${n.yaxis?n.yaxis:1}`})}))))}}])]);
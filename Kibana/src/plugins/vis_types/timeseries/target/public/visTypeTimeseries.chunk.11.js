(window.visTypeTimeseries_bundle_jsonpfunction=window.visTypeTimeseries_bundle_jsonpfunction||[]).push([[11],{194:function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return _}));t(4);var a=t(31),s=t.n(a),n=t(9),o=t.n(n),i=t(1),c=t(10),l=t(15),d=t(16);const b=/\[[[a-f\d-\\]{36}\]/g;function u(e){const{error:r}=e;let t;const a=o.a.get(r,"error.caused_by.type")||o.a.get(r,"error.type");let s=o.a.get(r,"error.caused_by.reason");const n=o.a.get(r,"error.caused_by.title");if(s||(s=o.a.get(r,"message")),["runtime_exception","illegal_argument_exception"].includes(a)&&(s=o.a.get(r,"error.reason").replace(b,"")),"script_exception"===a){const e=o.a.get(r,"error.caused_by.script_stack");s=o.a.get(r,"error.caused_by.caused_by.reason"),t=Object(i.jsx)("div",{className:"tvbError__additional"},Object(i.jsx)("div",null,s),Object(i.jsx)("div",{className:"tvbError__stack"},e.join("\n")))}else s&&(t=Object(i.jsx)("div",{className:"tvbError__additional"},s));return Object(i.jsx)("div",{className:"visError"},Object(i.jsx)(l.EuiText,{size:"xs",color:"subdued"},Object(i.jsx)(l.EuiIcon,{type:"alert",size:"m",color:"danger","aria-hidden":"true"}),Object(i.jsx)(l.EuiSpacer,{size:"s"}),n||Object(i.jsx)(d.FormattedMessage,{id:"visTypeTimeseries.error.requestForPanelFailedErrorMessage",defaultMessage:"The request for this panel failed"}),t))}var j=t(55),m=t(71),f=t(63);function _(e){const{backgroundColor:r,model:t,visData:a,getConfig:o,fieldFormatMap:l}=e,d=Object(n.get)(a,`${t.id}.series`,[]),b=Object(m.a)(d,t,o,l),_=t.background_color||r,v={backgroundColor:_};let p;if(t.markdown){const e=Object(j.a)(t.markdown,{},{_all:b,...b}),r=s()("kbnMarkdown__body",{"kbnMarkdown__body--reversed":Object(f.b)(_)}),a=s()("tvbMarkdown__content",`tvbMarkdown__content--${t.markdown_vertical_align}`,{"tvbMarkdown__content-isScrolling":t.markdown_scrollbars},r),n=e instanceof Error?e:null;p=Object(i.jsx)("div",{className:"tvbMarkdown","data-test-subj":"tsvbMarkdown"},n&&Object(i.jsx)(u,{error:n}),Object(i.jsx)(i.ClassNames,null,(({css:r,cx:s})=>Object(i.jsx)("div",{className:s(a,r(t.markdown_css))},Object(i.jsx)("div",null,!n&&Object(i.jsx)(c.Markdown,{markdown:e,openLinksInNewTab:t.markdown_openLinksInNewTab}))))))}return Object(i.jsx)("div",{className:"tvbVis",style:v},p)}},55:function(e,r,t){"use strict";t.d(r,"a",(function(){return i}));var a=t(61),s=t.n(a),n=t(7),o=t(41);function i(e,r={},t={},a={}){try{const n=s.a.compile(e.split(o.a).join(`[${o.a}]`),{strict:!0,knownHelpersOnly:!0,...a});return n({...t,args:r})}catch(r){if(-1!==r.toString().indexOf("Parse error"))return e;if(-1!==r.message.indexOf("not defined in")){const e=r.message.split(/"/)[1];r.error={caused_by:{reason:n.i18n.translate("visTypeTimeseries.replaceVars.errors.unknownVarDescription",{defaultMessage:"{badVar} is an unknown variable",values:{badVar:"{{"+e+"}}"}}),title:n.i18n.translate("visTypeTimeseries.replaceVars.errors.unknownVarTitle",{defaultMessage:"Error processing your markdown"})}}}else r.error={caused_by:{reason:n.i18n.translate("visTypeTimeseries.replaceVars.errors.markdownErrorDescription",{defaultMessage:"Please verify you are only using markdown, known variables, and built-in Handlebars expressions"}),title:n.i18n.translate("visTypeTimeseries.replaceVars.errors.markdownErrorTitle",{defaultMessage:"Error processing your markdown"})}};return r}}},63:function(e,r,t){"use strict";t.d(r,"a",(function(){return c})),t.d(r,"b",(function(){return l}));var a=t(51),s=t.n(a),n=t(0);const o=e=>s()(e).luminosity()<.45,i=e=>{let r=e||Object(n.f)().get("theme:darkMode");return"string"==typeof e&&(r=o(e)),r},c=(e,r)=>{const t=i(r);return e&&"inherit"!==e?o(e):t},l=(e,r)=>c(e,r)!==i(r)},71:function(e,r,t){"use strict";t.d(r,"a",(function(){return m}));var a=t(34),s=t(9),n=t(2),o=t(44),i=t(41),c=t(48),l=t(53),d=t(54),b=t(56),u=t(29),j=t.n(u);const m=(e,r,t=null,u)=>{var m;const f={},_=null!==(m=null==t?void 0:t("dateFormat"))&&void 0!==m?m:"lll";return r.series.forEach((r=>{e.filter((e=>Object(s.startsWith)(e.id,r.id))).forEach((e=>{let m=Object(i.b)(e.label);m!==i.a&&(m=Object(s.snakeCase)(m));const v=[m,Object(s.snakeCase)(r.var_name)].filter((e=>e)).join("."),p=r.formatter===n.b.DEFAULT?Object(d.a)(Object(l.a)(r.metrics),u):Object(c.a)(r.formatter,r.value_template,t),g=Object(o.b)(e.data),k={last:{raw:g,formatted:p(g)},data:{raw:e.data,formatted:e.data.map((e=>[j()(e[0]).format(_),p(e[1])]))}},O=r.split_mode===n.a.TERMS?Object(d.a)(r.terms_field,u)(e.label):e.label;if(Object(a.set)(f,v,k),Object(a.set)(f,`${m}.label`,O),e.labelFormatted){const r=Object(b.a)(e.labelFormatted,_);Object(a.set)(f,`${m}.formatted`,r)}}))})),f}}}]);
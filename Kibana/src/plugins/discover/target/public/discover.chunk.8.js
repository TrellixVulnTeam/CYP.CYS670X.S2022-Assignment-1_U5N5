(window.discover_bundle_jsonpfunction=window.discover_bundle_jsonpfunction||[]).push([[8],{224:function(e,t,i){"use strict";i.r(t);i(100);var l=i(3),s=i(15),a=i(19),o=i(42),n=i(8),d=i(41),c=i(105),r=i(2),u=i(5);function b({onClick:e,disabled:t=!1}){const i=t?Object(u.jsx)(d.FormattedMessage,{id:"discover.docViews.table.unindexedFieldsCanNotBeSearchedTooltip",defaultMessage:"Unindexed fields or ignored values cannot be searched"}):Object(u.jsx)(d.FormattedMessage,{id:"discover.docViews.table.filterOutValueButtonTooltip",defaultMessage:"Filter out value"});return Object(u.jsx)(s.EuiToolTip,{content:i},Object(u.jsx)(s.EuiButtonIcon,{"aria-label":r.i18n.translate("discover.docViews.table.filterOutValueButtonAriaLabel",{defaultMessage:"Filter out value"}),className:"kbnDocViewer__actionButton","data-test-subj":"removeInclusiveFilterButton",disabled:t,onClick:e,iconType:"minusInCircle",iconSize:"s"}))}function f({onClick:e,disabled:t=!1,scripted:i=!1}){const l=t?i?Object(u.jsx)(d.FormattedMessage,{id:"discover.docViews.table.unableToFilterForPresenceOfScriptedFieldsTooltip",defaultMessage:"Unable to filter for presence of scripted fields"}):Object(u.jsx)(d.FormattedMessage,{id:"discover.docViews.table.unableToFilterForPresenceOfMetaFieldsTooltip",defaultMessage:"Unable to filter for presence of meta fields"}):Object(u.jsx)(d.FormattedMessage,{id:"discover.docViews.table.filterForFieldPresentButtonTooltip",defaultMessage:"Filter for field present"});return Object(u.jsx)(s.EuiToolTip,{content:l},Object(u.jsx)(s.EuiButtonIcon,{"aria-label":r.i18n.translate("discover.docViews.table.filterForFieldPresentButtonAriaLabel",{defaultMessage:"Filter for field present"}),onClick:e,className:"kbnDocViewer__actionButton","data-test-subj":"addExistsFilterButton",disabled:t,iconType:"filter",iconSize:"s"}))}function j({onClick:e,active:t,disabled:i=!1,fieldname:l=""}){return i?Object(u.jsx)(s.EuiButtonIcon,{"aria-label":r.i18n.translate("discover.docViews.table.toggleColumnInTableButtonAriaLabel",{defaultMessage:"Toggle column in table"}),className:"kbnDocViewer__actionButton","data-test-subj":"toggleColumnButton",disabled:!0,iconType:"listAdd",iconSize:"s"}):Object(u.jsx)(s.EuiToolTip,{content:Object(u.jsx)(d.FormattedMessage,{id:"discover.docViews.table.toggleColumnInTableButtonTooltip",defaultMessage:"Toggle column in table"})},Object(u.jsx)(s.EuiButtonIcon,{"aria-label":r.i18n.translate("discover.docViews.table.toggleColumnInTableButtonAriaLabel",{defaultMessage:"Toggle column in table"}),"aria-pressed":t,onClick:e,className:"kbnDocViewer__actionButton","data-test-subj":`toggleColumnButton-${l}`,iconType:"listAdd",iconSize:"s"}))}function g({onClick:e,disabled:t=!1}){const i=t?Object(u.jsx)(d.FormattedMessage,{id:"discover.docViews.table.unindexedFieldsCanNotBeSearchedTooltip",defaultMessage:"Unindexed fields or ignored values cannot be searched"}):Object(u.jsx)(d.FormattedMessage,{id:"discover.docViews.table.filterForValueButtonTooltip",defaultMessage:"Filter for value"});return Object(u.jsx)(s.EuiToolTip,{content:i},Object(u.jsx)(s.EuiButtonIcon,{"aria-label":r.i18n.translate("discover.docViews.table.filterForValueButtonAriaLabel",{defaultMessage:"Filter for value"}),className:"kbnDocViewer__actionButton","data-test-subj":"addInclusiveFilterButton",disabled:t,onClick:e,iconType:"plusInCircle",iconSize:"s"}))}const m=({isActive:e,field:t,fieldMapping:i,flattenedField:l,onToggleColumn:s,onFilter:a,ignoredValue:o})=>Object(u.jsx)("div",{className:"kbnDocViewer__buttons"},Object(u.jsx)(g,{disabled:!i||!i.filterable||o,onClick:()=>a(i,l,"+")}),Object(u.jsx)(b,{disabled:!i||!i.filterable||o,onClick:()=>a(i,l,"-")}),Object(u.jsx)(j,{active:e,fieldname:t,onClick:()=>s(t)}),Object(u.jsx)(f,{disabled:!i||!i.filterable,onClick:()=>a("_exists_",t,"+"),scripted:i&&i.scripted}));var p=i(106);const O={field:"action",className:"kbnDocViewer__tableActionsCell",width:"108px",mobileOptions:{header:!1},name:Object(u.jsx)(s.EuiText,{size:"xs"},Object(u.jsx)("strong",null,Object(u.jsx)(d.FormattedMessage,{id:"discover.fieldChooser.discoverField.actions",defaultMessage:"Actions"}))),render:({flattenedField:e,isActive:t,onFilter:i,onToggleColumn:l},{field:{field:s,fieldMapping:a},value:{ignored:o}})=>Object(u.jsx)(m,{isActive:t,field:s,fieldMapping:a,flattenedField:e,onFilter:i,onToggleColumn:l,ignoredValue:!!o})},v=[{field:"field",className:"kbnDocViewer__tableFieldNameCell",mobileOptions:{header:!1},width:"30%",name:Object(u.jsx)(s.EuiText,{size:"xs"},Object(u.jsx)("strong",null,Object(u.jsx)(d.FormattedMessage,{id:"discover.fieldChooser.discoverField.name",defaultMessage:"Field"}))),render:({field:e,fieldType:t,displayName:i,fieldMapping:l,scripted:s})=>e?Object(u.jsx)(c.a,{fieldName:i,fieldType:t,fieldMapping:l,scripted:s}):Object(u.jsx)("span",null,"Â ")},{field:"value",className:"kbnDocViewer__tableValueCell",mobileOptions:{header:!1},name:Object(u.jsx)(s.EuiText,{size:"xs"},Object(u.jsx)("strong",null,Object(u.jsx)(d.FormattedMessage,{id:"discover.fieldChooser.discoverField.value",defaultMessage:"Value"}))),render:({formattedValue:e,ignored:t},{field:{field:i},action:{flattenedField:l}})=>Object(u.jsx)(p.a,{field:i,formattedValue:e,rawValue:l,ignoreReason:t})}];var x=i(73),F=i(86),T=i(69),M=i(76);t.default=({columns:e,hit:t,indexPattern:i,filter:d,onAddColumn:c,onRemoveColumn:r})=>{const{fieldFormats:b,uiSettings:f}=Object(a.a)(),j=Object(l.useMemo)((()=>f.get(n.SHOW_MULTIFIELDS)),[f]),g=Object(l.useCallback)((e=>i.fields.getByName(e)),[i.fields]),m=Object(l.useMemo)((()=>d?[O,...v]:v),[d]),p=Object(l.useCallback)((t=>{r&&c&&e&&(e.includes(t)?r(t):c(t))}),[r,c,e]),V=Object(l.useCallback)((({field:{field:e}})=>({key:e,className:"kbnDocViewer__tableRow","data-test-subj":`tableDocViewRow-${e}`})),[]),C=Object(o.flattenHit)(t,i,{source:!0,includeIgnoredValues:!0}),w=Object(x.a)(Object.keys(C),i,j),_=Object.keys(C).filter((e=>w.includes(e))).sort(((e,t)=>{const i=g(e),l=g(t),s=i&&i.displayName?i.displayName:e,a=l&&l.displayName?l.displayName:t;return s.localeCompare(a)})).map((l=>{var s;const a=g(l),o=null!==(s=null==a?void 0:a.displayName)&&void 0!==s?s:l,n=Object(M.a)(l,i)?"nested":null==a?void 0:a.type,c=Object(F.b)(null!=a?a:l,t._ignored);return{action:{onToggleColumn:p,onFilter:d,isActive:!(null==e||!e.includes(l)),flattenedField:C[l]},field:{field:l,displayName:o,fieldMapping:a,fieldType:n,scripted:Boolean(null==a?void 0:a.scripted)},value:{formattedValue:Object(T.a)(C[l],t,b,i,a),ignored:c}}}));return Object(u.jsx)(s.EuiInMemoryTable,{tableLayout:"auto",className:"kbnDocViewer__table",items:_,columns:m,rowProps:V,pagination:!1,responsive:!1})}}}]);
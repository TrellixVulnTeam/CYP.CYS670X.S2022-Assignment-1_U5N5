!function(e){function t(t){for(var n,s,a=t[0],r=t[1],o=0,p=[];o<a.length;o++)s=a[o],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);for(l&&l(t);p.length;)p.shift()()}var n={},i={0:0};function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,s){n=i[e]=[t,s]}));t.push(n[2]=a);var r,o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=function(e){return s.p+"expressionPie.chunk."+e+".js"}(e);var l=new Error;r=function(t){o.onerror=o.onload=null,clearTimeout(p);var n=i[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",l.name="ChunkLoadError",l.type=s,l.request=a,n[1](l)}i[e]=void 0}};var p=setTimeout((function(){r({type:"timeout",target:o})}),12e4);o.onerror=o.onload=r,document.head.appendChild(o)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var a=window.expressionPie_bundle_jsonpfunction=window.expressionPie_bundle_jsonpfunction||[],r=a.push.bind(a);a.push=t,a=a.slice();for(var o=0;o<a.length;o++)t(a[o]);var l=r;s(s.s=11)}([function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));const i="expressionPie",s="expressionPie",a="pie_vis",r="pie_labels_value",o="pie_labels",l=2},function(e,t,n){"use strict";let i,s,a;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),function(e){e[e.SMALL=.3]="SMALL",e[e.MEDIUM=.54]="MEDIUM",e[e.LARGE=.7]="LARGE"}(i||(i={})),function(e){e.INSIDE="inside",e.DEFAULT="default"}(s||(s={})),function(e){e.PERCENT="percent",e.VALUE="value"}(a||(a={}))},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,n){"use strict";n.r(t),n.d(t,"PLUGIN_ID",(function(){return i.e})),n.d(t,"PLUGIN_NAME",(function(){return i.f})),n.d(t,"PIE_VIS_EXPRESSION_NAME",(function(){return i.d})),n.d(t,"PIE_LABELS_VALUE",(function(){return i.c})),n.d(t,"PIE_LABELS_FUNCTION",(function(){return i.b})),n.d(t,"pieVisFunction",(function(){return o})),n.d(t,"pieLabelsFunction",(function(){return l})),n.d(t,"ValueFormats",(function(){return a.c})),n.d(t,"LabelPositions",(function(){return a.b})),n.d(t,"EmptySizeRatios",(function(){return a.a}));var i=n(1),s=n(0),a=n(2),r=n(7);const o=()=>({name:i.d,type:"render",inputTypes:["datatable"],help:s.i18n.translate("expressionPie.pieVis.function.help",{defaultMessage:"Pie visualization"}),args:{metric:{types:["vis_dimension"],help:s.i18n.translate("expressionPie.pieVis.function.args.metricHelpText",{defaultMessage:"Metric dimensions config"}),required:!0},buckets:{types:["vis_dimension"],help:s.i18n.translate("expressionPie.pieVis.function.args.bucketsHelpText",{defaultMessage:"Buckets dimensions config"}),multi:!0},splitColumn:{types:["vis_dimension"],help:s.i18n.translate("expressionPie.pieVis.function.args.splitColumnHelpText",{defaultMessage:"Split by column dimension config"}),multi:!0},splitRow:{types:["vis_dimension"],help:s.i18n.translate("expressionPie.pieVis.function.args.splitRowHelpText",{defaultMessage:"Split by row dimension config"}),multi:!0},addTooltip:{types:["boolean"],help:s.i18n.translate("expressionPie.pieVis.function.args.addTooltipHelpText",{defaultMessage:"Show tooltip on slice hover"}),default:!0},addLegend:{types:["boolean"],help:s.i18n.translate("expressionPie.pieVis.function.args.addLegendHelpText",{defaultMessage:"Show legend chart legend"})},legendPosition:{types:["string"],help:s.i18n.translate("expressionPie.pieVis.function.args.legendPositionHelpText",{defaultMessage:"Position the legend on top, bottom, left, right of the chart"})},nestedLegend:{types:["boolean"],help:s.i18n.translate("expressionPie.pieVis.function.args.nestedLegendHelpText",{defaultMessage:"Show a more detailed legend"}),default:!1},truncateLegend:{types:["boolean"],help:s.i18n.translate("expressionPie.pieVis.function.args.truncateLegendHelpText",{defaultMessage:"Defines if the legend items will be truncated or not"}),default:!0},maxLegendLines:{types:["number"],help:s.i18n.translate("expressionPie.pieVis.function.args.maxLegendLinesHelpText",{defaultMessage:"Defines the number of lines per legend item"})},distinctColors:{types:["boolean"],help:s.i18n.translate("expressionPie.pieVis.function.args.distinctColorsHelpText",{defaultMessage:"Maps different color per slice. Slices with the same value have the same color"}),default:!1},isDonut:{types:["boolean"],help:s.i18n.translate("expressionPie.pieVis.function.args.isDonutHelpText",{defaultMessage:"Displays the pie chart as donut"}),default:!1},emptySizeRatio:{types:["number"],help:s.i18n.translate("expressionPie.pieVis.function.args.emptySizeRatioHelpText",{defaultMessage:"Defines donut inner empty area size"}),default:a.a.SMALL},palette:{types:["palette","system_palette"],help:s.i18n.translate("expressionPie.pieVis.function.args.paletteHelpText",{defaultMessage:"Defines the chart palette name"}),default:"{palette}"},labels:{types:[i.c],help:s.i18n.translate("expressionPie.pieVis.function.args.labelsHelpText",{defaultMessage:"Pie labels config"}),default:`{${i.b}}`}},fn(e,t,n){var a,o,l;const p={...t,palette:t.palette,dimensions:{metric:t.metric,buckets:t.buckets,splitColumn:t.splitColumn,splitRow:t.splitRow}};if(null!=n&&null!==(a=n.inspectorAdapters)&&void 0!==a&&a.tables){const i=Object(r.prepareLogTable)(e,[[[t.metric],s.i18n.translate("expressionPie.pieVis.function.dimension.metric",{defaultMessage:"Slice size"})],[t.buckets,s.i18n.translate("expressionPie.pieVis.function.dimension.buckets",{defaultMessage:"Slice"})],[t.splitColumn,s.i18n.translate("expressionPie.pieVis.function.dimension.splitcolumn",{defaultMessage:"Column split"})],[t.splitRow,s.i18n.translate("expressionPie.pieVis.function.dimension.splitrow",{defaultMessage:"Row split"})]]);n.inspectorAdapters.tables.logDatatable("default",i)}return{type:"render",as:i.d,value:{visData:e,visConfig:p,syncColors:null!==(o=null==n||null===(l=n.isSyncColorsEnabled)||void 0===l?void 0:l.call(n))&&void 0!==o&&o,visType:"pie",params:{listenOnChange:!0}}}}}),l=()=>({name:i.b,help:s.i18n.translate("expressionPie.pieLabels.function.help",{defaultMessage:"Generates the pie labels object"}),type:i.c,args:{show:{types:["boolean"],help:s.i18n.translate("expressionPie.pieLabels.function.args.show.help",{defaultMessage:"Displays the pie labels"}),default:!0},position:{types:["string"],default:"default",help:s.i18n.translate("expressionPie.pieLabels.function.args.position.help",{defaultMessage:"Defines the label position"})},values:{types:["boolean"],help:s.i18n.translate("expressionPie.pieLabels.function.args.values.help",{defaultMessage:"Displays the values inside the slices"}),default:!0},percentDecimals:{types:["number"],help:s.i18n.translate("expressionPie.pieLabels.function.args.percentDecimals.help",{defaultMessage:"Defines the number of decimals that will appear on the values as percent"}),default:2},lastLevel:{types:["boolean"],help:s.i18n.translate("expressionPie.pieLabels.function.args.lastLevel.help",{defaultMessage:"Show top level labels only"}),default:!0},truncate:{types:["number"],help:s.i18n.translate("expressionPie.pieLabels.function.args.truncate.help",{defaultMessage:"Defines the number of characters that the slice value will display"}),default:null},valuesFormat:{types:["string"],default:"percent",help:s.i18n.translate("expressionPie.pieLabels.function.args.valuesFormat.help",{defaultMessage:"Defines the format of the values"})}},fn:(e,t)=>({type:i.c,show:t.show,position:t.position,percentDecimals:t.percentDecimals,values:t.values,truncate:t.truncate,valuesFormat:t.valuesFormat,last_level:t.lastLevel})})},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/visualizations/common/prepare_log_table");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){n(12),__kbnBundles__.define("plugin/expressionPie/public",n,13),__kbnBundles__.define("plugin/expressionPie/common",n,4)},function(e,t,n){n.p=window.__kbnPublicPath__.expressionPie},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return h}));var i=n(4),s=n(6),a=n(5),r=n(8),o=n(0),l=n(9),p=n(10),u=n(1),c=n(3);const d=()=>o.i18n.translate("expressionPie.renderer.pieVis.displayName",{defaultMessage:"Pie visualization"}),f=()=>o.i18n.translate("expressionPie.renderer.pieVis.helpDescription",{defaultMessage:"Render a pie"}),g=Object(s.lazy)((()=>n.e(1).then(n.bind(null,29))));const b=({theme:e,palettes:t,getStartDeps:n})=>({name:u.d,displayName:d(),help:f(),reuseDomNode:!0,render:async(i,{visConfig:s,visData:o,syncColors:u},d)=>{const f=function(e){const t=null==e?void 0:e.rows,n=!t||!t.length;return Boolean(n)}(o);d.onDestroy((()=>{Object(a.unmountComponentAtNode)(i)}));const b=await n(),h=await t.getPalettes();Object(a.render)(Object(c.jsx)(r.I18nProvider,null,Object(c.jsx)(p.KibanaThemeProvider,{theme$:b.kibanaTheme.theme$},Object(c.jsx)(l.VisualizationContainer,{handlers:d,showNoResult:f},Object(c.jsx)(g,{chartsThemeService:e,palettesRegistry:h,visParams:s,visData:o,renderComplete:d.done,fireEvent:d.event,uiState:d.uiState,services:{data:b.data,fieldFormats:b.fieldFormats},syncColors:u})))),i)}});class plugin_ExpressionPiePlugin{setup(e,{expressions:t,charts:n}){t.registerFunction(i.pieLabelsFunction),t.registerFunction(i.pieVisFunction);t.registerRenderer(b({theme:n.theme,palettes:n.palettes,getStartDeps:async()=>{const[t,n]=await e.getStartServices(),{data:i,fieldFormats:s}=n,{theme:a}=t;return{data:i,fieldFormats:s,kibanaTheme:a}}}))}start(e,t){}stop(){}}function h(){return new plugin_ExpressionPiePlugin}},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t){e.exports=__kbnSharedDeps_npm__}]);
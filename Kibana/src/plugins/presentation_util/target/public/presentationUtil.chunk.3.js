(window.presentationUtil_bundle_jsonpfunction=window.presentationUtil_bundle_jsonpfunction||[]).push([[3],{111:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(112);case"v8light":return i(114)}},112:function(e,t,i){var n=i(9),l=i(113);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var o={insert:"head",singleton:!1};n(l,o);e.exports=l.locals||{}},113:function(e,t,i){(t=i(10)(!1)).push([e.i,".kbnFieldButton{font-size:14px;font-size:1rem;line-height:1.71429rem;border-radius:6px;margin-bottom:4px;display:flex;align-items:center;transition:box-shadow 150ms cubic-bezier(0.694, 0.0482, 0.335, 1),background-color 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.kbnFieldButton:focus-within,.kbnFieldButton-isActive{outline:2px solid currentColor}.kbnFieldButton:focus-within:focus-visible,.kbnFieldButton-isActive:focus-visible{outline-style:auto}.kbnFieldButton:focus-within:not(:focus-visible),.kbnFieldButton-isActive:not(:focus-visible){outline:none}.kbnFieldButton--isDraggable{background:#25262E}.kbnFieldButton--isDraggable:hover,.kbnFieldButton--isDraggable:focus,.kbnFieldButton--isDraggable:focus-within{box-shadow:0 0.9px 4px -1px rgba(0,0,0,0.2),0 2.6px 8px -1px rgba(0,0,0,0.15),0 5.7px 12px -1px rgba(0,0,0,0.125),0 15px 15px -1px rgba(0,0,0,0.1);border-radius:6px;z-index:2}.kbnFieldButton--isDraggable .kbnFieldButton__button:hover,.kbnFieldButton--isDraggable .kbnFieldButton__button:focus{cursor:grab}.kbnFieldButton__button{flex-grow:1;text-align:left;padding:8px;display:flex;align-items:flex-start;line-height:normal}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0;margin-right:8px}.kbnFieldButton__name{flex-grow:1;word-break:break-word}.kbnFieldButton__infoIcon{flex-shrink:0;margin-left:4px}.kbnFieldButton__fieldAction{margin-right:8px}.kbnFieldButton--small{font-size:12px}.kbnFieldButton--small .kbnFieldButton__button{padding:4px}.kbnFieldButton--small .kbnFieldButton__fieldIcon,.kbnFieldButton--small .kbnFieldButton__fieldAction{margin-right:4px}\n",""]),e.exports=t},114:function(e,t,i){var n=i(9),l=i(115);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var o={insert:"head",singleton:!1};n(l,o);e.exports=l.locals||{}},115:function(e,t,i){(t=i(10)(!1)).push([e.i,".kbnFieldButton{font-size:14px;font-size:1rem;line-height:1.71429rem;border-radius:6px;margin-bottom:4px;display:flex;align-items:center;transition:box-shadow 150ms cubic-bezier(0.694, 0.0482, 0.335, 1),background-color 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.kbnFieldButton:focus-within,.kbnFieldButton-isActive{outline:2px solid currentColor}.kbnFieldButton:focus-within:focus-visible,.kbnFieldButton-isActive:focus-visible{outline-style:auto}.kbnFieldButton:focus-within:not(:focus-visible),.kbnFieldButton-isActive:not(:focus-visible){outline:none}.kbnFieldButton--isDraggable{background:#fff}.kbnFieldButton--isDraggable:hover,.kbnFieldButton--isDraggable:focus,.kbnFieldButton--isDraggable:focus-within{box-shadow:0 0.9px 4px -1px rgba(0,0,0,0.08),0 2.6px 8px -1px rgba(0,0,0,0.06),0 5.7px 12px -1px rgba(0,0,0,0.05),0 15px 15px -1px rgba(0,0,0,0.04);border-radius:6px;z-index:2}.kbnFieldButton--isDraggable .kbnFieldButton__button:hover,.kbnFieldButton--isDraggable .kbnFieldButton__button:focus{cursor:grab}.kbnFieldButton__button{flex-grow:1;text-align:left;padding:8px;display:flex;align-items:flex-start;line-height:normal}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0;margin-right:8px}.kbnFieldButton__name{flex-grow:1;word-break:break-word}.kbnFieldButton__infoIcon{flex-shrink:0;margin-left:4px}.kbnFieldButton__fieldAction{margin-right:8px}.kbnFieldButton--small{font-size:12px}.kbnFieldButton--small .kbnFieldButton__button{padding:4px}.kbnFieldButton--small .kbnFieldButton__fieldIcon,.kbnFieldButton--small .kbnFieldButton__fieldAction{margin-right:4px}\n",""]),e.exports=t},116:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(117);case"v8light":return i(119)}},117:function(e,t,i){var n=i(9),l=i(118);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var o={insert:"head",singleton:!1};n(l,o);e.exports=l.locals||{}},118:function(e,t,i){(t=i(10)(!1)).push([e.i,".presFieldPicker__fieldButton{background:#1D1E24}.presFieldPickerFieldButtonActive{box-shadow:0 0 0 2px #36A2EF}.presFieldPicker__fieldPanel{height:300px;overflow-y:scroll}.presFieldPicker__container--disabled{opacity:.7;pointer-events:none}\n",""]),e.exports=t},119:function(e,t,i){var n=i(9),l=i(120);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var o={insert:"head",singleton:!1};n(l,o);e.exports=l.locals||{}},120:function(e,t,i){(t=i(10)(!1)).push([e.i,".presFieldPicker__fieldButton{background:#fff}.presFieldPickerFieldButtonActive{box-shadow:0 0 0 2px #07C}.presFieldPicker__fieldPanel{height:300px;overflow-y:scroll}.presFieldPicker__container--disabled{opacity:.7;pointer-events:none}\n",""]),e.exports=t},138:function(e,t,i){"use strict";i.r(t),i.d(t,"FieldPicker",(function(){return v}));var n=i(46),l=i.n(n),o=i(12),s=i(1),a=i.n(s),r=i(45),c=i(3),u=i(6),d=i.n(u),b=i(83),p=i.n(b),g=i(0),x=["type","label","size","scripted","className"],f={iconType:"questionInCircle",color:"gray"},k={boolean:{iconType:"tokenBoolean"},conflict:{iconType:"alert",color:"euiColorVis9",shape:"square"},date:{iconType:"tokenDate"},date_range:{iconType:"tokenDate"},geo_point:{iconType:"tokenGeo"},geo_shape:{iconType:"tokenGeo"},ip:{iconType:"tokenIP"},ip_range:{iconType:"tokenIP"},murmur3:{iconType:"tokenFile"},number:{iconType:"tokenNumber"},number_range:{iconType:"tokenNumber"},histogram:{iconType:"tokenHistogram"},_source:{iconType:"editorCodeBlock",color:"gray"},string:{iconType:"tokenString"},text:{iconType:"tokenString"},keyword:{iconType:"tokenKeyword"},nested:{iconType:"tokenNested"},version:{iconType:"tokenTag"}};function F(e){var t=e.type,i=e.label,n=e.size,o=void 0===n?"s":n,s=e.scripted,a=e.className,r=p()(e,x),u=k[t]||f;return Object(g.jsx)(c.EuiToken,d()({},u,{className:l()("kbnFieldIcon",a),"aria-label":i||t,title:i||t,size:o,fill:s?"dark":void 0},r))}i(111);var m=["size","isActive","fieldIcon","fieldName","fieldInfoIcon","fieldAction","className","isDraggable","onClick","dataTestSubj","buttonProps"],j={s:"kbnFieldButton--small",m:null};Object.keys(j);function _(e){var t=e.size,i=void 0===t?"m":t,n=e.isActive,o=void 0!==n&&n,s=e.fieldIcon,r=e.fieldName,c=e.fieldInfoIcon,u=e.fieldAction,b=e.className,x=e.isDraggable,f=void 0!==x&&x,k=e.onClick,F=e.dataTestSubj,_=e.buttonProps,h=p()(e,m),B=l()("kbnFieldButton",i?j[i]:null,{"kbnFieldButton-isActive":o},{"kbnFieldButton--isDraggable":f},b),v=l()("kbn-resetFocusState","kbnFieldButton__button"),y=Object(g.jsx)(a.a.Fragment,null,s&&Object(g.jsx)("span",{className:"kbnFieldButton__fieldIcon"},s),r&&Object(g.jsx)("span",{className:"kbnFieldButton__name"},r),c&&Object(g.jsx)("div",{className:"kbnFieldButton__infoIcon"},c));return Object(g.jsx)("div",d()({className:B},h),k?Object(g.jsx)("button",d()({onClick:function(e){"click"===e.type&&e.currentTarget.focus(),k()},"data-test-subj":F,className:v},_),y):Object(g.jsx)("div",{className:v,"data-test-subj":F},y),u&&Object(g.jsx)("div",{className:"kbnFieldButton__fieldAction"},u))}var h=i(7);function B({onSearchChange:e,searchValue:t,onFieldTypesChange:i,fieldTypesValue:n,availableFieldTypes:l}){const o=h.i18n.translate("presentationUtil.fieldSearch.searchPlaceHolder",{defaultMessage:"Search field names"}),[u,d]=Object(s.useState)(!1),b=Object(g.jsx)(c.EuiFilterButton,{"data-test-subj":"toggleFieldFilterButton",iconType:"arrowDown",isSelected:n.length>0,numFilters:0,hasActiveFilters:n.length>0,numActiveFilters:n.length,onClick:()=>{d(!u)}},Object(g.jsx)(r.FormattedMessage,{id:"presentationUtil.fieldSearch.fieldFilterButtonLabel",defaultMessage:"Filter by type"}));return Object(g.jsx)(a.a.Fragment,null,Object(g.jsx)(c.EuiFlexGroup,{responsive:!1,gutterSize:"s"},Object(g.jsx)(c.EuiFlexItem,null,Object(g.jsx)(c.EuiFieldSearch,{"aria-label":o,"data-test-subj":"field-search-input",fullWidth:!0,onChange:t=>e(t.currentTarget.value),placeholder:o,value:t}))),Object(g.jsx)(c.EuiSpacer,{size:"xs"}),Object(g.jsx)(c.EuiOutsideClickDetector,{onOutsideClick:()=>{},isDisabled:!u},Object(g.jsx)(c.EuiFilterGroup,null,Object(g.jsx)(c.EuiPopover,{panelClassName:"euiFilterGroup__popoverPanel",panelPaddingSize:"none",display:"block",isOpen:u,closePopover:()=>{d(!1)},button:b},Object(g.jsx)(c.EuiPopoverTitle,{paddingSize:"s"},h.i18n.translate("presentationUtil.fieldSearch.filterByTypeLabel",{defaultMessage:"Filter by type"})),Object(g.jsx)(c.EuiContextMenuPanel,{watchedItemProps:["icon","disabled"],items:l.map((e=>Object(g.jsx)(c.EuiContextMenuItem,{key:e,icon:n.includes(e)?"check":"empty","data-test-subj":`typeFilter-${e}`,onClick:()=>{n.includes(e)?i(n.filter((t=>t!==e))):i([...n,e])}},Object(g.jsx)(c.EuiFlexGroup,{gutterSize:"xs",responsive:!1},Object(g.jsx)(c.EuiFlexItem,{grow:!1},Object(g.jsx)(F,{type:e,label:e})),Object(g.jsx)(c.EuiFlexItem,null,e)))))})))))}i(116);const v=({dataView:e,onSelectField:t,filterPredicate:i,selectedFieldName:n})=>{const[a,u]=Object(s.useState)(""),[d,b]=Object(s.useState)([]),p=e?Object(o.sortBy)(e.fields.filter((e=>e.name.includes(a)&&(0===d.length||d.includes(e.type)))).filter((e=>!i||i(e))),["name"]):[],x=e?Object(o.uniq)(e.fields.filter((e=>!i||i(e))).map((e=>e.type))):[];return Object(g.jsx)(c.EuiFlexGroup,{direction:"column",alignItems:"stretch",gutterSize:"s",className:`presFieldPicker__container ${!e&&"presFieldPicker__container--disabled"}`},Object(g.jsx)(c.EuiFlexItem,{grow:!1},Object(g.jsx)(B,{onSearchChange:e=>u(e),searchValue:a,onFieldTypesChange:e=>b(e),fieldTypesValue:d,availableFieldTypes:x})),Object(g.jsx)(c.EuiFlexItem,{grow:!1},Object(g.jsx)(c.EuiPanel,{paddingSize:"s",hasShadow:!1,hasBorder:!0,className:"presFieldPicker__fieldPanel"},p.length>0&&Object(g.jsx)(c.EuiFlexGroup,{direction:"column",gutterSize:"none"},p.map(((e,i)=>Object(g.jsx)(c.EuiFlexItem,{key:e.name},Object(g.jsx)(_,{"data-test-subj":`field-picker-select-${e.name}`,className:l()("presFieldPicker__fieldButton",{presFieldPickerFieldButtonActive:e.name===n}),onClick:()=>{null==t||t(e)},isActive:e.name===n,fieldName:e.name,fieldIcon:Object(g.jsx)(F,{type:e.type,label:e.name,scripted:e.scripted})}))))),!e&&Object(g.jsx)(c.EuiFlexGroup,{direction:"column",gutterSize:"none",alignItems:"center",justifyContent:"center"},Object(g.jsx)(c.EuiFlexItem,null,Object(g.jsx)(c.EuiText,{color:"subdued"},Object(g.jsx)(r.FormattedMessage,{id:"presentationUtil.fieldPicker.noDataViewLabel",defaultMessage:"No data view selected"})))),e&&0===p.length&&Object(g.jsx)(c.EuiFlexGroup,{direction:"column",gutterSize:"none",alignItems:"center",justifyContent:"center"},Object(g.jsx)(c.EuiFlexItem,null,Object(g.jsx)(c.EuiText,{color:"subdued"},Object(g.jsx)(r.FormattedMessage,{id:"presentationUtil.fieldPicker.noFieldsLabel",defaultMessage:"No matching fields"})))))))};t.default=v},83:function(e,t,i){e.exports=i(17)(6)}}]);
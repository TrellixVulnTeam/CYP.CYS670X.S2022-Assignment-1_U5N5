/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.enterpriseSearch_bundle_jsonpfunction=window.enterpriseSearch_bundle_jsonpfunction||[]).push([[2],{30:function(e,s,t){"use strict";t.d(s,"a",(function(){return u})),t.d(s,"c",(function(){return d})),t.d(s,"b",(function(){return i.a})),t.d(s,"h",(function(){return i.b})),t.d(s,"e",(function(){return l.b})),t.d(s,"l",(function(){return l.d})),t.d(s,"i",(function(){return g.d})),t.d(s,"k",(function(){return g.f})),t.d(s,"j",(function(){return g.e})),t.d(s,"g",(function(){return g.c})),t.d(s,"f",(function(){return g.b})),t.d(s,"d",(function(){return g.a}));var r=t(10),n=t(25),a=t(12),o=t(92),i=t(52),c=t(11);const u=({children:e})=>{const{messages:s}=Object(n.useValues)(i.a);return Object(c.jsx)("div",{"aria-live":"polite","data-test-subj":"FlashMessages"},s.map((({type:e,message:s,description:t},n)=>Object(c.jsx)(r.Fragment,{key:n},Object(c.jsx)(a.EuiCallOut,{color:o.b[e].color,iconType:o.b[e].iconType,title:s},t),Object(c.jsx)(a.EuiSpacer,null)))),e)},d=()=>{const{toastMessages:e}=Object(n.useValues)(i.a),{dismissToastMessage:s}=Object(n.useActions)(i.a);return Object(c.jsx)(a.EuiGlobalToastList,{toasts:e,dismissToast:s,toastLifeTimeMs:o.a})};var l=t(57),g=t(41)},41:function(e,s,t){"use strict";t.d(s,"d",(function(){return a})),t.d(s,"f",(function(){return o})),t.d(s,"e",(function(){return i})),t.d(s,"a",(function(){return c})),t.d(s,"c",(function(){return u})),t.d(s,"b",(function(){return d}));var r=t(92),n=t(52);const a=e=>{n.a.actions.setFlashMessages({type:"error",message:e})},o=e=>{n.a.actions.setQueuedMessages({type:"success",message:e})},i=e=>{n.a.actions.setQueuedMessages({type:"error",message:e})},c=()=>{n.a.actions.clearFlashMessages()},u=(e,s={})=>{n.a.actions.addToastMessage({...r.b.success,...s,title:e,id:(null==s?void 0:s.id)||`successToast-${Date.now()}`})},d=(e,s={})=>{n.a.actions.addToastMessage({...r.b.error,...s,title:e,id:(null==s?void 0:s.id)||`errorToast-${Date.now()}`})}},51:function(e,s,t){"use strict";t.d(s,"a",(function(){return r})),t.d(s,"c",(function(){return n})),t.d(s,"b",(function(){return a})),t.d(s,"d",(function(){return o}));const r={_enterpriseSearchUrl:"",get enterpriseSearchUrl(){return this._enterpriseSearchUrl},set enterpriseSearchUrl(e){this._enterpriseSearchUrl||(this._enterpriseSearchUrl=e)}},n=(e="")=>r.enterpriseSearchUrl+e,a=(e="")=>n("/as"+e),o=(e="")=>n("/ws"+e)},52:function(e,s,t){"use strict";t.d(s,"a",(function(){return o})),t.d(s,"b",(function(){return i}));var r=t(25),n=t(37);const a=e=>Array.isArray(e)?e:[e],o=Object(r.kea)({path:["enterprise_search","flash_messages_logic"],actions:{setFlashMessages:e=>({messages:a(e)}),clearFlashMessages:()=>null,setQueuedMessages:e=>({messages:a(e)}),clearQueuedMessages:()=>null,addToastMessage:e=>({newToast:e}),dismissToastMessage:e=>({removedToast:e}),clearToastMessages:()=>null,setHistoryListener:e=>({historyListener:e})},reducers:{messages:[[],{setFlashMessages:(e,{messages:s})=>s,clearFlashMessages:()=>[]}],queuedMessages:[[],{setQueuedMessages:(e,{messages:s})=>s,clearQueuedMessages:()=>[]}],toastMessages:[[],{addToastMessage:(e,{newToast:s})=>[...e,s],dismissToastMessage:(e,{removedToast:s})=>e.filter((({id:e})=>e!==s.id)),clearToastMessages:()=>[]}],historyListener:[null,{setHistoryListener:(e,{historyListener:s})=>s}]},events:({values:e,actions:s})=>({afterMount:()=>{const t=n.a.values.history.listen((()=>{s.clearFlashMessages(),s.setFlashMessages(e.queuedMessages),s.clearQueuedMessages()}));s.setHistoryListener(t)},beforeUnmount:()=>{const{historyListener:s}=e;s&&s()}})}),i=()=>o.mount()},57:function(e,s,t){"use strict";t.d(s,"a",(function(){return o})),t.d(s,"c",(function(){return i})),t.d(s,"b",(function(){return c})),t.d(s,"d",(function(){return u}));var r=t(2),n=t(52),a=t(41);const o=r.i18n.translate("xpack.enterpriseSearch.shared.flashMessages.defaultErrorMessage",{defaultMessage:"An unexpected error occurred"}),i=e=>{var s,t,r;return Array.isArray(null==e||null===(s=e.body)||void 0===s||null===(t=s.attributes)||void 0===t?void 0:t.errors)?e.body.attributes.errors:[(null==e||null===(r=e.body)||void 0===r?void 0:r.message)||o]},c=(e,{isQueued:s}={})=>{var t;const r=i(e).map((e=>({type:"error",message:e})));if(s?n.a.actions.setQueuedMessages(r):n.a.actions.setFlashMessages(r),null==e||null===(t=e.body)||void 0===t||!t.message)throw e},u=e=>{var s;const t=i(e);for(const e of t)Object(a.b)(e);if(null==e||null===(s=e.body)||void 0===s||!s.message)throw e}},67:function(e,s,t){"use strict";var r=t(51);t.d(s,"a",(function(){return r.a})),t.d(s,"c",(function(){return r.c})),t.d(s,"b",(function(){return r.b})),t.d(s,"d",(function(){return r.d}))},728:function(e,s,t){"use strict";t.r(s),t.d(s,"renderApp",(function(){return j})),t.d(s,"renderHeaderActions",(function(){return M}));var r=t(10),n=t.n(r),a=t(19),o=t.n(a),i=t(171),c=t(14),u=t(25),d=t(13),l=t(18),g=t(67),b=t(30),f=t(31),h=t(37),m=t(42),p=t(11);const j=(e,{params:s,core:t,plugins:r},{config:a,data:j})=>{var v,y,O;const{publicUrl:T,errorConnectingMessage:x,...w}=j;g.a.enterpriseSearchUrl=T||a.host||"";const S=(null===(v=r.cloud)||void 0===v?void 0:v.CloudContextProvider)||(({children:e})=>Object(p.jsx)(n.a.Fragment,null,e));Object(u.resetContext)({createStore:!0});const A=Object(u.getContext)().store,C=Object(h.b)({config:a,charts:r.charts,cloud:r.cloud,history:s.history,navigateToUrl:t.application.navigateToUrl,security:r.security,setBreadcrumbs:t.chrome.setBreadcrumbs,setChromeIsVisible:t.chrome.setIsVisible,setDocTitle:t.chrome.docTitle.change,renderHeaderActions:e=>s.setHeaderActionMenu((s=>M(e,A,s)))}),F=Object(m.c)({license$:r.licensing.license$,canManageLicense:null===(y=t.application.capabilities.management)||void 0===y||null===(O=y.stack)||void 0===O?void 0:O.license_management}),U=Object(f.b)({http:t.http,errorConnectingMessage:x,readOnlyMode:w.readOnlyMode}),_=Object(b.h)();return o.a.render(Object(p.jsx)(d.I18nProvider,null,Object(p.jsx)(l.KibanaThemeProvider,{theme$:s.theme$},Object(p.jsx)(l.KibanaContextProvider,{services:{...t,...r}},Object(p.jsx)(S,null,Object(p.jsx)(i.Provider,{store:A},Object(p.jsx)(c.Router,{history:s.history},Object(p.jsx)(e,w),Object(p.jsx)(b.c,null))))))),s.element),()=>{o.a.unmountComponentAtNode(s.element),C(),F(),U(),_()}},M=(e,s,t)=>(o.a.render(Object(p.jsx)(i.Provider,{store:s},Object(p.jsx)(e,null)),t),()=>o.a.unmountComponentAtNode(t))},92:function(e,s,t){"use strict";t.d(s,"b",(function(){return r})),t.d(s,"a",(function(){return n}));const r={success:{color:"success",iconType:"check"},info:{color:"primary",iconType:"iInCircle"},warning:{color:"warning",iconType:"alert"},error:{color:"danger",iconType:"alert"}},n=5e3}}]);
/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.canvas_bundle_jsonpfunction=window.canvas_bundle_jsonpfunction||[]).push([[13],{231:function(e,t,n){var r,a,i;
/* @license
Papa Parse
v5.2.0
https://github.com/mholt/PapaParse
License: MIT
*/a=[],void 0===(i="function"==typeof(r=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=n&&/blob:/i.test((t.location||{}).protocol),a={},i=0,s={parse:function(n,r){var o=(r=r||{}).dynamicTyping||!1;if(O(o)&&(r.dynamicTypingFunction=o,o={}),r.dynamicTyping=o,r.transform=!!O(r.transform)&&r.transform,r.worker&&s.WORKERS_SUPPORTED){var l=function(){if(!s.WORKERS_SUPPORTED)return!1;var n,r,o=(n=t.URL||t.webkitURL||null,r=e.toString(),s.BLOB_URL||(s.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),l=new t.Worker(o);return l.onmessage=g,l.id=i++,a[l.id]=l}();return l.userStep=r.step,l.userChunk=r.chunk,l.userComplete=r.complete,l.userError=r.error,r.step=O(r.step),r.chunk=O(r.chunk),r.complete=O(r.complete),r.error=O(r.error),delete r.worker,void l.postMessage({input:n,config:r,workerId:l.id})}var h=null;return s.NODE_STREAM_INPUT,"string"==typeof n?h=r.download?new u(r):new p(r):!0===n.readable&&O(n.read)&&O(n.on)?h=new d(r):(t.File&&n instanceof File||n instanceof Object)&&(h=new c(r)),h.stream(n)},unparse:function(e,t){var n=!1,r=!0,a=",",i="\r\n",o='"',l=o+o,u=!1,c=null;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||s.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(a=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(i=t.newline),"string"==typeof t.quoteChar&&(o=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");c=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+o)}}();var p=new RegExp(f(o),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,u);if("object"==typeof e[0])return h(c||d(e[0]),e,u)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:d(e.data[0])),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],u);throw new Error("Unable to serialize unrecognized input");function d(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function h(e,t,n){var s="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var o=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(o&&r){for(var u=0;u<e.length;u++)0<u&&(s+=a),s+=m(e[u],u);0<t.length&&(s+=i)}for(var c=0;c<t.length;c++){var p=o?e.length:t[c].length,d=!1,h=o?0===Object.keys(t[c]).length:0===t[c].length;if(n&&!o&&(d="greedy"===n?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===n&&o){for(var f=[],g=0;g<p;g++){var y=l?e[g]:g;f.push(t[c][y])}d=""===f.join("").trim()}if(!d){for(var b=0;b<p;b++){0<b&&!h&&(s+=a);var v=o&&l?e[b]:b;s+=m(t[c][v],b)}c<t.length-1&&(!n||0<p&&!h)&&(s+=i)}}return s}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=e.toString().replace(p,l);return"boolean"==typeof n&&n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(r,s.BAD_DELIMITERS)||-1<r.indexOf(a)||" "===r.charAt(0)||" "===r.charAt(r.length-1)?o+r+o:r}}};if(s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!n&&!!t.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=m,s.ParserHandle=h,s.NetworkStreamer=u,s.FileStreamer=c,s.StringStreamer=p,s.ReadableStreamStreamer=d,t.jQuery){var o=t.jQuery;o.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==o(this).prop("tagName").toUpperCase()||"file"!==o(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)r.push({file:this.files[a],inputElem:this,instanceConfig:o.extend({},n)})})),a(),this;function a(){if(0!==r.length){var t,n,a,l,u=r[0];if(O(e.before)){var c=e.before(u.file,u.inputElem);if("object"==typeof c){if("abort"===c.action)return t="AbortError",n=u.file,a=u.inputElem,l=c.reason,void(O(e.error)&&e.error({name:t},n,a,l));if("skip"===c.action)return void i();"object"==typeof c.config&&(u.instanceConfig=o.extend(u.instanceConfig,c.config))}else if("skip"===c)return void i()}var p=u.instanceConfig.complete;u.instanceConfig.complete=function(e){O(p)&&p(e,u.file,u.inputElem),i()},s.parse(u.file,u.instanceConfig)}else O(e.complete)&&e.complete()}function i(){r.splice(0,1),a()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=v(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&O(this._config.beforeFirstChunk)){var a=this._config.beforeFirstChunk(e);void 0!==a&&(e=a)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine="";var o=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=o.meta.cursor;this._finished||(this._partialLine=i.substring(l-this._baseIndex),this._baseIndex=l),o&&o.data&&(this._rowCount+=o.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:o,workerId:s.WORKER_ID,finished:u});else if(O(this._config.chunk)&&!n){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);o=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),this._completed||!u||!O(this._config.complete)||o&&o.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||o&&o.meta.paused||this._nextChunk(),o}this._halted=!0},this._sendError=function(e){O(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function u(e){var t;(e=e||{}).chunkSize||(e.chunkSize=s.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+a)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function c(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=s.LocalChunkSize),l.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var a=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,a)}var i=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function p(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function d(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=w((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=w((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=w((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var t,n,r,a=Math.pow(2,53),i=-a,o=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,l=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,u=this,c=0,p=0,d=!1,h=!1,g=[],y={data:[],errors:[],meta:{}};if(O(e.step)){var b=e.step;e.step=function(t){if(y=t,j())_();else{if(_(),0===y.data.length)return;c+=t.data.length,e.preview&&c>e.preview?n.abort():(y.data=y.data[0],b(y,u))}}}function w(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function _(){if(y&&r&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines)for(var t=0;t<y.data.length;t++)w(y.data[t])&&y.data.splice(t--,1);return j()&&function(){if(y)if(Array.isArray(y.data[0])){for(var t=0;j()&&t<y.data.length;t++)y.data[t].forEach(n);y.data.splice(0,1)}else y.data.forEach(n);function n(t){O(e.transformHeader)&&(t=e.transformHeader(t)),g.push(t)}}(),function(){if(!y||!e.header&&!e.dynamicTyping&&!e.transform)return y;function t(t,n){var r,a=e.header?{}:[];for(r=0;r<t.length;r++){var i=r,s=t[r];e.header&&(i=r>=g.length?"__parsed_extra":g[r]),e.transform&&(s=e.transform(s,i)),s=x(i,s),"__parsed_extra"===i?(a[i]=a[i]||[],a[i].push(s)):a[i]=s}return e.header&&(r>g.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,p+n):r<g.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,p+n)),a}var n=1;return!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(t),n=y.data.length):y.data=t(y.data,0),e.header&&y.meta&&(y.meta.fields=g),p+=n,y}()}function j(){return e.header&&0===g.length}function x(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(o.test(e)){var t=parseFloat(e);if(i<t&&t<a)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var r}function C(e,t,n,r){var a={type:e,code:t,message:n};void 0!==r&&(a.row=r),y.errors.push(a)}this.parse=function(a,i,o){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(f(t)+"([^]*?)"+f(t),"gm"),r=(e=e.replace(n,"")).split("\r"),a=e.split("\n"),i=1<a.length&&a[0].length<r[0].length;if(1===r.length||i)return"\n";for(var s=0,o=0;o<r.length;o++)"\n"===r[o][0]&&s++;return s>=r.length/2?"\r\n":"\r"}(a,l)),r=!1,e.delimiter)O(e.delimiter)&&(e.delimiter=e.delimiter(a),y.meta.delimiter=e.delimiter);else{var u=function(t,n,r,a,i){var o,l,u,c;i=i||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var p=0;p<i.length;p++){var d=i[p],h=0,f=0,g=0;u=void 0;for(var y=new m({comments:a,delimiter:d,newline:n,preview:10}).parse(t),b=0;b<y.data.length;b++)if(r&&w(y.data[b]))g++;else{var v=y.data[b].length;f+=v,void 0!==u?0<v&&(h+=Math.abs(v-u),u=v):u=v}0<y.data.length&&(f/=y.data.length-g),(void 0===l||h<=l)&&(void 0===c||c<f)&&1.99<f&&(l=h,o=d,c=f)}return{successful:!!(e.delimiter=o),bestDelimiter:o}}(a,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);u.successful?e.delimiter=u.bestDelimiter:(r=!0,e.delimiter=s.DefaultDelimiter),y.meta.delimiter=e.delimiter}var c=v(e);return e.preview&&e.header&&c.preview++,t=a,n=new m(c),y=n.parse(t,i,o),_(),d?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,n.abort(),t=O(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(d=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),y.meta.aborted=!0,O(e.complete)&&e.complete(y),t=""}}function f(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,n=(e=e||{}).delimiter,r=e.newline,a=e.comments,i=e.step,o=e.preview,l=e.fastMode,u=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof n||-1<s.BAD_DELIMITERS.indexOf(n))&&(n=","),a===n)throw new Error("Comment character same as delimiter");!0===a?a="#":("string"!=typeof a||-1<s.BAD_DELIMITERS.indexOf(a))&&(a=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var c=0,p=!1;this.parse=function(e,s,d){if("string"!=typeof e)throw new Error("Input must be a string");var h=e.length,m=n.length,g=r.length,y=a.length,b=O(i),v=[],w=[],_=[],j=c=0;if(!e)return N();if(l||!1!==l&&-1===e.indexOf(t)){for(var x=e.split(r),C=0;C<x.length;C++){if(_=x[C],c+=_.length,C!==x.length-1)c+=r.length;else if(d)return N();if(!a||_.substring(0,y)!==a){if(b){if(v=[],I(_.split(n)),z(),p)return N()}else I(_.split(n));if(o&&o<=C)return v=v.slice(0,o),N(!0)}}return N()}for(var S=e.indexOf(n,c),k=e.indexOf(r,c),T=new RegExp(f(u)+f(t),"g"),E=e.indexOf(t,c);;)if(e[c]!==t)if(a&&0===_.length&&e.substring(c,c+y)===a){if(-1===k)return N();c=k+g,k=e.indexOf(r,c),S=e.indexOf(n,c)}else{if(-1!==S&&(S<k||-1===k)){if(!(S<E)){_.push(e.substring(c,S)),c=S+m,S=e.indexOf(n,c);continue}var R=$(S,E,k);if(R&&void 0!==R.nextDelim){S=R.nextDelim,E=R.quoteSearch,_.push(e.substring(c,S)),c=S+m,S=e.indexOf(n,c);continue}}if(-1===k)break;if(_.push(e.substring(c,k)),F(k+g),b&&(z(),p))return N();if(o&&v.length>=o)return N(!0)}else for(E=c,c++;;){if(-1===(E=e.indexOf(t,E+1)))return d||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:c}),D();if(E===h-1)return D(e.substring(c,E).replace(T,t));if(t!==u||e[E+1]!==u){if(t===u||0===E||e[E-1]!==u){-1!==S&&S<E+1&&(S=e.indexOf(n,E+1)),-1!==k&&k<E+1&&(k=e.indexOf(r,E+1));var q=L(-1===k?S:Math.min(S,k));if(e[E+1+q]===n){_.push(e.substring(c,E).replace(T,t)),e[c=E+1+q+m]!==t&&(E=e.indexOf(t,c)),S=e.indexOf(n,c),k=e.indexOf(r,c);break}var A=L(k);if(e.substring(E+1+A,E+1+A+g)===r){if(_.push(e.substring(c,E).replace(T,t)),F(E+1+A+g),S=e.indexOf(n,c),E=e.indexOf(t,c),b&&(z(),p))return N();if(o&&v.length>=o)return N(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:c}),E++}}else E++}return D();function I(e){v.push(e),j=c}function L(t){var n=0;if(-1!==t){var r=e.substring(E+1,t);r&&""===r.trim()&&(n=r.length)}return n}function D(t){return d||(void 0===t&&(t=e.substring(c)),_.push(t),c=h,I(_),b&&z()),N()}function F(t){c=t,I(_),_=[],k=e.indexOf(r,c)}function N(e){return{data:v,errors:w,meta:{delimiter:n,linebreak:r,aborted:p,truncated:!!e,cursor:j+(s||0)}}}function z(){i(N()),v=[],w=[]}function $(r,a,i){var s={nextDelim:void 0,quoteSearch:void 0},o=e.indexOf(t,a+1);if(a<r&&r<o&&(o<i||-1===i)){var l=e.indexOf(n,o);if(-1===l)return s;o<l&&(o=e.indexOf(t,o+1)),s=$(l,o,i)}else s={nextDelim:r,quoteSearch:a};return s}},this.abort=function(){p=!0},this.getCharIndex=function(){return c}}function g(e){var t=e.data,n=a[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,y(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(O(n.userStep)){for(var s=0;s<t.results.data.length&&(n.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},i),!r);s++);delete t.results}else O(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&y(t.workerId,t.results)}function y(e,t){var n=a[e];O(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function b(){throw new Error("Not implemented.")}function v(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=v(e[n]);return t}function w(e,t){return function(){e.apply(t,arguments)}}function O(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===s.WORKER_ID&&n&&(s.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:s.WORKER_ID,results:s.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=s.parse(n.input,n.config);r&&t.postMessage({workerId:s.WORKER_ID,results:r,finished:!0})}}),(u.prototype=Object.create(l.prototype)).constructor=u,(c.prototype=Object.create(l.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(d.prototype=Object.create(l.prototype)).constructor=d,s})?r.apply(t,a):r)||(e.exports=i)},408:function(e,t,n){"use strict";n.r(t),n.d(t,"CanvasSrcPlugin",(function(){return plugin_CanvasSrcPlugin}));var r=n(20),a=n(54);var i=n(65);var s=n(25),o=n.n(s);var l=n(166),u=n(28);const c=e=>e.split(",").map((e=>e.trim())),p=e=>e.map((e=>{var t;return null!==(t=e.id)&&void 0!==t?t:e.name})),d=(e,t,n=!1)=>e.reduce(((e,r)=>t.includes(r.id)||t.includes(r.name)?{...e,matched:[...e.matched,r]}:n?{...e,other:[...e.other,r]}:e),{matched:[],other:[]});var h=n(231),f=n.n(h);var m=n(2),g=n(26);var y=n(44),b=n.n(y);var v=n(120);function w(e){return Object(r.uniqWith)(e.flat(),(({name:e},{name:t})=>e===t))}function O(e){const t=Object(a.t)().ply,[n]=e,i=n.rows.length;e.forEach((e=>{if(e.rows.length!==i)throw t.rowCountMismatch()}));const s=Object(r.map)(e,"rows"),o=[];for(let e=0;e<i;e++){const t=Object(r.map)(s,e);o.push(Object.assign({},...t))}return{type:"datatable",rows:o,columns:w(Object(r.map)(e,"columns"))}}var _=n(0);const j="seriesStyle";var x=n(60);var C=n(128),S=n.n(C);const k=[function(){const{help:e,args:t}=Object(a.u)().all;return{name:"all",type:"boolean",help:e,inputTypes:["null"],args:{condition:{aliases:["_"],types:["boolean"],help:t.condition,required:!0,multi:!0}},fn:(e,t)=>(t.condition||[]).every(Boolean)}},function(){const{help:e,args:t}=Object(a.u)().alterColumn,n=Object(a.t)().alterColumn;return{name:"alterColumn",type:"datatable",inputTypes:["datatable"],help:e,args:{column:{aliases:["_"],types:["string"],required:!0,help:t.column},name:{types:["string"],help:t.name},type:{types:["string"],help:t.type,options:["null","boolean","number","string","date"]}},fn:(e,t)=>{if(!t.column||!t.type&&!t.name)return e;const a=e.columns.find((e=>e.name===t.column));if(!a)throw n.columnNotFound(t.column);const i=t.name||a.name,s=t.type||a.meta.type,o=e.columns.reduce(((e,n)=>(n.name!==t.name&&(n.name!==a.name?e.push(n):e.push({id:i,name:i,meta:{type:s}})),e)),[]);let l=e=>e;t.type&&(l=function(){switch(s){case"string":return"date"===a.meta.type?e=>new Date(e).toISOString():String;case"number":return Number;case"date":return e=>new Date(e).valueOf();case"boolean":return Boolean;case"null":return()=>null;default:throw n.cannotConvertType(s)}}());return{type:"datatable",columns:o,rows:e.rows.map((e=>({...Object(r.omit)(e,a.name),[i]:l(e[a.name])})))}}}},function(){const{help:e,args:t}=Object(a.u)().any;return{name:"any",type:"boolean",inputTypes:["null"],help:e,args:{condition:{aliases:["_"],types:["boolean"],required:!0,multi:!0,help:t.condition}},fn:(e,t)=>(t.condition||[]).some(Boolean)}},function(){const{help:e,args:t}=Object(a.u)().as;return{name:"as",type:"datatable",inputTypes:["string","boolean","number","null"],help:e,args:{name:{types:["string"],aliases:["_"],help:t.name,default:"value"}},fn:(e,t)=>({type:"datatable",columns:[{id:t.name,name:t.name,meta:{type:Object(i.getType)(e)}}],rows:[{[t.name]:e}]})}},function(){const{help:e,args:t}=Object(a.u)().axisConfig,n=Object(a.t)().axisConfig;return{name:"axisConfig",aliases:[],type:"axisConfig",inputTypes:["null"],help:e,args:{max:{types:["number","string","null"],help:t.max},min:{types:["number","string","null"],help:t.min},position:{types:["string"],help:t.position,options:Object.values(i.Position),default:"left"},show:{types:["boolean"],help:t.show,default:!0},tickSize:{types:["number","null"],help:t.tickSize}},fn:(e,t)=>{const{position:r,min:a,max:s,...l}=t;if(!Object.values(i.Position).includes(r))throw n.invalidPosition(r);const u="string"==typeof a?o.a.utc(a).valueOf():a,c="string"==typeof s?o.a.utc(s).valueOf():s;if(null!=u&&isNaN(u))throw n.invalidMinDateString(a);if(null!=c&&isNaN(c))throw n.invalidMaxDateString(s);return{max:c,min:u,type:"axisConfig",position:r,...l}}}},function(){const{help:e}=Object(a.u)().clear;return{name:"clear",type:"null",inputTypes:["null"],help:e,args:{},fn:()=>null}},function(){const{help:e,args:t}=Object(a.u)().columns;return{name:"columns",type:"datatable",inputTypes:["datatable"],help:e,args:{include:{aliases:["_"],types:["string"],help:t.include},exclude:{types:["string"],help:t.exclude}},fn:(e,t)=>{const{include:n,exclude:a}=t,{columns:i,rows:s,...o}=e;let l={...e};if(a){const e=c(a),{matched:t,other:n}=d(l.columns,e,!0),i=p(t),s=t.length?l.rows.map((e=>Object(r.omit)(e,i))):l.rows;l={rows:s,columns:n,...o}}if(n){const e=c(n),{matched:t}=d(l.columns,e),a=p(t),i=e.reduce(((e,n)=>{const a=Object(r.find)(t,(e=>e.id===n||e.name===n));return a?[...e,a]:e}),[]),s=i.length?l.rows.map((e=>Object(r.pick)(e,a))):[];l={rows:s,columns:i,...o}}return l}}},l.b,function(){const{help:e,args:t}=Object(a.u)().containerStyle,n=Object(a.t)().containerStyle;return{name:"containerStyle",aliases:[],type:"containerStyle",inputTypes:["null"],help:e,args:{backgroundColor:{types:["string"],help:t.backgroundColor},backgroundImage:{types:["string"],help:t.backgroundImage},backgroundRepeat:{types:["string"],help:t.backgroundRepeat,default:"no-repeat",options:Object.values(i.BackgroundRepeat)},backgroundSize:{types:["string"],help:t.backgroundSize,default:"contain",options:Object.values(i.BackgroundSize)},border:{types:["string"],help:t.border},borderRadius:{types:["string"],help:t.borderRadius},opacity:{types:["number"],help:t.opacity},overflow:{types:["string"],help:t.overflow,options:Object.values(i.Overflow),default:"hidden"},padding:{types:["string"],help:t.padding}},fn:(e,t)=>{const{backgroundImage:r,backgroundSize:a,backgroundRepeat:i,...s}=t,o={type:"containerStyle",...s};if(r){if(!Object(u.isValidUrl)(r))throw n.invalidBackgroundImage();o.backgroundImage=`url(${r})`,o.backgroundSize=a,o.backgroundRepeat=i}return JSON.parse(JSON.stringify(o))}}},function(){const{help:e}=Object(a.u)().context;return{name:"context",help:e,args:{},fn:e=>e}},function(){const{help:e,args:t}=Object(a.u)().csv,n=Object(a.t)().csv;return{name:"csv",type:"datatable",inputTypes:["null"],help:e,args:{data:{aliases:["_"],types:["string"],required:!0,help:t.data},delimiter:{types:["string"],help:t.delimiter},newline:{types:["string"],help:t.newline}},fn(e,t){const{data:r,delimiter:a,newline:i}=t,s={transform:e=>e.indexOf('"')>=0?e.trim().replace(/(^\"|\"$)/g,""):e};null!=a&&(s.delimiter=a),null!=i&&(s.newline=i);const o=f.a.parse(r,s),{data:l,errors:u}=o;if(u.length>0)throw n.invalidInputCSV();return l.reduce(((e,t,n)=>{if(0===n)t.forEach((t=>e.columns.push({id:t.trim(),name:t.trim(),meta:{type:"string"}})));else{const n=t.reduce(((t,n,r)=>(t[e.columns[r].name]=n,t)),{});e.rows.push(n)}return e}),{type:"datatable",columns:[],rows:[]})}}},function(){const{help:e,args:t}=Object(a.u)().date,n=Object(a.t)().date;return{name:"date",type:"number",help:e,inputTypes:["null"],args:{value:{aliases:["_"],types:["string"],help:t.value},format:{types:["string"],help:t.format}},fn:(e,t)=>{const{value:r,format:a}=t,i=r&&a?o.a.utc(r,a).toDate():r?new Date(r):new Date;if(isNaN(i.getTime()))throw n.invalidDateInput(r);return i.valueOf()}}},function(){const{help:e,args:t}=Object(a.u)().do;return{name:"do",help:e,args:{fn:{aliases:["_","exp","expression","function"],multi:!0,help:t.fn}},fn:e=>e}},function(){const{help:e,args:t}=Object(a.u)().dropdownControl;return{name:"dropdownControl",aliases:[],type:"render",inputTypes:["datatable"],help:e,args:{filterColumn:{types:["string"],required:!0,help:t.filterColumn},labelColumn:{types:["string"],required:!1,help:t.labelColumn},valueColumn:{types:["string"],required:!0,help:t.valueColumn},filterGroup:{types:["string"],help:t.filterGroup}},fn:(e,{valueColumn:t,filterColumn:n,filterGroup:a,labelColumn:i})=>{let s=[];const o=i||t,l=e.rows.filter((e=>null!==e[t]&&void 0!==e[t]));l.length>0&&(s=l.map((e=>[e[t],e[o]])),s=Object(r.uniqBy)(s,(e=>e[0])));return{type:"render",as:"dropdown_filter",value:{column:n||t,choices:s,filterGroup:a}}}}},function(){const{help:e,args:t}=Object(a.u)().eq;return{name:"eq",type:"boolean",inputTypes:["boolean","number","string","null"],help:e,args:{value:{aliases:["_"],types:["boolean","number","string","null"],required:!0,help:t.value}},fn:(e,t)=>e===t.value}},function(){const{help:e,args:t}=Object(a.u)().exactly;return{name:"exactly",aliases:[],type:"filter",help:e,inputTypes:["filter"],args:{column:{types:["string"],aliases:["field","c"],required:!0,help:t.column},value:{types:["string"],aliases:["v","val"],required:!0,help:t.value},filterGroup:{types:["string"],help:t.filterGroup}},fn:(e,t)=>{const{value:n,column:r,filterGroup:a}=t,i={type:"filter",filterType:"exactly",value:n,column:r,filterGroup:a,and:[]};return{...e,and:[...e.and,i]}}}},function(){const{help:e,args:t}=Object(a.u)().filterrows;return{name:"filterrows",aliases:[],type:"datatable",inputTypes:["datatable"],help:e,args:{fn:{resolve:!1,aliases:["_","exp","expression","function"],types:["boolean"],required:!0,help:t.fn}},fn:(e,{fn:t})=>Object(m.defer)((()=>Object(m.combineLatest)(e.rows.map((n=>t({...e,rows:[n]})))))).pipe(Object(g.map)((t=>e.rows.filter(((e,n)=>t[n])))),Object(g.map)((t=>({...e,rows:t}))))}},function(){const{help:e,args:t}=Object(a.u)().formatdate;return{name:"formatdate",type:"string",inputTypes:["number","string"],help:e,args:{format:{aliases:["_"],types:["string"],required:!0,help:t.format}},fn:(e,t)=>t.format?o.a.utc(new Date(e)).format(t.format):o.a.utc(new Date(e)).toISOString()}},function(){const{help:e,args:t}=Object(a.u)().formatnumber;return{name:"formatnumber",type:"string",help:e,inputTypes:["number"],args:{format:{aliases:["_"],types:["string"],help:t.format,required:!0}},fn:(e,t)=>t.format?b()(e).format(t.format):String(e)}},function(){const{help:e,args:t}=Object(a.u)().getCell,n=Object(a.t)().getCell;return{name:"getCell",help:e,inputTypes:["datatable"],args:{column:{types:["string"],aliases:["_","c"],help:t.column},row:{types:["number"],aliases:["r"],help:t.row,default:0}},fn:(e,t)=>{const r=e.rows[t.row];if(!r)throw n.rowNotFound(t.row);const{column:a=e.columns[0].name}=t,i=r[a];if(void 0===i)throw n.columnNotFound(a);return i}}},function(){const{help:e,args:t}=Object(a.u)().gt;return{name:"gt",type:"boolean",inputTypes:["number","string"],help:e,args:{value:{aliases:["_"],types:["number","string"],required:!0,help:t.value}},fn:(e,t)=>{const{value:n}=t;return typeof e==typeof n&&e>n}}},function(){const{help:e,args:t}=Object(a.u)().gte;return{name:"gte",type:"boolean",inputTypes:["number","string"],help:e,args:{value:{aliases:["_"],types:["number","string"],required:!0,help:t.value}},fn:(e,t)=>{const{value:n}=t;return typeof e==typeof n&&e>=n}}},function(){const{help:e,args:t}=Object(a.u)().head;return{name:"head",aliases:[],type:"datatable",inputTypes:["datatable"],help:e,args:{count:{aliases:["_"],types:["number"],help:t.count,default:1}},fn:(e,t)=>({...e,rows:Object(r.take)(e.rows,t.count)})}},function(){const{help:e,args:t}=Object(a.u)().if;return{name:"if",help:e,args:{condition:{types:["boolean"],aliases:["_"],help:t.condition,required:!0},then:{resolve:!1,help:t.then},else:{resolve:!1,help:t.else}},fn:(e,t)=>Object(m.defer)((()=>{var n,r,a;return null!==(n=t.condition?null===(r=t.then)||void 0===r?void 0:r.call(t):null===(a=t.else)||void 0===a?void 0:a.call(t))&&void 0!==n?n:Object(m.of)(e)}))}},function(){const{help:e,args:t}=Object(a.u)().lt;return{name:"lt",type:"boolean",inputTypes:["number","string"],help:e,args:{value:{aliases:["_"],types:["number","string"],required:!0,help:t.value}},fn:(e,t)=>{const{value:n}=t;return typeof e==typeof n&&e<n}}},function(){const{help:e,args:t}=Object(a.u)().lte;return{name:"lte",type:"boolean",inputTypes:["number","string"],help:e,args:{value:{aliases:["_"],types:["number","string"],required:!0,help:t.value}},fn:(e,t)=>{const{value:n}=t;return typeof e==typeof n&&e<=n}}},function(){const{help:e,args:t}=Object(a.u)().joinRows,n=Object(a.t)().joinRows;return{name:"joinRows",type:"string",help:e,inputTypes:["datatable"],args:{column:{aliases:["_"],types:["string"],required:!0,help:t.column},distinct:{types:["boolean"],help:t.distinct,default:!0},quote:{types:["string"],help:t.quote,default:'"\'"'},separator:{aliases:["sep","delimiter"],types:["string"],help:t.separator,default:","}},fn:(e,{column:t,separator:r,quote:a,distinct:i})=>{if(!e.columns.find((e=>e.name===t)))throw n.columnNotFound(t);return e.rows.reduce(((e,n)=>{const r=n[t];return i&&e.includes(r)?e:e.concat(r)}),[]).map((e=>`${a}${((e,t)=>{if(void 0===t||""===t)return e;{const n=new RegExp(t,"g");return e.replace(/\\/g,"\\\\").replace(n,`\\${t}`)}})(e,a)}${a}`)).join(r)}}},function(){const{help:e,args:t}=Object(v.b)().mapCenter;return{name:"mapCenter",help:e,type:"mapCenter",inputTypes:["null"],args:{lat:{types:["number"],required:!0,help:t.lat},lon:{types:["number"],required:!0,help:t.lon},zoom:{types:["number"],required:!0,help:t.zoom}},fn:(e,t)=>({type:"mapCenter",...t})}},function(){const{help:e,args:t}=Object(a.u)().neq;return{name:"neq",type:"boolean",help:e,context:{types:["boolean","number","string","null"]},args:{value:{aliases:["_"],types:["boolean","number","string","null"],required:!0,help:t.value}},fn:(e,t)=>e!==t.value}},function(){const{help:e,args:t}=Object(a.u)().ply,n=Object(a.t)().ply;return{name:"ply",type:"datatable",inputTypes:["datatable"],help:e,args:{by:{types:["string"],help:t.by,multi:!0},expression:{types:["datatable"],resolve:!1,multi:!0,aliases:["exp","fn","function"],help:t.expression}},fn(e,t){var a,i;if(!t)return e;const s=null!==(a=null===(i=t.by)||void 0===i?void 0:i.map((t=>{const r=e.columns.find((({name:e})=>e===t));if(!r)throw n.columnNotFound(t);return r})))&&void 0!==a?a:[],o=t.by?Object.values(Object(r.groupBy)(e.rows,(e=>JSON.stringify(Object(r.pick)(e,t.by))))).map((t=>({...e,rows:t}))):[e],l=o.map((e=>{var n,r;return Object(m.combineLatest)(null!==(n=null===(r=t.expression)||void 0===r?void 0:r.map((t=>Object(m.defer)((()=>t(e))))))&&void 0!==n?n:[Object(m.of)(e)]).pipe(Object(g.map)(O))}));return(l.length?Object(m.combineLatest)(l):Object(m.of)([])).pipe(Object(g.map)((e=>{const n=w([s].concat(Object(r.map)(e,"columns")));return{type:"datatable",rows:Object(r.flatten)(e.map(((e,n)=>e.rows.map((e=>({...Object(r.pick)(o[n].rows[0],t.by),...e})))))),columns:n}})))}}},function(){const{help:e,args:t}=Object(a.u)().render;return{name:"render",aliases:[],type:"render",inputTypes:["render"],help:e,args:{as:{types:["string"],help:t.as,options:["advanced_filter","debug","dropdown_filter","error","image","markdown","metric","pie","plot","progress","repeatImage","shape","table","time_filter","text"]},css:{types:["string"],help:t.css,default:`"${_.q}"`},containerStyle:{types:["containerStyle"],help:t.containerStyle,default:"{containerStyle}"}},fn:(e,t)=>({...e,as:t.as||e.as,css:t.css||_.q,containerStyle:t.containerStyle})}},function(){const{help:e,args:t}=Object(a.u)().replace;return{name:"replace",type:"string",help:e,inputTypes:["string"],args:{pattern:{aliases:["_","regex"],types:["string"],help:t.pattern},flags:{aliases:["modifiers"],types:["string"],help:t.flags,default:"g"},replacement:{types:["string"],help:t.replacement,default:'""'}},fn:(e,t)=>e.replace(new RegExp(t.pattern,t.flags),t.replacement)}},function(){const{help:e,args:t}=Object(a.u)().rounddate;return{name:"rounddate",type:"number",help:e,inputTypes:["number"],args:{format:{aliases:["_"],types:["string"],help:t.format}},fn:(e,t)=>t.format?o.a.utc(o.a.utc(e).format(t.format),t.format).valueOf():e}},function(){const{help:e}=Object(a.u)().rowCount;return{name:"rowCount",aliases:[],type:"number",inputTypes:["datatable"],help:e,args:{},fn:e=>e.rows.length}},function(){const{help:e,args:t}=Object(a.u)().seriesStyle;return{name:j,help:e,type:"seriesStyle",inputTypes:["null"],args:{bars:{types:["number"],help:t.bars},color:{types:["string"],help:t.color},fill:{types:["number","boolean"],help:t.fill,default:!1,options:[!0,!1]},horizontalBars:{types:["boolean"],help:t.horizontalBars,options:[!0,!1]},label:{types:["string"],help:t.label},lines:{types:["number"],help:t.lines},points:{types:["number"],help:t.points},stack:{types:["number","null"],help:t.stack}},fn:(e,t)=>({type:j,...t})}},function(){const{help:e,args:t}=Object(a.u)().sort;return{name:"sort",type:"datatable",inputTypes:["datatable"],help:e,args:{by:{types:["string"],aliases:["_","column"],multi:!1,help:t.by},reverse:{types:["boolean"],help:t.reverse,options:[!0,!1],default:!1}},fn:(e,t)=>{const n=t.by||e.columns[0].name;return{...e,rows:t.reverse?Object(r.sortBy)(e.rows,n).reverse():Object(r.sortBy)(e.rows,n)}}}},function(){const{help:e,args:t}=Object(a.u)().staticColumn;return{name:"staticColumn",type:"datatable",inputTypes:["datatable"],help:e,args:{name:{types:["string"],aliases:["_","column"],help:t.name,required:!0},value:{types:["string","number","boolean","null"],help:t.value,default:null}},fn:(e,t)=>{const n=e.rows.map((e=>({...e,[t.name]:t.value}))),r=Object(x.getType)(t.value),a=[...e.columns],i=a.findIndex((({name:e})=>e===t.name)),s={id:t.name,name:t.name,meta:{type:r}};return i>-1?a[i]=s:a.push(s),{type:"datatable",columns:a,rows:n}}}},function(){const{help:e,args:t}=Object(a.u)().string;return{name:"string",inputTypes:["null"],aliases:[],type:"string",help:e,args:{value:{aliases:["_"],types:["string","number","boolean"],multi:!0,help:t.value}},fn:(e,t)=>t.value.join("")}},function(){const{help:e,args:t}=Object(a.u)().table;return{name:"table",aliases:[],type:"render",inputTypes:["datatable"],help:e,args:{font:{types:["style"],default:"{font}",help:t.font},paginate:{types:["boolean"],default:!0,help:t.paginate,options:[!0,!1]},perPage:{types:["number"],default:10,help:t.perPage},showHeader:{types:["boolean"],default:!0,help:t.showHeader,options:[!0,!1]}},fn:(e,t)=>({type:"render",as:"table",value:{datatable:e,...t}})}},function(){const{help:e,args:t}=Object(a.u)().tail;return{name:"tail",aliases:[],type:"datatable",inputTypes:["datatable"],help:e,args:{count:{aliases:["_"],types:["number"],help:t.count,default:1}},fn:(e,t)=>({...e,rows:Object(r.takeRight)(e.rows,t.count)})}},function(){const{help:e,args:t}=Object(a.u)().timefilter,n=Object(a.t)().timefilter;return{name:"timefilter",aliases:[],type:"filter",inputTypes:["filter"],help:e,args:{column:{types:["string"],aliases:["field","c"],default:"@timestamp",help:t.column},from:{types:["string"],aliases:["f","start"],help:t.from},to:{types:["string"],aliases:["t","end"],help:t.to},filterGroup:{types:["string"],help:"The group name for the filter"}},fn:(e,t)=>{if(!t.from&&!t.to)return e;const{from:r,to:a,column:i,filterGroup:s}=t,o={type:"filter",filterType:"time",column:i,filterGroup:s,and:[]};function l(e,{roundUp:t}){const r=S.a.parse(e,{roundUp:t});if(!r||!r.isValid())throw n.invalidString(e);return r.toISOString()}return a&&(o.to=l(a,{roundUp:!0})),r&&(o.from=l(r,{roundUp:!1})),{...e,and:[...e.and,o]}}}},function(){const{help:e,args:t}=Object(a.u)().timefilterControl;return{name:"timefilterControl",aliases:[],type:"render",inputTypes:["null"],help:e,args:{column:{types:["string"],aliases:["field","c"],help:t.column,default:"@timestamp"},compact:{types:["boolean"],help:t.compact,default:!0,options:[!0,!1]},filterGroup:{types:["string"],help:t.filterGroup}},fn:(e,t)=>({type:"render",as:"time_filter",value:t})}},function(){const{help:e,args:t}=Object(v.b)().timerange;return{name:"timerange",help:e,type:"timerange",inputTypes:["null"],args:{from:{types:["string"],required:!0,help:t.from},to:{types:["string"],required:!0,help:t.to}},fn:(e,t)=>({type:"timerange",...t})}},function(){const{help:e,args:t}=Object(a.u)().switch;return{name:"switch",help:e,args:{case:{types:["case"],aliases:["_"],resolve:!1,multi:!0,required:!0,help:t.case},default:{aliases:["finally"],resolve:!1,help:t.default}},fn:(e,t)=>Object(m.combineLatest)(t.case.map((e=>Object(m.defer)((()=>e()))))).pipe(Object(g.concatMap)((n=>{var r,a;const i=n.find((({matches:e})=>e)),s=i&&Object(m.of)(i.result);return null!==(r=null!=s?s:null===(a=t.default)||void 0===a?void 0:a.call(t))&&void 0!==r?r:Object(m.of)(e)})))}},function(){const{help:e,args:t}=Object(a.u)().case;return{name:"case",type:"case",help:e,args:{when:{aliases:["_"],resolve:!1,help:t.when},if:{types:["boolean"],help:t.if},then:{resolve:!1,required:!0,help:t.then}},fn:(e,{if:t,then:n,when:r})=>Object(m.defer)((()=>{var n;const a=null===(n=null!=t?t:null==r?void 0:r().pipe(Object(g.map)((t=>t===e))))||void 0===n||n;return Object(m.isObservable)(a)?a:Object(m.of)(a)})).pipe(Object(g.concatMap)((e=>(e?n():Object(m.of)(null)).pipe(Object(g.map)((t=>({matches:e,result:t,type:"case"})))))))}}],T=()=>{};const E={exactly:function(e){if(e.filterType!==i.FilterType.exactly)throw new Error("Filter is not an exactly filter");return{term:{[e.column]:{value:e.value}}}},time:function(e){if(e.filterType!==i.FilterType.time||!e.column)throw new Error("column is required for Elasticsearch range filters");return{range:{[e.column]:{gte:e.from,lte:e.to}}}},luceneQueryString:function(e){if(e.filterType!==i.FilterType.luceneQueryString)throw new Error("Filter is not a lucene filter");return{query_string:{query:e.query||"*"}}}};function R(e){return t=e.map((e=>{try{return function(e){if(!e.filterType||!E[e.filterType])throw new Error(`Unknown filter type: ${e.filterType}`);try{return E[e.filterType](e)}catch(t){throw new Error(`Could not create elasticsearch filter from ${e.filterType}`)}}(e)}catch(e){return}})),Array.isArray(t)?t.filter((e=>Boolean(e))):[];var t}var q=n(57);const A=[function(){const{help:e}=Object(a.u)().location;return{name:"location",type:"datatable",inputTypes:["null"],args:{},help:e,fn:()=>new Promise((e=>navigator.geolocation.getCurrentPosition((function(t){const{latitude:n,longitude:r}=t.coords;return e({type:"datatable",columns:[{id:"latitude",name:"latitude",meta:{type:"number"}},{id:"longitude",name:"longitude",meta:{type:"number"}}],rows:[{latitude:n,longitude:r}]})}),T,{maximumAge:5e3})))}},function(){const{help:e,args:t}=Object(a.u)().markdown;return{name:"markdown",aliases:[],type:"render",help:e,inputTypes:["datatable","null"],args:{content:{aliases:["_","expression"],types:["string"],help:t.content,default:'""',multi:!0},font:{types:["style"],help:t.font,default:"{font}"},openLinksInNewTab:{types:["boolean"],help:t.openLinksInNewTab,default:!1}},fn:async(e,t)=>{const{Handlebars:r}=await Promise.all([n.e(0),n.e(14)]).then(n.bind(null,404)),a=t.content.map((e=>r.compile(String(e),{knownHelpersOnly:!0}))),i={columns:[],rows:[],type:null,...e};return{type:"render",as:"markdown",value:{content:a.map((e=>e(i))).join(""),font:t.font,openLinksInNewTab:t.openLinksInNewTab}}}}},function(){const{help:e,args:t}=Object(a.u)().urlparam;return{name:"urlparam",aliases:[],type:"string",help:e,inputTypes:["null"],args:{param:{types:["string"],aliases:["_","var","variable"],help:t.param,multi:!1,required:!0},default:{types:["string"],default:'""',help:t.default}},fn:(e,t)=>new URL(window.location.href).searchParams.get(t.param)||t.default}},function(){const{help:e,args:t}=Object(a.u)().escount;return{name:"escount",type:"number",context:{types:["filter"]},help:e,args:{query:{types:["string"],aliases:["_","q"],help:t.query,default:'"-_index:.kibana"'},index:{types:["string"],default:"_all",help:t.index}},fn:(e,t,n)=>{e.and=e.and.concat([{type:"filter",filterType:"luceneQueryString",query:t.query,and:[]}]);const r={params:{...function(e,t){return t.size&&(e={...e,size:t.size}),t.and&&(e.body.query.bool.must=R(t.and)),e}({index:t.index,body:{track_total_hits:!0,size:0,query:{bool:{must:[{match_all:{}}]}}}},e)}};return q.searchService.getService().search.search(r).toPromise().then((e=>e.rawResponse.hits.total))}}},function(){const{help:e,args:t}=Object(a.u)().esdocs;return{name:"esdocs",type:"datatable",context:{types:["filter"]},help:e,args:{query:{types:["string"],aliases:["_","q"],help:t.query,default:"-_index:.kibana"},count:{types:["number"],default:1e3,help:t.count},fields:{help:t.fields,types:["string"]},index:{types:["string"],default:"_all",help:t.index},metaFields:{help:t.metaFields,types:["string"]},sort:{types:["string"],help:t.sort}},fn:async(e,t,r)=>{const{count:a,index:i,fields:s,sort:o}=t;e.and=e.and.concat([{type:"filter",filterType:"luceneQueryString",query:t.query,and:[]}]);let l=(await n.e(16).then(n.t.bind(null,405,7))).select({autoQuoteTableNames:!0,autoQuoteFieldNames:!0,autoQuoteAliasNames:!0,nameQuoteCharacter:'"'});if(i&&l.from(i),s){s.split(",").map((e=>e.trim())).forEach((e=>l=l.field(e)))}if(o){const[e,t]=o.split(",").map((e=>e.trim()));e&&l.order(`"${e}"`,"asc"===t)}const u=q.searchService.getService().search,c={count:a,query:l.toString(),filter:e.and};return u.search(c,{strategy:_.v}).toPromise().then((e=>({type:"datatable",meta:{type:"essql"},...e})))}}},function(){const{help:e,args:t}=Object(a.u)().essql;return{name:"essql",type:"datatable",context:{types:["filter"]},help:e,args:{query:{aliases:["_","q"],types:["string"],help:t.query},parameter:{aliases:["param"],types:["string","number","boolean"],multi:!0,help:t.parameter},count:{types:["number"],help:t.count,default:1e3},timezone:{aliases:["tz"],types:["string"],default:"UTC",help:t.timezone}},fn:(e,t,n)=>{const r=q.searchService.getService().search,{parameter:a,...i}=t,s={...i,params:a,filter:e.and};return r.search(s,{strategy:_.v}).toPromise().then((e=>({type:"datatable",meta:{type:"essql"},...e}))).catch((e=>{let t=`Unexpected error from Elasticsearch: ${e.message}`;if(e.err){const{type:n,reason:r}=e.err.attributes;t="parsing_exception"===n?`Couldn't parse Elasticsearch SQL query. You may need to add double quotes to names containing special characters. Check your query and try again. Error: ${r}`:`Unexpected error from Elasticsearch: ${n} - ${r}`}throw e.message=t,e}))}}},...k];var I=n(121);const L=[I.c];var D=n(91),F=n(95);const N={timeRange:{from:"now-15m",to:"now"},disableTriggers:!0,renderMode:"noInteractivity"};function z({embeddablePersistableStateService:e}){return function(){const{help:t,args:n}=Object(a.u)().embeddable;return{name:"embeddable",help:t,args:{config:{aliases:["_"],types:["string"],required:!0,help:n.config},type:{types:["string"],required:!0,help:n.type}},context:{types:["filter"]},type:I.a,fn:(e,t)=>{const n=e?e.and:[],r=Object(F.a)(t.config);return{type:I.a,input:{...N,...r,filters:Object(D.b)(n)},generatedAt:Date.now(),embeddableType:t.type}},extract(t){const n=Object(F.a)(t.config[0]);if(n.savedObjectId){return{state:t,references:[{name:"embeddable.savedObjectId",type:t.type[0],id:n.savedObjectId}]}}const{state:r,references:a}=e.extract({...n,type:t.type[0]}),{type:i,...s}=r;return{state:{...t,config:[Object(F.b)(s)],type:[i]},references:a}},inject(t,n){const r=Object(F.a)(t.config[0]),a=n.find((e=>"embeddable.savedObjectId"===e.name));if(a)r.savedObjectId=a.id,t.config[0]=Object(F.b)(r),t.type[0]=a.type;else{const{type:a,...i}=e.inject({...r,type:t.type[0]},n);t.config[0]=Object(F.b)(i),t.type[0]=a}return t},migrations:Object(r.mapValues)(e.getAllMigrations(),(e=>t=>{const n=Object(F.a)(t.arguments.config[0]),r=t.arguments.type[0],a=e({...n,type:r});return t.arguments.config[0]=Object(F.b)(a),t.arguments.type[0]=a.type,t}))}}}const $={from:"now-15m",to:"now"};function P(){const{help:e,args:t}=Object(a.u)().savedLens;return{name:"savedLens",help:e,args:{id:{types:["string"],required:!1,help:t.id},timerange:{types:["timerange"],help:t.timerange,required:!1},title:{types:["string"],help:t.title,required:!1},palette:{types:["palette"],help:t.palette,required:!1}},type:I.a,fn:(e,{id:t,timerange:n,title:r,palette:a})=>{const i=e?e.and:[];return{type:I.a,input:{id:t,savedObjectId:t,filters:Object(D.b)(i),timeRange:n||$,title:null===r?void 0:r,disableTriggers:!0,palette:a},embeddableType:I.b.lens,generatedAt:Date.now()}},extract(e){const t="savedLens.id",n=[{name:t,type:"lens",id:e.id[0]}];return{state:{...e,id:[t]},references:n}},inject(e,t){const n=t.find((e=>"savedLens.id"===e.name));return n&&(e.id[0]=n.id),e}}}const M={from:"now-15m",to:"now"};function U(){const{help:e,args:t}=Object(a.u)().savedMap;return{name:"savedMap",help:e,args:{id:{types:["string"],required:!1,help:t.id},center:{types:["mapCenter"],help:t.center,required:!1},hideLayer:{types:["string"],help:t.hideLayer,required:!1,multi:!0},timerange:{types:["timerange"],help:t.timerange,required:!1},title:{types:["string"],help:t.title,required:!1}},type:I.a,fn:(e,t)=>{const n=e?e.and:[],r=t.center?{lat:t.center.lat,lon:t.center.lon,zoom:t.center.zoom}:void 0;return{type:I.a,input:{id:t.id,attributes:{title:""},savedObjectId:t.id,filters:Object(D.b)(n),timeRange:t.timerange||M,refreshConfig:{pause:!1,value:0},mapCenter:r,hideFilterActions:!0,title:null===t.title?void 0:t.title,isLayerTOCOpen:!1,hiddenLayers:t.hideLayer||[]},embeddableType:I.b.map,generatedAt:Date.now()}},extract(e){const t="savedMap.id",n=[{name:t,type:"map",id:e.id[0]}];return{state:{...e,id:[t]},references:n}},inject(e,t){const n=t.find((e=>"savedMap.id"===e.name));return n&&(e.id[0]=n.id),e}}}function B(){const{help:e,args:t}=Object(a.u)().savedSearch;return{name:"savedSearch",help:e,args:{id:{types:["string"],required:!1,help:t.id}},type:I.a,fn:(e,{id:t})=>{const n=e?e.and:[];return{type:I.a,input:{id:t,...Object(D.a)(n)},embeddableType:I.b.search,generatedAt:Date.now()}},extract(e){const t="savedSearch.id",n=[{name:t,type:"search",id:e.id[0]}];return{state:{...e,id:[t]},references:n}},inject(e,t){const n=t.find((e=>"savedSearch.id"===e.name));return n&&(e.id[0]=n.id),e}}}const G={from:"now-15m",to:"now"};function H(){const{help:e,args:t}=Object(a.u)().savedVisualization;return{name:"savedVisualization",help:e,args:{id:{types:["string"],required:!1,help:t.id},timerange:{types:["timerange"],help:t.timerange,required:!1},colors:{types:["seriesStyle"],help:t.colors,multi:!0,required:!1},hideLegend:{types:["boolean"],help:t.hideLegend,required:!1},title:{types:["string"],help:t.title,required:!1}},type:I.a,fn:(e,{id:t,timerange:n,colors:a,hideLegend:i,title:s})=>{const o=e?e.and:[],l={};return a&&(l.colors=a.reduce(((e,t)=>(t.label&&t.color&&(e[t.label]=t.color),e)),{})),!0===i&&(l.legendOpen=!1),{type:I.a,input:{id:t,savedObjectId:t,disableTriggers:!0,timeRange:n?Object(r.omit)(n,"type"):G,filters:Object(D.b)(o),vis:l,title:null===s?void 0:s},embeddableType:I.b.visualization,generatedAt:Date.now()}},extract(e){const t="savedVisualization.id",n=[{name:t,type:"visualization",id:e.id[0]}];return{state:{...e,id:[t]},references:n}},inject(e,t){const n=t.find((e=>"savedVisualization.id"===e.name));return n&&(e.id[0]=n.id),e}}}var V=n(17),K=n(22),Q=n.n(K),W=n(24),J=n(49);const Y={[I.b.map]:function(e){const t=[];if(t.push("savedMap"),t.push(`id="${e.savedObjectId}"`),void 0!==e.title&&t.push(`title="${e.title}"`),e.mapCenter&&t.push(`center={mapCenter lat=${e.mapCenter.lat} lon=${e.mapCenter.lon} zoom=${e.mapCenter.zoom}}`),e.timeRange&&t.push(`timerange={timerange from="${e.timeRange.from}" to="${e.timeRange.to}"}`),e.hiddenLayers&&e.hiddenLayers.length)for(const n of e.hiddenLayers)t.push(`hideLayer="${n}"`);return t.join(" ")},[I.b.visualization]:function(e){var t,n;const r=[];return r.push("savedVisualization"),r.push(`id="${e.savedObjectId}"`),void 0!==e.title&&r.push(`title="${e.title}"`),e.timeRange&&r.push(`timerange={timerange from="${e.timeRange.from}" to="${e.timeRange.to}"}`),null!==(t=e.vis)&&void 0!==t&&t.colors&&Object.entries(e.vis.colors).map((([e,t])=>`colors={seriesStyle label="${e}" color="${t}"}`)).reduce(((e,t)=>r.push(t)),0),void 0!==(null===(n=e.vis)||void 0===n?void 0:n.legendOpen)&&!1===e.vis.legendOpen&&r.push("hideLegend=true"),r.join(" ")},[I.b.lens]:function(e,t){const n=[];return n.push("savedLens"),n.push(`id="${e.savedObjectId}"`),void 0!==e.title&&n.push(`title="${e.title}"`),e.timeRange&&n.push(`timerange={timerange from="${e.timeRange.from}" to="${e.timeRange.to}"}`),e.palette&&n.push(`palette={${Object(x.toExpression)(t.get(e.palette.name).toExpression(e.palette.params))}}`),n.join(" ")}};function Z(e,t,n,r){return r?function(e,t){return`embeddable config="${Object(F.b)(e)}" type="${t}"`}(e,t):Y[t]?Y[t](e,n):void 0}var X=n(78),ee=n(18);const{embeddable:te}=a.j,ne={},re=[(e,t)=>{const n=((e,t)=>{const n=e.i18n.Context,r={getCurrentPath:()=>window.location.hash};return a=>Object(ee.jsx)("div",{className:X.CANVAS_EMBEDDABLE_CLASSNAME,style:{width:"100%",height:"100%",cursor:"auto"}},Object(ee.jsx)(n,null,Object(ee.jsx)(W.KibanaThemeProvider,{theme$:e.theme.theme$},Object(ee.jsx)(t.embeddable.EmbeddablePanel,{embeddable:a,containerContext:r}))))})(e,t);return()=>({name:"embeddable",displayName:te.getDisplayName(),help:te.getHelpDescription(),reuseDomNode:!0,render:async(e,{input:r,embeddableType:a},i)=>{const s=i.getElementId(),o=t.presentationUtil.labsService.isProjectEnabled("labs:canvas:byValueEmbeddable");if(ne[s]){const e=ne[s];"updateInput"in e&&(e.updateInput(r),e.reload())}else{const l=Array.from(t.embeddable.getEmbeddableFactories()).find((e=>e.type===a));if(!l)throw i.done(),new J.EmbeddableFactoryNotFoundError(a);const u={...r,id:s},c=r.savedObjectId?l.createFromSavedObject(r.savedObjectId,u).then((e=>(ne[s]=e,e))):l.create(u).then((e=>{if(e&&!Object(J.isErrorEmbeddable)(e))return ne[s]=e,e}));ne[s]=c;const p=await(async()=>c)(),d=await t.charts.palettes.getPalettes();ne[s]=p,Q.a.unmountComponentAtNode(e);const h=p.getInput$().subscribe((function(e){const t=Z(e,a,d,o);t&&i.onEmbeddableInputChange(t)}));Q.a.render(n(p),e,(()=>i.done())),i.onDestroy((()=>(h.unsubscribe(),i.onEmbeddableDestroyed(),delete ne[s],Q.a.unmountComponentAtNode(e))))}}})}];var ae=n(64),ie=n(19),se=n(3);const oe=()=>se.i18n.translate("xpack.canvas.renderer.advancedFilter.applyButtonLabel",{defaultMessage:"Apply",description:"This refers to applying the filter to the Canvas workpad"}),le=()=>se.i18n.translate("xpack.canvas.renderer.advancedFilter.inputPlaceholder",{defaultMessage:"Enter filter expression"}),ue=({value:e="",onChange:t,commit:n})=>Object(ee.jsx)("form",{onSubmit:t=>{t.preventDefault(),n(e)},className:"canvasAdvancedFilter"},Object(ee.jsx)(ie.EuiFlexGroup,{gutterSize:"xs"},Object(ee.jsx)(ie.EuiFlexItem,null,Object(ee.jsx)("input",{type:"text",className:"canvasAdvancedFilter__input",placeholder:le(),value:e,onChange:e=>t(e.target.value)})),Object(ee.jsx)(ie.EuiFlexItem,{grow:!1},Object(ee.jsx)("button",{className:"canvasAdvancedFilter__button",type:"submit"},oe()))));ue.defaultProps={value:""};const ce=Object(ae.compose)(Object(ae.withState)("value","onChange",(({value:e})=>e||"")))(ue),{advancedFilter:pe}=a.j;var de=n(76),he=n.n(de);const{set:fe,del:me}=he.a;function ge(e,t,n=[]){let a=!1;const i=Object(x.fromExpression)(t),s=n.reduce(((t,n)=>Object(r.get)(t,`chain[0].arguments.${n}[0]`)!==e[n]?(a=!0,e[n]?fe(t,`chain.0.arguments.${n}.0`,e[n]):me(t,`chain.0.arguments.${n}`)):t),i);return{changed:a,newAst:s}}const ye=()=>se.i18n.translate("xpack.canvas.renderer.dropdownFilter.matchAllOptionLabel",{defaultMessage:"ANY",description:"The dropdown filter option to match any value in the field."}),be=({initialValue:e="",commit:t,choices:n=[]})=>{const[r,a]=Object(V.useState)(e);Object(V.useEffect)((()=>{a(e)}),[e]);let i=[{value:"%%CANVAS_MATCH_ALL%%",text:`-- ${ye()} --`}];i=i.concat(n.map((e=>({value:e[0],text:e[1]}))));const s=i.map((e=>{const{text:t}=e,n=e.value;return{text:t,selected:n===r,value:n}}));return Object(ee.jsx)("div",{className:"canvasDropdownFilter"},Object(ee.jsx)(ie.EuiSelect,{className:"canvasDropdownFilter__select",value:r,onChange:e=>{if(e&&e.target){const n=e.target;a(n.value),t(n.value)}},"data-test-subj":"canvasDropdownFilter__select",options:s,fullWidth:!0,compressed:!0}))},{dropdownFilter:ve}=a.j,we="%%CANVAS_MATCH_ALL%%",Oe=e=>{if(""===e)return we;const t=Object(x.fromExpression)(e);return Object(r.get)(t,"chain[0].arguments.value[0]",we)};var _e=n(50),je=n(125);const{quickRanges:xe}=je.a,Ce=[{start:"now-1d/d",end:"now-1d/d",label:xe.getYesterdayLabel()},{start:"now/d",end:"now",label:xe.getTodayLabel()},{start:"now-24h",end:"now",label:xe.getLast24HoursLabel()},{start:"now-7d",end:"now",label:xe.getLast7DaysLabel()},{start:"now-14d",end:"now",label:xe.getLast2WeeksLabel()},{start:"now-30d",end:"now",label:xe.getLast30DaysLabel()},{start:"now-90d",end:"now",label:xe.getLast90DaysLabel()},{start:"now-1y",end:"now",label:xe.getLast1YearLabel()}];const Se=({filter:e,commit:t,dateFormat:n,commonlyUsedRanges:a=[]})=>{const{column:i,start:s,end:o}=function(e){const t=Object(x.fromExpression)(e);return{column:Object(r.get)(t,"chain[0].arguments.column[0]"),start:Object(r.get)(t,"chain[0].arguments.from[0]"),end:Object(r.get)(t,"chain[0].arguments.to[0]")}}(e);return Object(ee.jsx)("div",{className:"canvasTimeFilter"},Object(ee.jsx)(ie.EuiSuperDatePicker,{start:s,end:o,isPaused:!1,onTimeChange:(e=>({start:n,end:r})=>{t(`timefilter from="${n}" to=${r} column=${e}`)})(i),showUpdateButton:!1,dateFormat:n,commonlyUsedRanges:a.length?a:Ce}))},{timeFilter:ke}=a.j,Te=[(e,t)=>{const{uiSettings:n,theme:r}=e,a=(n.get(_e.UI_SETTINGS.TIMEPICKER_QUICK_RANGES)||[]).map((({from:e,to:t,display:n})=>({start:e,end:t,label:n}))),i=n.get("dateFormat");return()=>({name:"time_filter",displayName:ke.getDisplayName(),help:ke.getHelpDescription(),reuseDomNode:!0,render:async(e,t,n)=>{let s=n.getFilter();if(void 0===s||0!==s.indexOf("timefilter"))s="timefilter column=@timestamp from=now-24h to=now",n.event({name:"applyFilterAction",data:s});else if(""!==s){const{changed:e,newAst:r}=ge(t,s,["column","filterGroup"]);e&&n.event({name:"applyFilterAction",data:Object(x.toExpression)(r)})}Q.a.render(Object(ee.jsx)(W.KibanaThemeProvider,{theme$:r.theme$},Object(ee.jsx)(Se,{commit:e=>n.event({name:"applyFilterAction",data:e}),filter:s,commonlyUsedRanges:a,dateFormat:i})),e,(()=>n.done())),n.onDestroy((()=>{Q.a.unmountComponentAtNode(e)}))}})},(e,t)=>()=>({name:"dropdown_filter",displayName:ve.getDisplayName(),help:ve.getHelpDescription(),reuseDomNode:!0,height:50,render(t,n,r){let a=r.getFilter();if(""===a||void 0!==a&&a.includes("exactly")){if(""!==a){const{changed:e,newAst:t}=ge(n,a,["filterGroup"]);e&&r.event({name:"applyFilterAction",data:Object(x.toExpression)(t)})}}else a="",r.event({name:"applyFilterAction",data:a});const i=Object(ee.jsx)(be,{commit:e=>{if("%%CANVAS_MATCH_ALL%%"===e)r.event({name:"applyFilterAction",data:""});else{const t={type:"expression",chain:[{type:"function",function:"exactly",arguments:{value:[e],column:[n.column],filterGroup:[n.filterGroup]}}]},a=Object(x.toExpression)(t);r.event({name:"applyFilterAction",data:a})}},choices:n.choices||[],initialValue:Oe(a)});Q.a.render(Object(ee.jsx)(W.KibanaThemeProvider,{theme$:e.theme.theme$},i),t,(()=>r.done())),r.onDestroy((()=>{Q.a.unmountComponentAtNode(t)}))}}),(e,t)=>()=>({name:"advanced_filter",displayName:pe.getDisplayName(),help:pe.getHelpDescription(),reuseDomNode:!0,height:50,render(t,n,r){Q.a.render(Object(ee.jsx)(W.KibanaThemeProvider,{theme$:e.theme.theme$},Object(ee.jsx)(ce,{commit:e=>r.event({name:"applyFilterAction",data:e}),value:r.getFilter()})),t,(()=>r.done())),r.onDestroy((()=>{Q.a.unmountComponentAtNode(t)}))}})];var Ee=n(36),Re=n(37),qe=n(29),Ae=n(38),Ie=n(39),Le=n(30);const De=[qe.debugRendererFactory,qe.errorRendererFactory,Ee.imageRendererFactory,Le.shapeRendererFactory,Le.progressRendererFactory,Ae.revealImageRendererFactory,Ie.repeatImageRendererFactory,Re.metricRendererFactory];var Fe=n(184),Ne=n(185),ze=n(186),$e=n(189),Pe=n(190);const Me=[Ne.a,ze.a],Ue=[Fe.b,Pe.b,$e.b],Be=[...Me],Ge=[...Ue,...re,...Te,...De];class plugin_CanvasSrcPlugin{setup(e,t){t.canvas.addFunctions(A),t.canvas.addTypes(L),t.canvas.addRenderers(Be),e.getStartServices().then((([e,n])=>{const r=[z({embeddablePersistableStateService:{extract:n.embeddable.extract,inject:n.embeddable.inject,getAllMigrations:n.embeddable.getAllMigrations}}),P,U,B,H];t.canvas.addFunctions(r),t.canvas.addRenderers(Ge.map((t=>t(e,n))))})),t.canvas.addDatasourceUIs((async()=>{const{datasourceSpecs:e}=await Promise.all([n.e(0),n.e(1)]).then(n.bind(null,407));return e})),t.canvas.addElements((async()=>{const{initializeElements:r}=await Promise.all([n.e(0),n.e(1)]).then(n.bind(null,407));return r(e,t)})),t.canvas.addModelUIs((async()=>{const{modelSpecs:e}=await Promise.all([n.e(0),n.e(1)]).then(n.bind(null,407));return e})),t.canvas.addViewUIs((async()=>{const{initializeViews:r}=await Promise.all([n.e(0),n.e(1)]).then(n.bind(null,407));return r(e,t)})),t.canvas.addArgumentUIs((async()=>{const{initializeArgs:r}=await Promise.all([n.e(0),n.e(1)]).then(n.bind(null,407));return r(e,t)})),t.canvas.addTagUIs((async()=>{const{tagSpecs:e}=await Promise.all([n.e(0),n.e(1)]).then(n.bind(null,407));return e})),t.canvas.addTransformUIs((async()=>{const{transformSpecs:e}=await Promise.all([n.e(0),n.e(1)]).then(n.bind(null,407));return e}))}start(e,t){}}}}]);
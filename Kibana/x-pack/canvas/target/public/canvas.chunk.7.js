/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.canvas_bundle_jsonpfunction=window.canvas_bundle_jsonpfunction||[]).push([[7],{129:function(e,n,t){e.exports=t(13)(21)},169:function(e,n,t){e.exports=t(13)(43)},170:function(e,n,t){"use strict";function r(e,n,t,u){var o=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(o,r.prototype),o.expected=n,o.found=t,o.location=u,o.name="SyntaxError",o}function u(e,n,t){return t=t||" ",e.length>n?e:(n-=e.length,e+(t+=t.repeat(n)).slice(0,n))}!function(e,n){function t(){this.constructor=e}t.prototype=n.prototype,e.prototype=new t}(r,Error),r.prototype.format=function(e){var n="Error: "+this.message;if(this.location){var t,r=null;for(t=0;t<e.length;t++)if(e[t].source===this.location.source){r=e[t].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,i=this.location.source+":"+o.line+":"+o.column;if(r){var a=this.location.end,s=u("",o.line.toString().length),c=r[o.line-1],l=o.line===a.line?a.column:c.length+1;n+="\n --\x3e "+i+"\n"+s+" |\n"+o.line+" | "+c+"\n"+s+" | "+u("",o.column-1)+u("",l-o.column,"^")}else n+="\n at "+i}return n},r.buildMessage=function(e,n){var t={literal:function(e){return'"'+u(e.text)+'"'},class:function(e){var n=e.parts.map((function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)}));return"["+(e.inverted?"^":"")+n+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function u(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){return t[e.type](e)}return"Expected "+function(e){var n,t,r=e.map(i);if(r.sort(),r.length>0){for(n=1,t=1;n<r.length;n++)r[n-1]!==r[n]&&(r[t]=r[n],t++);r.length=t}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+u(e)+'"':"end of input"}(n)+" found."},e.exports={SyntaxError:r,parse:function(e,n){var t,u={},o=(n=void 0!==n?n:{}).grammarSource,i={start:be,Literal:Qe},a=be,s=":",c="or",l="and",f="not",d='"',p="\\",v="<=",h=">=",g="@kuery-cursor@",m=/^[\\"]/,y=/^[^"]/,b=/^[\\():<>"*{}]/,w=/^[0-9a-f]/i,A=/^[ \t\r\n\xA0]/,x=de("(",!1),E=de(")",!1),C=de(":",!1),T=de("{",!1),j=de("}",!1),S=ve("fieldName"),_=ve("value"),N=ve("OR"),O=de("or",!0),L=ve("AND"),Q=de("and",!0),q=ve("NOT"),P=de("not",!0),R=ve("literal"),F=de('"',!1),I=de("\\",!1),k=pe(["\\",'"'],!1,!1),U=pe(['"'],!0,!1),M={type:"any"},$=de("*",!1),B=de("\\t",!1),W=de("\\r",!1),G=de("\\n",!1),Z=pe(["\\","(",")",":","<",">",'"',"*","{","}"],!1,!1),z=de("u",!1),H=pe([["0","9"],["a","f"]],!1,!0),V=de("<=",!1),K=de(">=",!1),D=de("<",!1),X=de(">",!1),Y=ve("whitespace"),J=pe([" ","\t","\r","\n","Â "],!1,!1),ee=de("@kuery-cursor@",!1),ne=function(e,n){return n},te=function(e,n){return n},re=function(e){if("cursor"===e.type)return e;!ze&&"wildcard"===e.type&&He.wildcard.hasLeadingWildcard(e)&&function(e,n){throw n=void 0!==n?n:ge(ae,ie),function(e,n){return new r(e,null,null,n)}(e,n)}("Leading wildcards are disabled. See query:allowLeadingWildcards in Advanced Settings.");const n=Ke(!1);return t=>Ve("is",[t,e,n])},ue=function(){return Ge},oe=function(n,t,r){const{start:u,end:o}=ge(ae,ie);return{type:"cursor",start:u.offset,end:o.offset-t.length,prefix:n.join(""),suffix:r.join(""),text:e.substring(ae,ie).replace(t,"")}},ie=0,ae=0,se=[{line:1,column:1}],ce=0,le=[],fe=0;if("startRule"in n){if(!(n.startRule in i))throw new Error("Can't start parsing from rule \""+n.startRule+'".');a=i[n.startRule]}function de(e,n){return{type:"literal",text:e,ignoreCase:n}}function pe(e,n,t){return{type:"class",parts:e,inverted:n,ignoreCase:t}}function ve(e){return{type:"other",description:e}}function he(n){var t,r=se[n];if(r)return r;for(t=n-1;!se[t];)t--;for(r={line:(r=se[t]).line,column:r.column};t<n;)10===e.charCodeAt(t)?(r.line++,r.column=1):r.column++,t++;return se[n]=r,r}function ge(e,n){var t=he(e),r=he(n);return{source:o,start:{offset:e,line:t.line,column:t.column},end:{offset:n,line:r.line,column:r.column}}}function me(e){ie<ce||(ie>ce&&(ce=ie,le=[]),le.push(e))}function ye(e,n,t){return new r(r.buildMessage(e,n),e,n,t)}function be(){var e,n,t,r,o,i;for(e=ie,n=[],t=Be();t!==u;)n.push(t),t=Be();return(t=we())===u&&(t=null),(r=Ie())!==u?(ae=e,o=t,e="cursor"===(i=r).type?{...i,suggestionTypes:["conjunction"]}:null!==o?o:He.function.buildNode("is","*","*")):(ie=e,e=u),e}function we(){var e,n,t,r,o;if(e=ie,(n=Ae())!==u){if(t=[],r=ie,Ne()!==u&&(o=Ae())!==u?(ae=r,r=ne(0,o)):(ie=r,r=u),r!==u)for(;r!==u;)t.push(r),r=ie,Ne()!==u&&(o=Ae())!==u?(ae=r,r=ne(0,o)):(ie=r,r=u);else t=u;t!==u?(ae=e,e=function(e,n){const t=[e,...n];return Ge&&t.find((e=>"cursor"===e.type))||Ve("or",t)}(n,t)):(ie=e,e=u)}else ie=e,e=u;return e===u&&(e=Ae()),e}function Ae(){var e,n,t,r,o;if(e=ie,(n=xe())!==u){if(t=[],r=ie,Oe()!==u&&(o=xe())!==u?(ae=r,r=ne(0,o)):(ie=r,r=u),r!==u)for(;r!==u;)t.push(r),r=ie,Oe()!==u&&(o=xe())!==u?(ae=r,r=ne(0,o)):(ie=r,r=u);else t=u;t!==u?(ae=e,e=function(e,n){const t=[e,...n];return Ge&&t.find((e=>"cursor"===e.type))||Ve("and",t)}(n,t)):(ie=e,e=u)}else ie=e,e=u;return e===u&&(e=xe()),e}function xe(){var e,n,t;return e=ie,Le()!==u&&(n=Ee())!==u?(ae=e,e="cursor"===(t=n).type?t:Ve("not",[t])):(ie=e,e=u),e===u&&(e=Ee()),e}function Ee(){var n,t,r,o,i,a,c,l;if(n=ie,40===e.charCodeAt(ie)?(t="(",ie++):(t=u,0===fe&&me(x)),t!==u){for(r=[],o=Be();o!==u;)r.push(o),o=Be();(o=we())!==u&&(i=Ie())!==u?(41===e.charCodeAt(ie)?(a=")",ie++):(a=u,0===fe&&me(E)),a!==u?(ae=n,c=o,n="cursor"===(l=i).type?{...l,suggestionTypes:["conjunction"]}:c):(ie=n,n=u)):(ie=n,n=u)}else ie=n,n=u;return n===u&&(n=function(){var n,t,r,o,i,a,c,l,f,d;if(n=ie,(t=Ce())!==u){for(r=[],o=Be();o!==u;)r.push(o),o=Be();if(58===e.charCodeAt(ie)?(o=":",ie++):(o=u,0===fe&&me(C)),o!==u){for(i=[],a=Be();a!==u;)i.push(a),a=Be();if(123===e.charCodeAt(ie)?(a="{",ie++):(a=u,0===fe&&me(T)),a!==u){for(c=[],l=Be();l!==u;)c.push(l),l=Be();(l=we())!==u&&(f=Ie())!==u?(125===e.charCodeAt(ie)?(d="}",ie++):(d=u,0===fe&&me(j)),d!==u?(ae=n,n=function(e,n,t){return"cursor"===n.type?{...n,nestedPath:n.nestedPath?`${e.value}.${n.nestedPath}`:e.value}:"cursor"===t.type?{...t,suggestionTypes:["conjunction"]}:Ve("nested",[e,n])}(t,l,f)):(ie=n,n=u)):(ie=n,n=u)}else ie=n,n=u}else ie=n,n=u}else ie=n,n=u;n===u&&(n=function(){var n;(n=function(){var n,t,r,o,i,a;if(n=ie,(t=Ce())!==u){for(r=[],o=Be();o!==u;)r.push(o),o=Be();if((o=function(){var n,t;n=ie,e.substr(ie,2)===v?(t=v,ie+=2):(t=u,0===fe&&me(V));t!==u&&(ae=n,t="lte");(n=t)===u&&(n=ie,e.substr(ie,2)===h?(t=h,ie+=2):(t=u,0===fe&&me(K)),t!==u&&(ae=n,t="gte"),(n=t)===u&&(n=ie,60===e.charCodeAt(ie)?(t="<",ie++):(t=u,0===fe&&me(D)),t!==u&&(ae=n,t="lt"),(n=t)===u&&(n=ie,62===e.charCodeAt(ie)?(t=">",ie++):(t=u,0===fe&&me(X)),t!==u&&(ae=n,t="gt"),n=t)));return n}())!==u){for(i=[],a=Be();a!==u;)i.push(a),a=Be();(a=Qe())!==u?(ae=n,s=t,c=o,n="cursor"===(l=a).type?{...l,suggestionTypes:["conjunction"]}:Ve("range",[s,c,l])):(ie=n,n=u)}else ie=n,n=u}else ie=n,n=u;var s,c,l;return n}())===u&&(n=function(){var n,t,r,o,i,a;if(n=ie,(t=Ce())!==u){for(r=[],o=Be();o!==u;)r.push(o),o=Be();if(58===e.charCodeAt(ie)?(o=s,ie++):(o=u,0===fe&&me(C)),o!==u){for(i=[],a=Be();a!==u;)i.push(a),a=Be();(a=Te())!==u?(ae=n,c=t,n="cursor"===(l=a).type?{...l,fieldName:c.value,suggestionTypes:["value","conjunction"]}:l(c)):(ie=n,n=u)}else ie=n,n=u}else ie=n,n=u;var c,l;return n}())===u&&(n=function(){var e,n;e=ie,(n=_e())!==u&&(ae=e,n=function(e){if("cursor"===e.type){const n=`${e.prefix}${e.suffix}`.trim();return{...e,fieldName:n,suggestionTypes:["field","operator","conjunction"]}}return e(Ke(null))}(n));return e=n}());return n}());return n}()),n}function Ce(){var e;return fe++,e=Qe(),fe--,e===u&&(u,0===fe&&me(S)),e}function Te(){var n,t,r,o,i,a,s,c;if(n=ie,40===e.charCodeAt(ie)?(t="(",ie++):(t=u,0===fe&&me(x)),t!==u){for(r=[],o=Be();o!==u;)r.push(o),o=Be();(o=function(){var e,n,t,r,o;if(e=ie,(n=je())!==u){if(t=[],r=ie,Ne()!==u&&(o=je())!==u?(ae=r,r=te(0,o)):(ie=r,r=u),r!==u)for(;r!==u;)t.push(r),r=ie,Ne()!==u&&(o=je())!==u?(ae=r,r=te(0,o)):(ie=r,r=u);else t=u;t!==u?(ae=e,e=function(e,n){const t=[e,...n],r=Ge&&t.find((e=>"cursor"===e.type));return r?{...r,suggestionTypes:["value"]}:e=>Ve("or",t.map((n=>n(e))))}(n,t)):(ie=e,e=u)}else ie=e,e=u;e===u&&(e=je());return e}())!==u&&(i=Ie())!==u?(41===e.charCodeAt(ie)?(a=")",ie++):(a=u,0===fe&&me(E)),a!==u?(ae=n,s=o,n="cursor"===(c=i).type?{...c,suggestionTypes:["conjunction"]}:s):(ie=n,n=u)):(ie=n,n=u)}else ie=n,n=u;return n===u&&(n=_e()),n}function je(){var e,n,t,r,o;if(e=ie,(n=Se())!==u){if(t=[],r=ie,Oe()!==u&&(o=Se())!==u?(ae=r,r=te(0,o)):(ie=r,r=u),r!==u)for(;r!==u;)t.push(r),r=ie,Oe()!==u&&(o=Se())!==u?(ae=r,r=te(0,o)):(ie=r,r=u);else t=u;t!==u?(ae=e,e=function(e,n){const t=[e,...n],r=Ge&&t.find((e=>"cursor"===e.type));return r?{...r,suggestionTypes:["value"]}:e=>Ve("and",t.map((n=>n(e))))}(n,t)):(ie=e,e=u)}else ie=e,e=u;return e===u&&(e=Se()),e}function Se(){var e,n,t;return e=ie,Le()!==u&&(n=Te())!==u?(ae=e,e="cursor"===(t=n).type?{...list,suggestionTypes:["value"]}:e=>Ve("not",[t(e)])):(ie=e,e=u),e===u&&(e=Te()),e}function _e(){var e,n;return fe++,e=ie,(n=qe())!==u&&(ae=e,n=function(e){if("cursor"===e.type)return e;const n=Ke(!0);return t=>Ve("is",[t,e,n])}(n)),(e=n)===u&&(e=ie,(n=Re())!==u&&(ae=e,n=re(n)),e=n),fe--,e===u&&(n=u,0===fe&&me(_)),e}function Ne(){var n,t,r,o,i;if(fe++,n=ie,t=[],(r=Be())!==u)for(;r!==u;)t.push(r),r=Be();else t=u;if(t!==u)if("or"===e.substr(ie,2).toLowerCase()?(r=e.substr(ie,2),ie+=2):(r=u,0===fe&&me(O)),r!==u){if(o=[],(i=Be())!==u)for(;i!==u;)o.push(i),i=Be();else o=u;o!==u?n=t=[t,r,o]:(ie=n,n=u)}else ie=n,n=u;else ie=n,n=u;return fe--,n===u&&(t=u,0===fe&&me(N)),n}function Oe(){var n,t,r,o,i;if(fe++,n=ie,t=[],(r=Be())!==u)for(;r!==u;)t.push(r),r=Be();else t=u;if(t!==u)if("and"===e.substr(ie,3).toLowerCase()?(r=e.substr(ie,3),ie+=3):(r=u,0===fe&&me(Q)),r!==u){if(o=[],(i=Be())!==u)for(;i!==u;)o.push(i),i=Be();else o=u;o!==u?n=t=[t,r,o]:(ie=n,n=u)}else ie=n,n=u;else ie=n,n=u;return fe--,n===u&&(t=u,0===fe&&me(L)),n}function Le(){var n,t,r,o;if(fe++,n=ie,"not"===e.substr(ie,3).toLowerCase()?(t=e.substr(ie,3),ie+=3):(t=u,0===fe&&me(P)),t!==u){if(r=[],(o=Be())!==u)for(;o!==u;)r.push(o),o=Be();else r=u;r!==u?n=t=[t,r]:(ie=n,n=u)}else ie=n,n=u;return fe--,n===u&&(t=u,0===fe&&me(q)),n}function Qe(){var e;return fe++,(e=qe())===u&&(e=Re()),fe--,e===u&&(u,0===fe&&me(R)),e}function qe(){var n,t,r,o,i,a,s;if(n=ie,ae=ie,(t=(t=ue())?void 0:u)!==u)if(34===e.charCodeAt(ie)?(r=d,ie++):(r=u,0===fe&&me(F)),r!==u){for(o=[],i=Pe();i!==u;)o.push(i),i=Pe();if((i=We())!==u){for(a=[],s=Pe();s!==u;)a.push(s),s=Pe();34===e.charCodeAt(ie)?(s=d,ie++):(s=u,0===fe&&me(F)),s!==u?(ae=n,n=oe(o,i,a)):(ie=n,n=u)}else ie=n,n=u}else ie=n,n=u;else ie=n,n=u;if(n===u)if(n=ie,34===e.charCodeAt(ie)?(t=d,ie++):(t=u,0===fe&&me(F)),t!==u){for(r=[],o=Pe();o!==u;)r.push(o),o=Pe();34===e.charCodeAt(ie)?(o=d,ie++):(o=u,0===fe&&me(F)),o!==u?(ae=n,n=Ke(r.join(""))):(ie=n,n=u)}else ie=n,n=u;return n}function Pe(){var n,t,r;return(n=ke())===u&&(n=Me())===u&&(n=ie,92===e.charCodeAt(ie)?(t=p,ie++):(t=u,0===fe&&me(I)),t!==u?(m.test(e.charAt(ie))?(r=e.charAt(ie),ie++):(r=u,0===fe&&me(k)),r!==u?(ae=n,n=r):(ie=n,n=u)):(ie=n,n=u),n===u&&(n=ie,t=ie,fe++,r=We(),fe--,r===u?t=void 0:(ie=t,t=u),t!==u?(y.test(e.charAt(ie))?(r=e.charAt(ie),ie++):(r=u,0===fe&&me(U)),r!==u?(ae=n,n=r):(ie=n,n=u)):(ie=n,n=u))),n}function Re(){var e,n,t,r,o,i;if(e=ie,ae=ie,(n=(n=ue())?void 0:u)!==u){for(t=[],r=Fe();r!==u;)t.push(r),r=Fe();if((r=We())!==u){for(o=[],i=Fe();i!==u;)o.push(i),i=Fe();ae=e,e=oe(t,r,o)}else ie=e,e=u}else ie=e,e=u;if(e===u){if(e=ie,n=[],(t=Fe())!==u)for(;t!==u;)n.push(t),t=Fe();else n=u;n!==u&&(ae=e,n=function(e){const n=e.join("").trim();return"null"===n?Ke(null):"true"===n?Ke(!0):"false"===n?Ke(!1):e.includes(Xe)?De(n):Ke(n)}(n)),e=n}return e}function Fe(){var n,t,r,o,i;return(n=ke())===u&&(n=function(){var n,t,r;n=ie,92===e.charCodeAt(ie)?(t=p,ie++):(t=u,0===fe&&me(I));t!==u&&(r=Ue())!==u?(ae=n,n=r):(ie=n,n=u);return n}())===u&&(n=Me())===u&&(n=function(){var n,t,r;n=ie,92===e.charCodeAt(ie)?(t=p,ie++):(t=u,0===fe&&me(I));t!==u?(e.substr(ie,2).toLowerCase()===c?(r=e.substr(ie,2),ie+=2):(r=u,0===fe&&me(O)),r===u&&(e.substr(ie,3).toLowerCase()===l?(r=e.substr(ie,3),ie+=3):(r=u,0===fe&&me(Q)),r===u&&(e.substr(ie,3).toLowerCase()===f?(r=e.substr(ie,3),ie+=3):(r=u,0===fe&&me(P)))),r!==u?(ae=n,n=r):(ie=n,n=u)):(ie=n,n=u);return n}())===u&&(n=function(){var n,t;n=ie,42===e.charCodeAt(ie)?(t="*",ie++):(t=u,0===fe&&me($));t!==u&&(ae=n,t=Xe);return n=t}())===u&&(n=ie,t=ie,fe++,r=Ue(),fe--,r===u?t=void 0:(ie=t,t=u),t!==u?(r=ie,fe++,o=function(){var e;(e=Ne())===u&&(e=Oe())===u&&(e=Le());return e}(),fe--,o===u?r=void 0:(ie=r,r=u),r!==u?(o=ie,fe++,i=We(),fe--,i===u?o=void 0:(ie=o,o=u),o!==u?(e.length>ie?(i=e.charAt(ie),ie++):(i=u,0===fe&&me(M)),i!==u?(ae=n,n=i):(ie=n,n=u)):(ie=n,n=u)):(ie=n,n=u)):(ie=n,n=u)),n}function Ie(){var e,n,t,r,o,i;if(e=ie,ae=ie,(n=(n=ue())?void 0:u)!==u){for(t=[],r=Be();r!==u;)t.push(r),r=Be();if((r=We())!==u){for(o=[],i=Be();i!==u;)o.push(i),i=Be();ae=e,e=oe(t,r,o)}else ie=e,e=u}else ie=e,e=u;if(e===u)for(e=[],n=Be();n!==u;)e.push(n),n=Be();return e}function ke(){var n,t;return n=ie,"\\t"===e.substr(ie,2)?(t="\\t",ie+=2):(t=u,0===fe&&me(B)),t!==u&&(ae=n,t="\t"),(n=t)===u&&(n=ie,"\\r"===e.substr(ie,2)?(t="\\r",ie+=2):(t=u,0===fe&&me(W)),t!==u&&(ae=n,t="\r"),(n=t)===u&&(n=ie,"\\n"===e.substr(ie,2)?(t="\\n",ie+=2):(t=u,0===fe&&me(G)),t!==u&&(ae=n,t="\n"),n=t)),n}function Ue(){var n;return b.test(e.charAt(ie))?(n=e.charAt(ie),ie++):(n=u,0===fe&&me(Z)),n}function Me(){var n,t,r;return n=ie,92===e.charCodeAt(ie)?(t=p,ie++):(t=u,0===fe&&me(I)),t!==u&&(r=function(){var n,t,r,o,i,a,s,c;n=ie,117===e.charCodeAt(ie)?(t="u",ie++):(t=u,0===fe&&me(z));t!==u?(r=ie,o=ie,(i=$e())!==u&&(a=$e())!==u&&(s=$e())!==u&&(c=$e())!==u?o=i=[i,a,s,c]:(ie=o,o=u),(r=o!==u?e.substring(r,ie):o)!==u?(ae=n,l=r,n=String.fromCharCode(parseInt(l,16))):(ie=n,n=u)):(ie=n,n=u);var l;return n}())!==u?(ae=n,n=r):(ie=n,n=u),n}function $e(){var n;return w.test(e.charAt(ie))?(n=e.charAt(ie),ie++):(n=u,0===fe&&me(H)),n}function Be(){var n;return fe++,A.test(e.charAt(ie))?(n=e.charAt(ie),ie++):(n=u,0===fe&&me(J)),fe--,n===u&&(u,0===fe&&me(Y)),n}function We(){var n,t;return n=ie,ae=ie,(ue()?void 0:u)!==u?(e.substr(ie,14)===g?(t=g,ie+=14):(t=u,0===fe&&me(ee)),t!==u?(ae=n,n=Ze):(ie=n,n=u)):(ie=n,n=u),n}const{parseCursor:Ge,cursorSymbol:Ze,allowLeadingWildcards:ze=!0,helpers:{nodeTypes:He}}=n,Ve=He.function.buildNodeWithArgumentNodes,Ke=He.literal.buildNode,De=He.wildcard.buildNode,{wildcardSymbol:Xe}=He.wildcard;if((t=a())!==u&&ie===e.length)return t;throw t!==u&&ie<e.length&&me({type:"end"}),ye(le,ce<e.length?e.charAt(ce):null,ce<e.length?ge(ce,ce+1):ge(ce,ce))}}},244:function(e,n,t){e.exports=t(13)(14)},245:function(e,n,t){e.exports=t(13)(13)},246:function(e,n,t){e.exports=t(13)(4)},247:function(e,n,t){e.exports=t(13)(19)},248:function(e,n,t){e.exports=t(13)(2453)},249:function(e,n,t){e.exports=t(13)(2460)},91:function(e,n,t){"use strict";t.d(n,"b",(function(){return Ie})),t.d(n,"a",(function(){return ke}));var r={};t.r(r),t.d(r,"buildNode",(function(){return Q})),t.d(r,"toElasticsearchQuery",(function(){return q}));var u={};t.r(u),t.d(u,"wildcardSymbol",(function(){return P})),t.d(u,"buildNode",(function(){return I})),t.d(u,"test",(function(){return k})),t.d(u,"toElasticsearchQuery",(function(){return U})),t.d(u,"toQueryStringQuery",(function(){return M})),t.d(u,"hasLeadingWildcard",(function(){return $}));var o={};t.r(o),t.d(o,"buildNodeParams",(function(){return V})),t.d(o,"toElasticsearchQuery",(function(){return K}));var i={};t.r(i),t.d(i,"buildNodeParams",(function(){return D})),t.d(i,"toElasticsearchQuery",(function(){return X}));var a={};t.r(a),t.d(a,"buildNodeParams",(function(){return Y})),t.d(a,"toElasticsearchQuery",(function(){return J}));var s={};t.r(s),t.d(s,"buildNodeParams",(function(){return ee})),t.d(s,"toElasticsearchQuery",(function(){return ne}));var c={};t.r(c),t.d(c,"buildNodeParams",(function(){return te})),t.d(c,"toElasticsearchQuery",(function(){return re}));var l={};t.r(l),t.d(l,"buildNodeParams",(function(){return ue})),t.d(l,"toElasticsearchQuery",(function(){return oe}));var f={};t.r(f),t.d(f,"buildNodeParams",(function(){return ie})),t.d(f,"toElasticsearchQuery",(function(){return ae}));var d={};t.r(d),t.d(d,"buildNode",(function(){return ce})),t.d(d,"buildNodeWithArgumentNodes",(function(){return le})),t.d(d,"toElasticsearchQuery",(function(){return fe}));var p,v,h=t(1),g=t.n(h),m=t(70),y=t.n(m),b=t(20),w=t.n(b),A=(t(169),function(e,n){if("boolean"!=typeof n&&"boolean"===e.type){if([1,"true"].includes(n))return!0;if([0,"false"].includes(n))return!1;throw new Error("".concat(n," is not a valid boolean value for boolean field ").concat(e.name))}return"number"!=typeof n&&"number"===e.type?Number(n):n}),x=function(e,n){var t=A(e,n);return{script:{source:E(e),lang:e.lang,params:{value:t}}}},E=function(e){return"painless"===e.lang?"boolean compare(Supplier s, def v) {return s.get() == v;}"+"compare(() -> { ".concat(e.script," }, params.value);"):"(".concat(e.script,") == value")};!function(e){e.CUSTOM="custom",e.PHRASES="phrases",e.PHRASE="phrase",e.EXISTS="exists",e.MATCH_ALL="match_all",e.QUERY_STRING="query_string",e.RANGE="range",e.RANGE_FROM_VALUE="range_from_value",e.SPATIAL_FILTER="spatial_filter"}(p||(p={})),function(e){e.APP_STATE="appState",e.GLOBAL_STATE="globalState"}(v||(v={}));var C={gt:">",gte:">=",lte:"<=",lt:"<"},T={gt:"boolean gt(Supplier s, def v) {return s.get() > v}",gte:"boolean gte(Supplier s, def v) {return s.get() >= v}",lte:"boolean lte(Supplier s, def v) {return s.get() <= v}",lt:"boolean lt(Supplier s, def v) {return s.get() < v}"},j={gt:"boolean gt(Supplier s, def v) {return s.get().toInstant().isAfter(Instant.parse(v))}",gte:"boolean gte(Supplier s, def v) {return !s.get().toInstant().isBefore(Instant.parse(v))}",lte:"boolean lte(Supplier s, def v) {return !s.get().toInstant().isAfter(Instant.parse(v))}",lt:"boolean lt(Supplier s, def v) {return s.get().toInstant().isBefore(Instant.parse(v))}"},S=function(e,n){var t=Object(b.mapValues)(Object(b.pickBy)(n,(function(e,n){return n in C})),(function(n){return"number"===e.type&&"string"==typeof n?parseFloat(n):n})),r=Object(b.map)(t,(function(n,t){return"("+e.script+")"+Object(b.get)(C,t)+t})).join(" && ");if("painless"===e.lang){var u="date"===e.type?j:T,o=Object(b.reduce)(t,(function(e,n,t){return e.concat(Object(b.get)(u,t))}),[]).join(" "),i=Object(b.map)(t,(function(n,t){return"".concat(t,"(() -> { ").concat(e.script," }, params.").concat(t,")")})).join(" && ");r="".concat(o).concat(i)}return{script:{source:r,params:t,lang:e.lang}}};var _=t(129),N=t.n(_),O=t(94),L=t.n(O);function Q(e){return{type:"literal",value:e}}function q(e){return e.value}var P="@kuery-wildcard@";function R(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function F(e){return e.replace(/[+-=&|><!(){}[\]^"~*?:\\/]/g,"\\$&")}function I(e){return e.includes(P)?{type:"wildcard",value:e}:Oe(e)}function k(e,n){var t=e.value.split(P).map(R).join("[\\s\\S]*");return new RegExp("^".concat(t,"$")).test(n)}function U(e){return e.value.split(P).join("*")}function M(e){return e.value.split(P).map(F).join("*")}function $(e){var n=e.value;return n.startsWith(P)&&n.replace(P,"").length>0}function B(e,n){if(!n)return[];if("literal"===e.type){var t=q(e),r=n.fields.find((function(e){return e.name===t}));return r?[r]:[]}return"wildcard"===e.type?n.fields.filter((function(n){return k(e,n.name)})):void 0}var W=t(34),G=t.n(W);function Z(e){var n=G.a.tz.guess();return"Browser"===e?n:e}function z(e){return function(e){var n,t=null==e?void 0:e.subType;return!(null==t||null===(n=t.nested)||void 0===n||!n.path)}(e)?e.subType:void 0}function H(e,n,t){var r=y()(y()({},e),{},{value:t?"".concat(t,".").concat(e.value):e.value});if(!n||"wildcard"===r.type&&!t)return r;var u=B(r,n).reduce((function(e,n){var r=z(n),u=null==r?void 0:r.nested.path;return t&&!u?[].concat(N()(e),["".concat(n.name,' is not a nested field but is in nested group "').concat(t,'" in the KQL expression.')]):u&&!t?[].concat(N()(e),["".concat(n.name," is a nested field, but is not in a nested group in the KQL expression.")]):u!==t?[].concat(N()(e),["Nested field ".concat(n.name," is being queried with the incorrect nested path. The correct path is ").concat(null==r?void 0:r.nested.path,".")]):e}),[]);if(u.length>0)throw new Error(u.join("\n"));return r}function V(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object(b.isUndefined)(e))throw new Error("fieldName is a required argument");if(Object(b.isUndefined)(n))throw new Error("value is a required argument");var r="string"==typeof e?Oe(e):Q(e),u="string"==typeof n?Oe(n):Q(n),o=Q(t);return{arguments:[r,u,o]}}function K(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=L()(e.arguments,3),o=u[0],i=u[1],a=u[2],s="wildcard"===i.type&&i.value===P,c="wildcard"===o.type&&o.value===P,l=s&&c;if(l)return{match_all:{}};var f=H(o,n,null!=r&&r.nested?r.nested.path:void 0),d=Object(b.isUndefined)(i)?i:Le(i),p=a.value?"phrase":"best_fields";if(null===f.value)return"wildcard"===i.type?{query_string:{query:M(i)}}:{multi_match:{type:p,query:d,lenient:!0}};var v=n?B(f,n):[];if(v&&0===v.length&&v.push({name:Le(f),scripted:!1,type:""}),s&&(null==v||!v.length||(null==v?void 0:v.length)===(null==n?void 0:n.fields.length)))return{match_all:{}};var h=v.reduce((function(e,n){var u=function(e){var t=z(n);return"wildcard"!==f.type||null==t||!t.nested||null!=r&&r.nested?e:{nested:{path:t.nested.path,query:e,score_mode:"none"}}};if(!n.scripted){if(s)return[].concat(N()(e),[u({exists:{field:n.name}})]);if("wildcard"===i.type)return[].concat(N()(e),[u({query_string:{fields:[n.name],query:M(i)}})]);if("date"===n.type){var o=t.dateFormatTZ?{time_zone:Z(t.dateFormatTZ)}:{};return[].concat(N()(e),[u({range:g()({},n.name,y()({gte:d,lte:d},o))})])}var a="phrase"===p?"match_phrase":"match";return[].concat(N()(e),[u(g()({},a,g()({},n.name,d)))])}if(!s)return[].concat(N()(e),[{script:y()({},x(n,d))}])}),[]);return{bool:{should:h||[],minimum_should_match:1}}}function D(e){return{arguments:e}}function X(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=t.filtersInMustClause,o=e.arguments||[],i=u?"must":"filter";return{bool:g()({},i,o.map((function(e){return Le(e,n,t,r)})))}}function Y(e){return{arguments:e}}function J(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=e.arguments||[];return{bool:{should:u.map((function(e){return Le(e,n,t,r)})),minimum_should_match:1}}}function ee(e){return{arguments:[e]}}function ne(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=L()(e.arguments,1),o=u[0];return{bool:{must_not:Le(o,n,t,r)}}}function te(e,n,t){return{arguments:[Oe(e),n,de.literal.buildNode(t)]}}function re(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=L()(e.arguments,3),o=u[0],i=u[1],a=u[2],s=H(o,n,null!=r&&r.nested?r.nested.path:void 0),c=n?B(s,n):[];c&&0===c.length&&c.push({name:Le(s),scripted:!1,type:""});var l=c.map((function(e){var n=function(n){var t=z(e);return"wildcard"!==s.type||null==t||!t.nested||r.nested?n:{nested:{path:t.nested.path,query:n,score_mode:"none"}}},u=g()({},i,Le(a));if(e.scripted)return{script:S(e,u)};if("date"===e.type){var o=t.dateFormatTZ?{time_zone:Z(t.dateFormatTZ)}:{};return n({range:g()({},e.name,y()(y()({},u),o))})}return n({range:g()({},e.name,u)})}));return{bool:{should:l,minimum_should_match:1}}}function ue(e){return{arguments:[Q(e)]}}function oe(e,n){var t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=L()(e.arguments,1),o=u[0],i=y()(y()({},o),{},{value:null!=r&&r.nested?"".concat(r.nested.path,".").concat(o.value):o.value}),a=q(i),s=null==n||null===(t=n.fields)||void 0===t?void 0:t.find((function(e){return e.name===a}));if(null!=s&&s.scripted)throw new Error("Exists query does not support scripted fields");return{exists:{field:a}}}function ie(e,n){return{arguments:["string"==typeof e?Oe(e):Q(e),n]}}function ae(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=L()(e.arguments,2),i=o[0],a=o[1],s=Le(i),c=null!=u&&null!==(t=u.nested)&&void 0!==t&&t.path?"".concat(u.nested.path,".").concat(s):s;return{nested:{path:c,query:Le(a,n,r,y()(y()({},u),{},{nested:{path:c}})),score_mode:"none"}}}var se={is:o,and:i,or:a,not:s,range:c,exists:l,nested:f};function ce(e){var n=se[e];if(w.a.isUndefined(n))throw new Error('Unknown function "'.concat(e,'"'));for(var t=arguments.length,r=new Array(t>1?t-1:0),u=1;u<t;u++)r[u-1]=arguments[u];return y()({type:"function",function:e},n.buildNodeParams.apply(n,r))}function le(e,n){if(w.a.isUndefined(se[e]))throw new Error('Unknown function "'.concat(e,'"'));return{type:"function",function:e,arguments:n}}function fe(e,n,t,r){return se[e.function].toElasticsearchQuery(e,n,t,r)}var de={function:d,literal:r,wildcard:u},pe=t(244),ve=t.n(pe),he=t(245),ge=t.n(he),me=t(246),ye=t.n(me),be=t(247),we=t.n(be),Ae=t(248),xe=t.n(Ae),Ee=t(249),Ce=t.n(Ee),Te=t(3),je=Te.i18n.translate("esQuery.kql.errors.endOfInputText",{defaultMessage:"end of input"}),Se={fieldName:Te.i18n.translate("esQuery.kql.errors.fieldNameText",{defaultMessage:"field name"}),value:Te.i18n.translate("esQuery.kql.errors.valueText",{defaultMessage:"value"}),literal:Te.i18n.translate("esQuery.kql.errors.literalText",{defaultMessage:"literal"}),whitespace:Te.i18n.translate("esQuery.kql.errors.whitespaceText",{defaultMessage:"whitespace"})},_e=(Error,t(170)),Ne=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_e.parse;if(void 0===e)throw new Error("expression must be a string, got undefined instead");return t(e,y()(y()({},n),{},{helpers:{nodeTypes:de}}))},Oe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ne(e,y()(y()({},n),{},{startRule:"Literal"}),_e.parse)},Le=function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!n||!n.type||!de[n.type])return e(de.function.buildNode("and",[]),t);var o=de[n.type];return o.toElasticsearchQuery(n,t,r,u)};var Qe=t(128),qe=t.n(Qe),Pe=t(229);const Re=(e,n=!1)=>{if(!e)return null;const t=qe.a.parse(e,{roundUp:n});return t&&t.isValid()?t.valueOf():null};function Fe(e){const n=e.filter((e=>void 0!==e.filterType&&"time"===e.filterType&&void 0!==e.from&&void 0!==e.to)).filter((e=>null!==Re(e.from)&&null!==Re(e.to,!0))),t=Object(b.minBy)(n,(e=>Re(e.from))),r=Object(b.maxBy)(n,(e=>Re(e.to,!0)));return null!=t&&t.from&&null!=r&&r.to?{from:t.from,to:r.to}:void 0}function Ie(e){const n=e.map((e=>({...e,type:e.filterType})));return Object(Pe.a)(n).map(((e,n)=>{const{group:t,...r}=e;return function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{query:e,meta:y()({index:n,alias:t},r)}}(r,n.toString(),"",{group:t})}))}function ke(e){return{timeRange:Fe(e),filters:Ie(e)}}},94:function(e,n,t){e.exports=t(13)(8)}}]);
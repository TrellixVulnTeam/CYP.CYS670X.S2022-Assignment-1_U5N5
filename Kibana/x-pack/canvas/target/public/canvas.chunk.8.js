/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.canvas_bundle_jsonpfunction=window.canvas_bundle_jsonpfunction||[]).push([[8],{101:function(e,r,t){var n;!function(a){var o=/^\s+/,i=/\s+$/,f=0,u=a.round,c=a.min,l=a.max,s=a.random;function h(e,r){if(r=r||{},(e=e||"")instanceof h)return e;if(!(this instanceof h))return new h(e,r);var t=function(e){var r={r:0,g:0,b:0},t=1,n=null,f=null,u=null,s=!1,h=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(i,"").toLowerCase();var r,t=!1;if(S[e])e=S[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(r=D.rgb.exec(e))return{r:r[1],g:r[2],b:r[3]};if(r=D.rgba.exec(e))return{r:r[1],g:r[2],b:r[3],a:r[4]};if(r=D.hsl.exec(e))return{h:r[1],s:r[2],l:r[3]};if(r=D.hsla.exec(e))return{h:r[1],s:r[2],l:r[3],a:r[4]};if(r=D.hsv.exec(e))return{h:r[1],s:r[2],v:r[3]};if(r=D.hsva.exec(e))return{h:r[1],s:r[2],v:r[3],a:r[4]};if(r=D.hex8.exec(e))return{r:I(r[1]),g:I(r[2]),b:I(r[3]),a:B(r[4]),format:t?"name":"hex8"};if(r=D.hex6.exec(e))return{r:I(r[1]),g:I(r[2]),b:I(r[3]),format:t?"name":"hex"};if(r=D.hex4.exec(e))return{r:I(r[1]+""+r[1]),g:I(r[2]+""+r[2]),b:I(r[3]+""+r[3]),a:B(r[4]+""+r[4]),format:t?"name":"hex8"};if(r=D.hex3.exec(e))return{r:I(r[1]+""+r[1]),g:I(r[2]+""+r[2]),b:I(r[3]+""+r[3]),format:t?"name":"hex"};return!1}(e));"object"==typeof e&&(V(e.r)&&V(e.g)&&V(e.b)?(b=e.r,d=e.g,p=e.b,r={r:255*E(b,255),g:255*E(d,255),b:255*E(p,255)},s=!0,h="%"===String(e.r).substr(-1)?"prgb":"rgb"):V(e.h)&&V(e.s)&&V(e.v)?(n=H(e.s),f=H(e.v),r=function(e,r,t){e=6*E(e,360),r=E(r,100),t=E(t,100);var n=a.floor(e),o=e-n,i=t*(1-r),f=t*(1-o*r),u=t*(1-(1-o)*r),c=n%6;return{r:255*[t,f,i,i,u,t][c],g:255*[u,t,t,f,i,i][c],b:255*[i,i,u,t,t,f][c]}}(e.h,n,f),s=!0,h="hsv"):V(e.h)&&V(e.s)&&V(e.l)&&(n=H(e.s),u=H(e.l),r=function(e,r,t){var n,a,o;function i(e,r,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+6*(r-e)*t:t<.5?r:t<2/3?e+(r-e)*(2/3-t)*6:e}if(e=E(e,360),r=E(r,100),t=E(t,100),0===r)n=a=o=t;else{var f=t<.5?t*(1+r):t+r-t*r,u=2*t-f;n=i(u,f,e+1/3),a=i(u,f,e),o=i(u,f,e-1/3)}return{r:255*n,g:255*a,b:255*o}}(e.h,n,u),s=!0,h="hsl"),e.hasOwnProperty("a")&&(t=e.a));var b,d,p;return t=R(t),{ok:s,format:e.format||h,r:c(255,l(r.r,0)),g:c(255,l(r.g,0)),b:c(255,l(r.b,0)),a:t}}(e);this._originalInput=e,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=u(100*this._a)/100,this._format=r.format||t.format,this._gradientType=r.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=t.ok,this._tc_id=f++}function b(e,r,t){e=E(e,255),r=E(r,255),t=E(t,255);var n,a,o=l(e,r,t),i=c(e,r,t),f=(o+i)/2;if(o==i)n=a=0;else{var u=o-i;switch(a=f>.5?u/(2-o-i):u/(o+i),o){case e:n=(r-t)/u+(r<t?6:0);break;case r:n=(t-e)/u+2;break;case t:n=(e-r)/u+4}n/=6}return{h:n,s:a,l:f}}function d(e,r,t){e=E(e,255),r=E(r,255),t=E(t,255);var n,a,o=l(e,r,t),i=c(e,r,t),f=o,u=o-i;if(a=0===o?0:u/o,o==i)n=0;else{switch(o){case e:n=(r-t)/u+(r<t?6:0);break;case r:n=(t-e)/u+2;break;case t:n=(e-r)/u+4}n/=6}return{h:n,s:a,v:f}}function p(e,r,t,n){var a=[q(u(e).toString(16)),q(u(r).toString(16)),q(u(t).toString(16))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function g(e,r,t,n){return[q(L(n)),q(u(e).toString(16)),q(u(r).toString(16)),q(u(t).toString(16))].join("")}function m(e,r){r=0===r?0:r||10;var t=h(e).toHsl();return t.s-=r/100,t.s=F(t.s),h(t)}function v(e,r){r=0===r?0:r||10;var t=h(e).toHsl();return t.s+=r/100,t.s=F(t.s),h(t)}function y(e){return h(e).desaturate(100)}function _(e,r){r=0===r?0:r||10;var t=h(e).toHsl();return t.l+=r/100,t.l=F(t.l),h(t)}function k(e,r){r=0===r?0:r||10;var t=h(e).toRgb();return t.r=l(0,c(255,t.r-u(-r/100*255))),t.g=l(0,c(255,t.g-u(-r/100*255))),t.b=l(0,c(255,t.b-u(-r/100*255))),h(t)}function w(e,r){r=0===r?0:r||10;var t=h(e).toHsl();return t.l-=r/100,t.l=F(t.l),h(t)}function x(e,r){var t=h(e).toHsl(),n=(t.h+r)%360;return t.h=n<0?360+n:n,h(t)}function j(e){var r=h(e).toHsl();return r.h=(r.h+180)%360,h(r)}function A(e){var r=h(e).toHsl(),t=r.h;return[h(e),h({h:(t+120)%360,s:r.s,l:r.l}),h({h:(t+240)%360,s:r.s,l:r.l})]}function O(e){var r=h(e).toHsl(),t=r.h;return[h(e),h({h:(t+90)%360,s:r.s,l:r.l}),h({h:(t+180)%360,s:r.s,l:r.l}),h({h:(t+270)%360,s:r.s,l:r.l})]}function N(e){var r=h(e).toHsl(),t=r.h;return[h(e),h({h:(t+72)%360,s:r.s,l:r.l}),h({h:(t+216)%360,s:r.s,l:r.l})]}function M(e,r,t){r=r||6,t=t||30;var n=h(e).toHsl(),a=360/t,o=[h(e)];for(n.h=(n.h-(a*r>>1)+720)%360;--r;)n.h=(n.h+a)%360,o.push(h(n));return o}function C(e,r){r=r||6;for(var t=h(e).toHsv(),n=t.h,a=t.s,o=t.v,i=[],f=1/r;r--;)i.push(h({h:n,s:a,v:o})),o=(o+f)%1;return i}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,r,t,n=this.toRgb();return e=n.r/255,r=n.g/255,t=n.b/255,.2126*(e<=.03928?e/12.92:a.pow((e+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:a.pow((r+.055)/1.055,2.4))+.0722*(t<=.03928?t/12.92:a.pow((t+.055)/1.055,2.4))},setAlpha:function(e){return this._a=R(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=d(this._r,this._g,this._b),r=u(360*e.h),t=u(100*e.s),n=u(100*e.v);return 1==this._a?"hsv("+r+", "+t+"%, "+n+"%)":"hsva("+r+", "+t+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=b(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=b(this._r,this._g,this._b),r=u(360*e.h),t=u(100*e.s),n=u(100*e.l);return 1==this._a?"hsl("+r+", "+t+"%, "+n+"%)":"hsla("+r+", "+t+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return p(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,r,t,n,a){var o=[q(u(e).toString(16)),q(u(r).toString(16)),q(u(t).toString(16)),q(L(n))];if(a&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*E(this._r,255))+"%",g:u(100*E(this._g,255))+"%",b:u(100*E(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*E(this._r,255))+"%, "+u(100*E(this._g,255))+"%, "+u(100*E(this._b,255))+"%)":"rgba("+u(100*E(this._r,255))+"%, "+u(100*E(this._g,255))+"%, "+u(100*E(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[p(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var r="#"+g(this._r,this._g,this._b,this._a),t=r,n=this._gradientType?"GradientType = 1, ":"";if(e){var a=h(e);t="#"+g(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+r+",endColorstr="+t+")"},toString:function(e){var r=!!e;e=e||this._format;var t=!1,n=this._a<1&&this._a>=0;return r||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(t=this.toRgbString()),"prgb"===e&&(t=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(t=this.toHexString()),"hex3"===e&&(t=this.toHexString(!0)),"hex4"===e&&(t=this.toHex8String(!0)),"hex8"===e&&(t=this.toHex8String()),"name"===e&&(t=this.toName()),"hsl"===e&&(t=this.toHslString()),"hsv"===e&&(t=this.toHsvString()),t||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(e,r){var t=e.apply(null,[this].concat([].slice.call(r)));return this._r=t._r,this._g=t._g,this._b=t._b,this.setAlpha(t._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(M,arguments)},complement:function(){return this._applyCombination(j,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(N,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(O,arguments)}},h.fromRatio=function(e,r){if("object"==typeof e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]="a"===n?e[n]:H(e[n]));e=t}return h(e,r)},h.equals=function(e,r){return!(!e||!r)&&h(e).toRgbString()==h(r).toRgbString()},h.random=function(){return h.fromRatio({r:s(),g:s(),b:s()})},h.mix=function(e,r,t){t=0===t?0:t||50;var n=h(e).toRgb(),a=h(r).toRgb(),o=t/100;return h({r:(a.r-n.r)*o+n.r,g:(a.g-n.g)*o+n.g,b:(a.b-n.b)*o+n.b,a:(a.a-n.a)*o+n.a})},h.readability=function(e,r){var t=h(e),n=h(r);return(a.max(t.getLuminance(),n.getLuminance())+.05)/(a.min(t.getLuminance(),n.getLuminance())+.05)},h.isReadable=function(e,r,t){var n,a,o=h.readability(e,r);switch(a=!1,(n=function(e){var r,t;r=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),t=(e.size||"small").toLowerCase(),"AA"!==r&&"AAA"!==r&&(r="AA");"small"!==t&&"large"!==t&&(t="small");return{level:r,size:t}}(t)).level+n.size){case"AAsmall":case"AAAlarge":a=o>=4.5;break;case"AAlarge":a=o>=3;break;case"AAAsmall":a=o>=7}return a},h.mostReadable=function(e,r,t){var n,a,o,i,f=null,u=0;a=(t=t||{}).includeFallbackColors,o=t.level,i=t.size;for(var c=0;c<r.length;c++)(n=h.readability(e,r[c]))>u&&(u=n,f=h(r[c]));return h.isReadable(e,f,{level:o,size:i})||!a?f:(t.includeFallbackColors=!1,h.mostReadable(e,["#fff","#000"],t))};var S=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=h.hexNames=function(e){var r={};for(var t in e)e.hasOwnProperty(t)&&(r[e[t]]=t);return r}(S);function R(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function E(e,r){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var t=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=c(r,l(0,parseFloat(e))),t&&(e=parseInt(e*r,10)/100),a.abs(e-r)<1e-6?1:e%r/parseFloat(r)}function F(e){return c(1,l(0,e))}function I(e){return parseInt(e,16)}function q(e){return 1==e.length?"0"+e:""+e}function H(e){return e<=1&&(e=100*e+"%"),e}function L(e){return a.round(255*parseFloat(e)).toString(16)}function B(e){return I(e)/255}var z,G,T,D=(G="[\\s|\\(]+("+(z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",T="[\\s|\\(]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",{CSS_UNIT:new RegExp(z),rgb:new RegExp("rgb"+G),rgba:new RegExp("rgba"+T),hsl:new RegExp("hsl"+G),hsla:new RegExp("hsla"+T),hsv:new RegExp("hsv"+G),hsva:new RegExp("hsva"+T),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(e){return!!D.CSS_UNIT.exec(e)}e.exports?e.exports=h:void 0===(n=function(){return h}.call(r,t,r,e))||(e.exports=n)}(Math)},115:function(e,r,t){"use strict";t.d(r,"a",(function(){return s}));var n=t(17),a=t.n(n),o=t(64),i=t(67),f=t.n(i),u=t(20),c=t(18);const l=e=>{const{children:r,...t}=e;return Object(c.jsx)(a.a.Fragment,null,r(t))};l.propTypes={children:f.a.func.isRequired,error:f.a.object,errorInfo:f.a.object,resetErrorState:f.a.func.isRequired};const s=Object(o.compose)(Object(o.withState)("error","setError",null),Object(o.withState)("errorInfo","setErrorInfo",null),Object(o.withHandlers)({resetErrorState:({setError:e,setErrorInfo:r})=>()=>{e(null),r(null)}}),Object(o.lifecycle)({componentDidCatch(e,r){this.props.setError(e),this.props.setErrorInfo(r)}}),Object(o.mapProps)((e=>Object(u.omit)(e,["setError","setErrorInfo"]))))(l)},153:function(e,r,t){"use strict";t.d(r,"b",(function(){return u})),t.d(r,"a",(function(){return f}));var n=t(58),a=t.n(n),o=(t(17),t(19)),i=t(18);let f;!function(e){e.error="error",e.warning="warning",e.info="info"}(f||(f={}));const u=({icon:e=f.info,...r})=>{const t={[f.error]:{type:"alert",color:"danger"},[f.warning]:{type:"alert",color:"warning"},[f.info]:{type:"iInCircle",color:"default"}};return Object(i.jsx)(o.EuiIconTip,a()({},r,{type:t[e].type,color:t[e].color}))}},350:function(e,r,t){(function(e){var t;
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var n,a,o,i,f,u,c,l,s,h,b,d,p,g,m,v,y,_,k,w,x,j,A,O,N,M,C,S,P,R,E,F,I,q,H,L,B,z,G,T,D,V,Y,$,U,X,K,Z,W,J,Q,ee,re,te,ne,ae,oe,ie,fe,ue,ce,le,se,he,be,de,pe,ge,me,ve,ye,_e,ke,we,xe,je,Ae,Oe,Ne,Me,Ce=[].slice;je=function(){var e,r,t,n,a;for(e={},n=0,r=(a="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;n<r;n++)t=a[n],e["[object "+t+"]"]=t.toLowerCase();return function(r){var t;return t=Object.prototype.toString.call(r),e[t]||"object"}}(),K=function(e,r,t){return null==r&&(r=0),null==t&&(t=1),e<r&&(e=r),e>t&&(e=t),e},Ae=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},x=function(e){var r,t;for(e._clipped=!1,e._unclipped=e.slice(0),r=t=0;t<3;r=++t)r<3?((e[r]<0||e[r]>255)&&(e._clipped=!0),e[r]<0&&(e[r]=0),e[r]>255&&(e[r]=255)):3===r&&(e[r]<0&&(e[r]=0),e[r]>1&&(e[r]=1));return e._clipped||delete e._unclipped,e},i=Math.PI,ye=Math.round,A=Math.cos,S=Math.floor,ne=Math.pow,Z=Math.log,ke=Math.sin,we=Math.sqrt,g=Math.atan2,Q=Math.max,p=Math.abs,c=2*i,f=i/3,a=i/180,u=180/i,(w=function(){return arguments[0]instanceof n?arguments[0]:function(e,r,t){t.prototype=e.prototype;var n=new t,a=e.apply(n,r);return Object(a)===a?a:n}(n,arguments,(function(){}))}).default=w,d=[],null!==e&&null!=e.exports&&(e.exports=w),void 0===(t=function(){return w}.apply(r,[]))||(e.exports=t),w.version="1.4.1",b={},s=[],h=!1,n=function(){function e(){var e,r,t,n,a,o,i,f,u;for(o=this,r=[],f=0,n=arguments.length;f<n;f++)null!=(e=arguments[f])&&r.push(e);if(r.length>1&&(i=r[r.length-1]),null!=b[i])o._rgb=x(b[i](Ae(r.slice(0,-1))));else{for(h||(s=s.sort((function(e,r){return r.p-e.p})),h=!0),u=0,a=s.length;u<a&&!(i=(t=s[u]).test.apply(t,r));u++);i&&(o._rgb=x(b[i].apply(b,r)))}null==o._rgb&&console.warn("unknown format: "+r),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e}(),w._input=b,
/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
w.brewer=_={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,r;for(e in r=[],_)r.push(_[e.toLowerCase()]=_[e])}(),w.colors=Oe={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},V=function(){var e,r,t,n,a,i,f;return n=(r=Ae(arguments))[0],e=r[1],t=r[2],i=(n+16)/116,a=isNaN(e)?i:i+e/500,f=isNaN(t)?i:i-t/200,i=o.Yn*Y(i),a=o.Xn*Y(a),f=o.Zn*Y(f),[Me(3.2404542*a-1.5371385*i-.4985314*f),Me(-.969266*a+1.8760108*i+.041556*f),t=Me(.0556434*a-.2040259*i+1.0572252*f),r.length>3?r[3]:1]},Me=function(e){return 255*(e<=.00304?12.92*e:1.055*ne(e,1/2.4)-.055)},Y=function(e){return e>o.t1?e*e*e:o.t2*(e-o.t0)},o={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},se=function(){var e,r,t,n,a,o,i;return t=(n=Ae(arguments))[0],r=n[1],e=n[2],o=(a=ge(t,r,e))[0],[116*(i=a[1])-16,500*(o-i),200*(i-a[2])]},me=function(e){return(e/=255)<=.04045?e/12.92:ne((e+.055)/1.055,2.4)},Ne=function(e){return e>o.t3?ne(e,1/3):e/o.t2+o.t0},ge=function(){var e,r,t,n;return t=(n=Ae(arguments))[0],r=n[1],e=n[2],t=me(t),r=me(r),e=me(e),[Ne((.4124564*t+.3575761*r+.1804375*e)/o.Xn),Ne((.2126729*t+.7151522*r+.072175*e)/o.Yn),Ne((.0193339*t+.119192*r+.9503041*e)/o.Zn)]},w.lab=function(){return function(e,r,t){t.prototype=e.prototype;var n=new t,a=e.apply(n,r);return Object(a)===a?a:n}(n,Ce.call(arguments).concat(["lab"]),(function(){}))},b.lab=V,n.prototype.lab=function(){return se(this._rgb)},m=function(e){var r,t,n,a,o,i,f,u,c,l,s;return 2===(e=function(){var r,t,n;for(n=[],t=0,r=e.length;t<r;t++)a=e[t],n.push(w(a));return n}()).length?(c=function(){var r,t,n;for(n=[],t=0,r=e.length;t<r;t++)a=e[t],n.push(a.lab());return n}(),o=c[0],i=c[1],r=function(e){var r,t;return t=function(){var t,n;for(n=[],r=t=0;t<=2;r=++t)n.push(o[r]+e*(i[r]-o[r]));return n}(),w.lab.apply(w,t)}):3===e.length?(l=function(){var r,t,n;for(n=[],t=0,r=e.length;t<r;t++)a=e[t],n.push(a.lab());return n}(),o=l[0],i=l[1],f=l[2],r=function(e){var r,t;return t=function(){var t,n;for(n=[],r=t=0;t<=2;r=++t)n.push((1-e)*(1-e)*o[r]+2*(1-e)*e*i[r]+e*e*f[r]);return n}(),w.lab.apply(w,t)}):4===e.length?(s=function(){var r,t,n;for(n=[],t=0,r=e.length;t<r;t++)a=e[t],n.push(a.lab());return n}(),o=s[0],i=s[1],f=s[2],u=s[3],r=function(e){var r,t;return t=function(){var t,n;for(n=[],r=t=0;t<=2;r=++t)n.push((1-e)*(1-e)*(1-e)*o[r]+3*(1-e)*(1-e)*e*i[r]+3*(1-e)*e*e*f[r]+e*e*e*u[r]);return n}(),w.lab.apply(w,t)}):5===e.length&&(t=m(e.slice(0,3)),n=m(e.slice(2,5)),r=function(e){return e<.5?t(2*e):n(2*(e-.5))}),r},w.bezier=function(e){var r;return(r=m(e)).scale=function(){return w.scale(r)},r},w.cubehelix=function(e,r,t,n,a){var o,i,f;return null==e&&(e=300),null==r&&(r=-1.5),null==t&&(t=1),null==n&&(n=1),null==a&&(a=[0,1]),o=0,"array"===je(a)?i=a[1]-a[0]:(i=0,a=[a,a]),(f=function(f){var u,l,s,h,b;return u=c*((e+120)/360+r*f),h=ne(a[0]+i*f,n),l=(0!==o?t[0]+f*o:t)*h*(1-h)/2,s=A(u),b=ke(u),w(x([255*(h+l*(-.14861*s+1.78277*b)),255*(h+l*(-.29227*s-.90649*b)),255*(h+l*(1.97294*s)),1]))}).start=function(r){return null==r?e:(e=r,f)},f.rotations=function(e){return null==e?r:(r=e,f)},f.gamma=function(e){return null==e?n:(n=e,f)},f.hue=function(e){return null==e?t:("array"===je(t=e)?0===(o=t[1]-t[0])&&(t=t[1]):o=0,f)},f.lightness=function(e){return null==e?a:("array"===je(e)?(a=e,i=e[1]-e[0]):(a=[e,e],i=0),f)},f.scale=function(){return w.scale(f)},f.hue(t),f},w.random=function(){var e,r;for("0123456789abcdef",e="#",r=0;r<6;++r)e+="0123456789abcdef".charAt(S(16*Math.random()));return new n(e)},d=[],H=function(e,r,t,n){var a,o,i,f;for(null==t&&(t=.5),null==n&&(n="rgb"),"object"!==je(e)&&(e=w(e)),"object"!==je(r)&&(r=w(r)),i=0,o=d.length;i<o;i++)if(n===(a=d[i])[0]){f=a[1](e,r,t,n);break}if(null==f)throw"color mode "+n+" is not supported";return f.alpha(e.alpha()+t*(r.alpha()-e.alpha()))},w.interpolate=H,n.prototype.interpolate=function(e,r,t){return H(this,e,r,t)},w.mix=H,n.prototype.mix=n.prototype.interpolate,b.rgb=function(){var e,r,t,n;for(e in t=[],r=Ae(arguments))n=r[e],t.push(n);return t},w.rgb=function(){return function(e,r,t){t.prototype=e.prototype;var n=new t,a=e.apply(n,r);return Object(a)===a?a:n}(n,Ce.call(arguments).concat(["rgb"]),(function(){}))},n.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},n.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},s.push({p:3,test:function(e){var r;return r=Ae(arguments),"array"===je(r)&&3===r.length||4===r.length&&"number"===je(r[3])&&r[3]>=0&&r[3]<=1?"rgb":void 0}}),b.lrgb=b.rgb,z=function(e,r,t,a){var o,i;return o=e._rgb,i=r._rgb,new n(we(ne(o[0],2)*(1-t)+ne(i[0],2)*t),we(ne(o[1],2)*(1-t)+ne(i[1],2)*t),we(ne(o[2],2)*(1-t)+ne(i[2],2)*t),a)},l=function(e){var r,t,a,o,i;for(r=1/e.length,i=[0,0,0,0],a=0,t=e.length;a<t;a++)o=e[a]._rgb,i[0]+=ne(o[0],2)*r,i[1]+=ne(o[1],2)*r,i[2]+=ne(o[2],2)*r,i[3]+=o[3]*r;return i[0]=we(i[0]),i[1]=we(i[1]),i[2]=we(i[2]),i[3]>1&&(i[3]=1),new n(x(i))},d.push(["lrgb",z]),w.average=function(e,r){var t,n,a,o,f,u,c,s,h,b,d,p,m;if(null==r&&(r="rgb"),h=e.length,c=(e=e.map((function(e){return w(e)}))).splice(0,1)[0],"lrgb"===r)return l(e);for(s in o=[],f=0,u=0,p=c.get(r))p[s]=p[s]||0,o.push(isNaN(p[s])?0:1),"h"!==r.charAt(s)||isNaN(p[s])||(t=p[s]/180*i,f+=A(t),u+=ke(t));for(n=c.alpha(),d=0,b=e.length;d<b;d++)for(s in m=(a=e[d]).get(r),n+=a.alpha(),p)isNaN(m[s])||(o[s]+=1,"h"===r.charAt(s)?(t=m[s]/180*i,f+=A(t),u+=ke(t)):p[s]+=m[s]);for(s in p)if("h"===r.charAt(s)){for(t=g(u/o[s],f/o[s])/i*180;t<0;)t+=360;for(;t>=360;)t-=360;p[s]=t}else p[s]=p[s]/o[s];return w(p,r).alpha(n/h)},R=function(e){var r,t;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(t=parseInt(e,16))>>16,t>>8&255,255&t,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(t=parseInt(e,16))>>24&255,t>>16&255,t>>8&255,ye((255&t)/255*100)/100];if(null!=b.css&&(r=b.css(e)))return r;throw"unknown color: "+e},fe=function(e,r){var t,n,a,o,i,f;return null==r&&(r="auto"),i=e[0],a=e[1],n=e[2],t=e[3],"auto"===r&&(r=t<1?"rgba":"rgb"),i=Math.round(i),a=Math.round(a),n=Math.round(n),f=(f="000000"+(i<<16|a<<8|n).toString(16)).substr(f.length-6),o=(o="0"+ye(255*t).toString(16)).substr(o.length-2),"#"+function(){switch(r.toLowerCase()){case"rgba":return f+o;case"argb":return o+f;default:return f}}()},b.hex=function(e){return R(e)},w.hex=function(){return function(e,r,t){t.prototype=e.prototype;var n=new t,a=e.apply(n,r);return Object(a)===a?a:n}(n,Ce.call(arguments).concat(["hex"]),(function(){}))},n.prototype.hex=function(e){return null==e&&(e="auto"),fe(this._rgb,e)},s.push({p:4,test:function(e){if(1===arguments.length&&"string"===je(e))return"hex"}}),I=function(){var e,r,t,n,a,o,i,f,u,c,l,s,h,b;if(a=(e=Ae(arguments))[0],l=e[1],i=e[2],0===l)u=n=r=255*i;else{for(t=[0,0,0],s=2*i-(h=i<.5?i*(1+l):i+l-i*l),(b=[0,0,0])[0]=(a/=360)+1/3,b[1]=a,b[2]=a-1/3,o=f=0;f<=2;o=++f)b[o]<0&&(b[o]+=1),b[o]>1&&(b[o]-=1),6*b[o]<1?t[o]=s+6*(h-s)*b[o]:2*b[o]<1?t[o]=h:3*b[o]<2?t[o]=s+(h-s)*(2/3-b[o])*6:t[o]=s;u=(c=[ye(255*t[0]),ye(255*t[1]),ye(255*t[2])])[0],n=c[1],r=c[2]}return e.length>3?[u,n,r,e[3]]:[u,n,r]},ce=function(e,r,t){var n,a,o,i,f;return void 0!==e&&e.length>=3&&(e=(i=e)[0],r=i[1],t=i[2]),e/=255,r/=255,t/=255,o=Math.min(e,r,t),a=((Q=Math.max(e,r,t))+o)/2,Q===o?(f=0,n=Number.NaN):f=a<.5?(Q-o)/(Q+o):(Q-o)/(2-Q-o),e===Q?n=(r-t)/(Q-o):r===Q?n=2+(t-e)/(Q-o):t===Q&&(n=4+(e-r)/(Q-o)),(n*=60)<0&&(n+=360),[n,f,a]},w.hsl=function(){return function(e,r,t){t.prototype=e.prototype;var n=new t,a=e.apply(n,r);return Object(a)===a?a:n}(n,Ce.call(arguments).concat(["hsl"]),(function(){}))},b.hsl=I,n.prototype.hsl=function(){return ce(this._rgb)},q=function(){var e,r,t,n,a,o,i,f,u,c,l,s,h,b,d,p,g,m;if(a=(e=Ae(arguments))[0],p=e[1],m=e[2],m*=255,0===p)u=n=r=m;else switch(360===a&&(a=0),a>360&&(a-=360),a<0&&(a+=360),i=m*(1-p),f=m*(1-p*(t=(a/=60)-(o=S(a)))),g=m*(1-p*(1-t)),o){case 0:u=(c=[m,g,i])[0],n=c[1],r=c[2];break;case 1:u=(l=[f,m,i])[0],n=l[1],r=l[2];break;case 2:u=(s=[i,m,g])[0],n=s[1],r=s[2];break;case 3:u=(h=[i,f,m])[0],n=h[1],r=h[2];break;case 4:u=(b=[g,i,m])[0],n=b[1],r=b[2];break;case 5:u=(d=[m,i,f])[0],n=d[1],r=d[2]}return[u,n,r,e.length>3?e[3]:1]},le=function(){var e,r,t,n,a,o,i,f,u;return o=(i=Ae(arguments))[0],t=i[1],e=i[2],a=Math.min(o,t,e),r=(Q=Math.max(o,t,e))-a,u=Q/255,0===Q?(n=Number.NaN,f=0):(f=r/Q,o===Q&&(n=(t-e)/r),t===Q&&(n=2+(e-o)/r),e===Q&&(n=4+(o-t)/r),(n*=60)<0&&(n+=360)),[n,f,u]},w.hsv=function(){return function(e,r,t){t.prototype=e.prototype;var n=new t,a=e.apply(n,r);return Object(a)===a?a:n}(n,Ce.call(arguments).concat(["hsv"]),(function(){}))},b.hsv=q,n.prototype.hsv=function(){return le(this._rgb)},re=function(e){return"number"===je(e)&&e>=0&&e<=16777215?[e>>16,e>>8&255,255&e,1]:(console.warn("unknown num color: "+e),[0,0,0,1])},de=function(){var e;return((e=Ae(arguments))[0]<<16)+(e[1]<<8)+e[2]},w.num=function(e){return new n(e,"num")},n.prototype.num=function(e){return null==e&&(e="rgb"),de(this._rgb,e)},b.num=re,s.push({p:1,test:function(e){if(1===arguments.length&&"number"===je(e)&&e>=0&&e<=16777215)return"num"}}),P=function(){var e,r,t,n,a,o,i,f,u,c,l,s,h,b,d,p,g,m,v,y;if(f=(t=Ae(arguments))[0],a=t[1],r=t[2],i=i/100*255,e=255*(a/=100),0===a)s=i=n=r;else switch(360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360),l=(c=r*(1-a))+e*(1-(o=(f/=60)-(u=S(f)))),v=c+e*o,y=c+e,u){case 0:s=(h=[y,v,c])[0],i=h[1],n=h[2];break;case 1:s=(b=[l,y,c])[0],i=b[1],n=b[2];break;case 2:s=(d=[c,y,v])[0],i=d[1],n=d[2];break;case 3:s=(p=[c,l,y])[0],i=p[1],n=p[2];break;case 4:s=(g=[v,c,y])[0],i=g[1],n=g[2];break;case 5:s=(m=[y,c,l])[0],i=m[1],n=m[2]}return[s,i,n,t.length>3?t[3]:1]},ie=function(){var e,r,t,n,a,o,i,f,u;return f=(u=Ae(arguments))[0],a=u[1],r=u[2],i=Math.min(f,a,r),t=100*(n=(Q=Math.max(f,a,r))-i)/255,e=i/(255-n)*100,0===n?o=Number.NaN:(f===Q&&(o=(a-r)/n),a===Q&&(o=2+(r-f)/n),r===Q&&(o=4+(f-a)/n),(o*=60)<0&&(o+=360)),[o,t,e]},w.hcg=function(){return function(e,r,t){t.prototype=e.prototype;var n=new t,a=e.apply(n,r);return Object(a)===a?a:n}(n,Ce.call(arguments).concat(["hcg"]),(function(){}))},b.hcg=P,n.prototype.hcg=function(){return ie(this._rgb)},O=function(e){var r,t,n,a,o,i,f,u;if(e=e.toLowerCase(),null!=w.colors&&w.colors[e])return R(w.colors[e]);if(o=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(f=o.slice(1,4),a=i=0;i<=2;a=++i)f[a]=+f[a];f[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(f=o.slice(1,5),a=u=0;u<=3;a=++u)f[a]=+f[a];else if(o=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(f=o.slice(1,4),a=r=0;r<=2;a=++r)f[a]=ye(2.55*f[a]);f[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(f=o.slice(1,5),a=t=0;t<=2;a=++t)f[a]=ye(2.55*f[a]);f[3]=+f[3]}else(o=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((n=o.slice(1,4))[1]*=.01,n[2]*=.01,(f=I(n))[3]=1):(o=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((n=o.slice(1,4))[1]*=.01,n[2]*=.01,(f=I(n))[3]=+o[4]);return f},oe=function(e){var r;return"rgb"===(r=e[3]<1?"rgba":"rgb")?r+"("+e.slice(0,3).map(ye).join(",")+")":"rgba"===r?r+"("+e.slice(0,3).map(ye).join(",")+","+e[3]+")":void 0},ve=function(e){return ye(100*e)/100},F=function(e,r){var t;return t=r<1?"hsla":"hsl",e[0]=ve(e[0]||0),e[1]=ve(100*e[1])+"%",e[2]=ve(100*e[2])+"%","hsla"===t&&(e[3]=r),t+"("+e.join(",")+")"},b.css=function(e){return O(e)},w.css=function(){return function(e,r,t){t.prototype=e.prototype;var n=new t,a=e.apply(n,r);return Object(a)===a?a:n}(n,Ce.call(arguments).concat(["css"]),(function(){}))},n.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?oe(this._rgb):"hsl"===e.slice(0,3)?F(this.hsl(),this.alpha()):void 0},b.named=function(e){return R(Oe[e])},s.push({p:5,test:function(e){if(1===arguments.length&&null!=Oe[e])return"named"}}),n.prototype.name=function(e){var r,t;for(t in arguments.length&&(Oe[e]&&(this._rgb=R(Oe[e])),this._rgb[3]=1),r=this.hex("rgb"),Oe)if(r===Oe[t])return t;return r},$=function(){var e,r,t,n;return t=(n=Ae(arguments))[0],e=n[1],r=n[2],[t,A(r*=a)*e,ke(r)*e]},U=function(){var e,r,t,n,a,o,i,f,u;return i=(t=Ae(arguments))[0],a=t[1],o=t[2],e=(f=$(i,a,o))[0],r=f[1],n=f[2],[(u=V(e,r,n))[0],u[1],n=u[2],t.length>3?t[3]:1]},D=function(){var e,r,t,n,a,o;return a=(o=Ae(arguments))[0],e=o[1],r=o[2],t=we(e*e+r*r),n=(g(r,e)*u+360)%360,0===ye(1e4*t)&&(n=Number.NaN),[a,t,n]},he=function(){var e,r,t,n,a,o,i;return a=(o=Ae(arguments))[0],t=o[1],r=o[2],n=(i=se(a,t,r))[0],e=i[1],r=i[2],D(n,e,r)},w.lch=function(){var e;return e=Ae(arguments),new n(e,"lch")},w.hcl=function(){var e;return e=Ae(arguments),new n(e,"hcl")},b.lch=U,b.hcl=function(){var e,r,t,n;return r=(n=Ae(arguments))[0],e=n[1],t=n[2],U([t,e,r])},n.prototype.lch=function(){return he(this._rgb)},n.prototype.hcl=function(){return he(this._rgb).reverse()},ae=function(e){var r,t,n,a,o,i;return null==e&&(e="rgb"),o=(i=Ae(arguments))[0],n=i[1],r=i[2],n/=255,r/=255,[(1-(o/=255)-(a=1-Math.max(o,Math.max(n,r))))*(t=a<1?1/(1-a):0),(1-n-a)*t,(1-r-a)*t,a]},j=function(){var e,r,t,n,a,o;return t=(r=Ae(arguments))[0],a=r[1],o=r[2],n=r[3],e=r.length>4?r[4]:1,1===n?[0,0,0,e]:[t>=1?0:255*(1-t)*(1-n),a>=1?0:255*(1-a)*(1-n),o>=1?0:255*(1-o)*(1-n),e]},b.cmyk=function(){return j(Ae(arguments))},w.cmyk=function(){return function(e,r,t){t.prototype=e.prototype;var n=new t,a=e.apply(n,r);return Object(a)===a?a:n}(n,Ce.call(arguments).concat(["cmyk"]),(function(){}))},n.prototype.cmyk=function(){return ae(this._rgb)},b.gl=function(){var e,r,t,n,a;for(n=function(){var e,t;for(r in t=[],e=Ae(arguments))a=e[r],t.push(a);return t}.apply(this,arguments),e=t=0;t<=2;e=++t)n[e]*=255;return n},w.gl=function(){return function(e,r,t){t.prototype=e.prototype;var n=new t,a=e.apply(n,r);return Object(a)===a?a:n}(n,Ce.call(arguments).concat(["gl"]),(function(){}))},n.prototype.gl=function(){var e;return[(e=this._rgb)[0]/255,e[1]/255,e[2]/255,e[3]]},be=function(e,r,t){var n;return e=(n=Ae(arguments))[0],r=n[1],t=n[2],.2126*(e=W(e))+.7152*(r=W(r))+.0722*(t=W(t))},W=function(e){return(e/=255)<=.03928?e/12.92:ne((e+.055)/1.055,2.4)},T=function(e,r,t,a){var o,i;return o=e._rgb,i=r._rgb,new n(o[0]+t*(i[0]-o[0]),o[1]+t*(i[1]-o[1]),o[2]+t*(i[2]-o[2]),a)},d.push(["rgb",T]),n.prototype.luminance=function(e,r){var t,n,a,o,i;return null==r&&(r="rgb"),arguments.length?(o=this._rgb,0===e?o=[0,0,0,this._rgb[3]]:1===e?o=[255,255,255,this[3]]:(t=be(this._rgb),n=1e-7,a=20,i=function(t,o){var f,u;return f=(u=t.interpolate(o,.5,r)).luminance(),Math.abs(e-f)<n||!a--?u:f>e?i(t,u):i(u,o)},o=t>e?i(w("black"),this).rgba():i(this,w("white")).rgba()),w(o).alpha(this.alpha())):be(this._rgb)},xe=function(e){var r,t,n,a;return(a=e/100)<66?(n=255,t=-155.25485562709179-.44596950469579133*(t=a-2)+104.49216199393888*Z(t),r=a<20?0:.8274096064007395*(r=a-10)-254.76935184120902+115.67994401066147*Z(r)):(n=351.97690566805693+.114206453784165*(n=a-55)-40.25366309332127*Z(n),t=325.4494125711974+.07943456536662342*(t=a-50)-28.0852963507957*Z(t),r=255),[n,t,r]},pe=function(){var e,r,t,n,a,o,i,f;for(a=(o=Ae(arguments))[0],o[1],e=o[2],n=1e3,t=4e4,r=.4;t-n>r;)(i=xe(f=.5*(t+n)))[2]/i[0]>=e/a?t=f:n=f;return ye(f)},w.temperature=w.kelvin=function(){return function(e,r,t){t.prototype=e.prototype;var n=new t,a=e.apply(n,r);return Object(a)===a?a:n}(n,Ce.call(arguments).concat(["temperature"]),(function(){}))},b.temperature=b.kelvin=b.K=xe,n.prototype.temperature=function(){return pe(this._rgb)},n.prototype.kelvin=n.prototype.temperature,w.contrast=function(e,r){var t,a,o,i;return"string"!==(o=je(e))&&"number"!==o||(e=new n(e)),"string"!==(i=je(r))&&"number"!==i||(r=new n(r)),(t=e.luminance())>(a=r.luminance())?(t+.05)/(a+.05):(a+.05)/(t+.05)},w.distance=function(e,r,t){var a,o,i,f,u,c,l;for(o in null==t&&(t="lab"),"string"!==(u=je(e))&&"number"!==u||(e=new n(e)),"string"!==(c=je(r))&&"number"!==c||(r=new n(r)),i=e.get(t),f=r.get(t),l=0,i)l+=(a=(i[o]||0)-(f[o]||0))*a;return Math.sqrt(l)},w.deltaE=function(e,r,t,a){var o,f,u,c,l,s,h,b,d,m,v,y,_,k,w,x,j,O,N,M,C,S,P,R;for(null==t&&(t=1),null==a&&(a=1),"string"!==(w=je(e))&&"number"!==w||(e=new n(e)),"string"!==(x=je(r))&&"number"!==x||(r=new n(r)),o=(j=e.lab())[0],u=j[1],l=j[2],f=(O=r.lab())[0],c=O[1],s=O[2],h=we(u*u+l*l),b=we(c*c+s*s),M=o<16?.511:.040975*o/(1+.01765*o),N=.0638*h/(1+.0131*h)+.638,k=h<1e-6?0:180*g(l,u)/i;k<0;)k+=360;for(;k>=360;)k-=360;return C=k>=164&&k<=345?.56+p(.2*A(i*(k+168)/180)):.36+p(.4*A(i*(k+35)/180)),_=we((d=h*h*h*h)/(d+1900)),we((S=(o-f)/(t*M))*S+(P=(y=h-b)/(a*N))*P+((m=u-c)*m+(v=l-s)*v-y*y)/((R=N*(_*C+1-_))*R))},n.prototype.get=function(e){var r,t,n,a,o;return this,n=(a=e.split("."))[0],r=a[1],o=this[n](),r?(t=n.indexOf(r))>-1?o[t]:console.warn("unknown channel "+r+" in mode "+n):o},n.prototype.set=function(e,r){var t,n,a,o,i;if(this,a=(o=e.split("."))[0],t=o[1])if(i=this[a](),(n=a.indexOf(t))>-1)if("string"===je(r))switch(r.charAt(0)){case"+":case"-":i[n]+=+r;break;case"*":i[n]*=+r.substr(1);break;case"/":i[n]/=+r.substr(1);break;default:i[n]=+r}else i[n]=r;else console.warn("unknown channel "+t+" in mode "+a);else i=r;return w(i,a).alpha(this.alpha())},n.prototype.clipped=function(){return this._rgb._clipped||!1},n.prototype.alpha=function(e){return arguments.length?w.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},n.prototype.darken=function(e){var r;return null==e&&(e=1),this,(r=this.lab())[0]-=o.Kn*e,w.lab(r).alpha(this.alpha())},n.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},n.prototype.darker=n.prototype.darken,n.prototype.brighter=n.prototype.brighten,n.prototype.saturate=function(e){var r;return null==e&&(e=1),this,(r=this.lch())[1]+=e*o.Kn,r[1]<0&&(r[1]=0),w.lch(r).alpha(this.alpha())},n.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},n.prototype.premultiply=function(){var e,r;return r=this.rgb(),e=this.alpha(),w(r[0]*e,r[1]*e,r[2]*e,e)},ee=function(e,r){return e*r/255},N=function(e,r){return e>r?r:e},X=function(e,r){return e>r?e:r},_e=function(e,r){return 255*(1-(1-e/255)*(1-r/255))},te=function(e,r){return r<128?2*e*r/255:255*(1-2*(1-e/255)*(1-r/255))},k=function(e,r){return 255*(1-(1-r/255)/(e/255))},M=function(e,r){return 255===e||(e=r/255*255/(1-e/255))>255?255:e},(v=function(e,r,t){if(!v[t])throw"unknown blend mode "+t;return v[t](e,r)}).normal=(y=function(e){return function(r,t){var n,a;return n=w(t).rgb(),a=w(r).rgb(),w(e(n,a),"rgb")}})((C=function(e){return function(r,t){var n,a,o;for(o=[],n=a=0;a<=3;n=++a)o[n]=e(r[n],t[n]);return o}})((function(e,r){return e}))),v.multiply=y(C(ee)),v.screen=y(C(_e)),v.overlay=y(C(te)),v.darken=y(C(N)),v.lighten=y(C(X)),v.dodge=y(C(M)),v.burn=y(C(k)),w.blend=v,w.analyze=function(e){var r,t,n,a;for(n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},t=0,r=e.length;t<r;t++)null==(a=e[t])||isNaN(a)||(n.values.push(a),n.sum+=a,a<n.min&&(n.min=a),a>n.max&&(n.max=a),n.count+=1);return n.domain=[n.min,n.max],n.limits=function(e,r){return w.limits(n,e,r)},n},w.scale=function(e,r){var t,n,a,o,i,f,u,c,l,s,h,b,d,p,g,m,v,y,_,k,x;return l="rgb",s=w("#ccc"),p=0,!1,i=[0,1],d=[],b=[0,0],t=!1,a=[],h=!1,c=0,u=1,o=!1,n={},g=!0,f=1,k=function(e){var r,t,n,o,i,f;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===je(e)&&null!=w.brewer&&(e=w.brewer[e]||w.brewer[e.toLowerCase()]||e),"array"===je(e)){for(1===e.length&&(e=[e[0],e[0]]),r=n=0,o=(e=e.slice(0)).length-1;0<=o?n<=o:n>=o;r=0<=o?++n:--n)t=e[r],"string"===je(t)&&(e[r]=w(t));for(d.length=0,r=f=0,i=e.length-1;0<=i?f<=i:f>=i;r=0<=i?++f:--f)d.push(r/(e.length-1))}return _(),a=e},v=function(e){var r,n;if(null!=t){for(n=t.length-1,r=0;r<n&&e>=t[r];)r++;return r-1}return 0},x=function(e){return e},function(e){var r,n,a,o,i;return i=e,t.length>2&&(o=t.length-1,r=v(e),a=t[0]+(t[1]-t[0])*(0+.5*p),n=t[o-1]+(t[o]-t[o-1])*(1-.5*p),i=c+(t[r]+.5*(t[r+1]-t[r])-a)/(n-a)*(u-c)),i},y=function(e,r){var o,i,h,p,m,y,_;if(null==r&&(r=!1),isNaN(e)||null===e)return s;if(_=r?e:t&&t.length>2?v(e)/(t.length-2):u!==c?(e-c)/(u-c):1,r||(_=x(_)),1!==f&&(_=ne(_,f)),_=b[0]+_*(1-b[0]-b[1]),_=Math.min(1,Math.max(0,_)),h=Math.floor(1e4*_),g&&n[h])o=n[h];else{if("array"===je(a))for(i=p=0,y=d.length-1;0<=y?p<=y:p>=y;i=0<=y?++p:--p){if(_<=(m=d[i])){o=a[i];break}if(_>=m&&i===d.length-1){o=a[i];break}if(_>m&&_<d[i+1]){_=(_-m)/(d[i+1]-m),o=w.interpolate(a[i],a[i+1],_,l);break}}else"function"===je(a)&&(o=a(_));g&&(n[h]=o)}return o},_=function(){return n={}},k(e),(m=function(e){var r;return r=w(y(e)),h&&r[h]?r[h]():r}).classes=function(e){var r;return null!=e?("array"===je(e)?(t=e,i=[e[0],e[e.length-1]]):(r=w.analyze(i),t=0===e?[r.min,r.max]:w.limits(r,"e",e)),m):t},m.domain=function(e){var r,t,n,o,f,l,s;if(!arguments.length)return i;if(c=e[0],u=e[e.length-1],d=[],n=a.length,e.length===n&&c!==u)for(f=0,o=e.length;f<o;f++)t=e[f],d.push((t-c)/(u-c));else for(r=s=0,l=n-1;0<=l?s<=l:s>=l;r=0<=l?++s:--s)d.push(r/(n-1));return i=[c,u],m},m.mode=function(e){return arguments.length?(l=e,_(),m):l},m.range=function(e,r){return k(e),m},m.out=function(e){return h=e,m},m.spread=function(e){return arguments.length?(p=e,m):p},m.correctLightness=function(e){return null==e&&(e=!0),o=e,_(),x=o?function(e){var r,t,n,a,o,i,f,u,c;for(r=y(0,!0).lab()[0],t=y(1,!0).lab()[0],f=r>t,n=y(e,!0).lab()[0],a=n-(o=r+(t-r)*e),u=0,c=1,i=20;Math.abs(a)>.01&&i-- >0;)f&&(a*=-1),a<0?(u=e,e+=.5*(c-e)):(c=e,e+=.5*(u-e)),n=y(e,!0).lab()[0],a=n-o;return e}:function(e){return e},m},m.padding=function(e){return null!=e?("number"===je(e)&&(e=[e,e]),b=e,m):b},m.colors=function(r,n){var o,f,u,c,l,s,h,b;if(arguments.length<2&&(n="hex"),l=[],0===arguments.length)l=a.slice(0);else if(1===r)l=[m(.5)];else if(r>1)f=i[0],o=i[1]-f,l=function(){s=[];for(var e=0;0<=r?e<r:e>r;0<=r?e++:e--)s.push(e);return s}.apply(this).map((function(e){return m(f+e/(r-1)*o)}));else{if(e=[],h=[],t&&t.length>2)for(u=b=1,c=t.length;1<=c?b<c:b>c;u=1<=c?++b:--b)h.push(.5*(t[u-1]+t[u]));else h=i;l=h.map((function(e){return m(e)}))}return w[n]&&(l=l.map((function(e){return e[n]()}))),l},m.cache=function(e){return null!=e?(g=e,m):g},m.gamma=function(e){return null!=e?(f=e,m):f},m.nodata=function(e){return null!=e?(s=w(e),m):s},m},null==w.scales&&(w.scales={}),w.scales.cool=function(){return w.scale([w.hsl(180,1,.9),w.hsl(250,.7,.4)])},w.scales.hot=function(){return w.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},w.analyze=function(e,r,t){var n,a,o,i,f,u;if(f={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==t&&(t=function(){return!0}),n=function(e){null==e||isNaN(e)||(f.values.push(e),f.sum+=e,e<f.min&&(f.min=e),e>f.max&&(f.max=e),f.count+=1)},u=function(e,a){if(t(e,a))return null!=r&&"function"===je(r)?n(r(e)):null!=r&&"string"===je(r)||"number"===je(r)?n(e[r]):n(e)},"array"===je(e))for(i=0,o=e.length;i<o;i++)u(e[i]);else for(a in e)u(e[a],a);return f.domain=[f.min,f.max],f.limits=function(e,r){return w.limits(f,e,r)},f},w.limits=function(e,r,t){var n,a,o,i,f,u,c,l,s,h,b,d,g,m,v,y,_,k,x,j,A,O,N,M,C,P,R,E,F,I,q,H,L,B,z,G,T,D,V,Y,$,U,X,K,W,J,ee,re,te,ae,oe,ie,fe,ue,ce;if(null==r&&(r="equal"),null==t&&(t=7),"array"===je(e)&&(e=w.analyze(e)),C=e.min,Q=e.max,e.sum,ue=e.values.sort((function(e,r){return e-r})),1===t)return[C,Q];if(N=[],"c"===r.substr(0,1)&&(N.push(C),N.push(Q)),"e"===r.substr(0,1)){for(N.push(C),j=q=1,z=t-1;1<=z?q<=z:q>=z;j=1<=z?++q:--q)N.push(C+j/t*(Q-C));N.push(Q)}else if("l"===r.substr(0,1)){if(C<=0)throw"Logarithmic scales are only possible for values > 0";for(P=Math.LOG10E*Z(C),M=Math.LOG10E*Z(Q),N.push(C),j=ce=1,G=t-1;1<=G?ce<=G:ce>=G;j=1<=G?++ce:--ce)N.push(ne(10,P+j/t*(M-P)));N.push(Q)}else if("q"===r.substr(0,1)){for(N.push(C),j=n=1,U=t-1;1<=U?n<=U:n>=U;j=1<=U?++n:--n)H=(ue.length-1)*j/t,(L=S(H))===H?N.push(ue[L]):(B=H-L,N.push(ue[L]*(1-B)+ue[L+1]*B));N.push(Q)}else if("k"===r.substr(0,1)){for(E=ue.length,m=new Array(E),k=new Array(t),ae=!0,F=0,y=null,(y=[]).push(C),j=a=1,X=t-1;1<=X?a<=X:a>=X;j=1<=X?++a:--a)y.push(C+j/t*(Q-C));for(y.push(Q);ae;){for(A=o=0,K=t-1;0<=K?o<=K:o>=K;A=0<=K?++o:--o)k[A]=0;for(j=i=0,W=E-1;0<=W?i<=W:i>=W;j=0<=W?++i:--i){for(fe=ue[j],R=Number.MAX_VALUE,A=f=0,J=t-1;0<=J?f<=J:f>=J;A=0<=J?++f:--f)(x=p(y[A]-fe))<R&&(R=x,v=A);k[v]++,m[j]=v}for(I=new Array(t),A=u=0,ee=t-1;0<=ee?u<=ee:u>=ee;A=0<=ee?++u:--u)I[A]=null;for(j=c=0,re=E-1;0<=re?c<=re:c>=re;j=0<=re?++c:--c)null===I[_=m[j]]?I[_]=ue[j]:I[_]+=ue[j];for(A=l=0,te=t-1;0<=te?l<=te:l>=te;A=0<=te?++l:--l)I[A]*=1/k[A];for(ae=!1,A=s=0,T=t-1;0<=T?s<=T:s>=T;A=0<=T?++s:--s)if(I[A]!==y[j]){ae=!0;break}y=I,++F>200&&(ae=!1)}for(O={},A=h=0,D=t-1;0<=D?h<=D:h>=D;A=0<=D?++h:--h)O[A]=[];for(j=b=0,V=E-1;0<=V?b<=V:b>=V;j=0<=V?++b:--b)O[_=m[j]].push(ue[j]);for(oe=[],A=d=0,Y=t-1;0<=Y?d<=Y:d>=Y;A=0<=Y?++d:--d)oe.push(O[A][0]),oe.push(O[A][O[A].length-1]);for(oe=oe.sort((function(e,r){return e-r})),N.push(oe[0]),j=g=1,$=oe.length-1;g<=$;j=g+=2)ie=oe[j],isNaN(ie)||-1!==N.indexOf(ie)||N.push(ie)}return N},E=function(e,r,t){var n,a,o,i;return e=(n=Ae(arguments))[0],r=n[1],t=n[2],isNaN(e)&&(e=0),(e/=360)<1/3?o=1-((a=(1-r)/3)+(i=(1+r*A(c*e)/A(f-c*e))/3)):e<2/3?a=1-((i=(1-r)/3)+(o=(1+r*A(c*(e-=1/3))/A(f-c*e))/3)):i=1-((o=(1-r)/3)+(a=(1+r*A(c*(e-=2/3))/A(f-c*e))/3)),[255*(i=K(t*i*3)),255*(o=K(t*o*3)),255*(a=K(t*a*3)),n.length>3?n[3]:1]},ue=function(){var e,r,t,n,a,o,i;return a=(o=Ae(arguments))[0],r=o[1],e=o[2],c=2*Math.PI,a/=255,r/=255,e/=255,0===(i=1-Math.min(a,r,e)/(n=(a+r+e)/3))?t=0:(t=(a-r+(a-e))/2,t/=Math.sqrt((a-r)*(a-r)+(a-e)*(r-e)),t=Math.acos(t),e>r&&(t=c-t),t/=c),[360*t,i,n]},w.hsi=function(){return function(e,r,t){t.prototype=e.prototype;var n=new t,a=e.apply(n,r);return Object(a)===a?a:n}(n,Ce.call(arguments).concat(["hsi"]),(function(){}))},b.hsi=E,n.prototype.hsi=function(){return ue(this._rgb)},L=function(e,r,t,n){var a,o,i,f,u,c,l,s,h,b;return"hsl"===n?(h=e.hsl(),b=r.hsl()):"hsv"===n?(h=e.hsv(),b=r.hsv()):"hcg"===n?(h=e.hcg(),b=r.hcg()):"hsi"===n?(h=e.hsi(),b=r.hsi()):"lch"!==n&&"hcl"!==n||(n="hcl",h=e.hcl(),b=r.hcl()),"h"===n.substr(0,1)&&(o=h[0],l=h[1],f=h[2],i=b[0],s=b[1],u=b[2]),isNaN(o)||isNaN(i)?isNaN(o)?isNaN(i)?a=Number.NaN:(a=i,1!==f&&0!==f||"hsv"===n||(c=s)):(a=o,1!==u&&0!==u||"hsv"===n||(c=l)):a=o+t*(i>o&&i-o>180?i-(o+360):i<o&&o-i>180?i+360-o:i-o),null==c&&(c=l+t*(s-l)),w[n](a,c,f+t*(u-f))},G=function(e,r,t,n){var a,o;return a=e.num(),o=r.num(),w.num(a+(o-a)*t,"num")},(d=d.concat(function(){var e,r,t,n;for(n=[],r=0,e=(t=["hsv","hsl","hsi","hcl","lch","hcg"]).length;r<e;r++)J=t[r],n.push([J,L]);return n}())).push(["num",G]),B=function(e,r,t,a){var o,i;return o=e.lab(),i=r.lab(),new n(o[0]+t*(i[0]-o[0]),o[1]+t*(i[1]-o[1]),o[2]+t*(i[2]-o[2]),a)},d.push(["lab",B])}).call(this)}).call(this,t(134)(e))},58:function(e,r,t){e.exports=t(13)(3)},67:function(e,r,t){e.exports=t(13)(7)},84:function(e,r,t){"use strict";t.d(r,"a",(function(){return popover_Popover}));var n=t(58),a=t.n(n),o=t(1),i=t.n(o),f=t(17),u=t(19),c=t(18);class popover_Popover extends f.Component{constructor(...e){super(...e),i()(this,"state",{isPopoverOpen:!!this.props.isOpen}),i()(this,"handleClick",(()=>{this.setState((e=>({isPopoverOpen:!e.isPopoverOpen})))})),i()(this,"closePopover",(()=>{this.setState({isPopoverOpen:!1})}))}componentDidMount(){this.props.isOpen&&this.setState({isPopoverOpen:!0})}render(){const{button:e,children:r,tooltip:t,tooltipPosition:n,...o}=this.props,i=document.querySelector(".kbnAppWrapper"),f=u.EuiPopover;return Object(c.jsx)(f,a()({},o,{button:(r=>!this.state.isPopoverOpen&&t&&t.length?Object(c.jsx)(u.EuiToolTip,{position:n,content:t},e(r)):e(r))(this.handleClick),isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,container:i}),r({closePopover:this.closePopover}))}}i()(popover_Popover,"defaultProps",{isOpen:!1,ownFocus:!0,tooltip:"",tooltipPosition:"top"})},92:function(e,r,t){"use strict";t.d(r,"a",(function(){return A}));var n=t(58),a=t.n(n),o=t(17),i=t(19),f=t(101),u=t.n(f),c=t(84),l=t(18);const s=({value:e,children:r})=>{let t={};return u()(e).isValid()&&(t={background:e}),Object(l.jsx)("div",{className:"canvasColorDot"},Object(l.jsx)("div",{className:"canvasColorDot__background canvasCheckered"}),Object(l.jsx)("div",{className:"canvasColorDot__foreground",style:t},r))};var h=t(3);const b=()=>h.i18n.translate("xpack.canvas.colorManager.addAriaLabel",{defaultMessage:"Add Color"}),d=()=>h.i18n.translate("xpack.canvas.colorManager.codePlaceholder",{defaultMessage:"Color code"}),p=()=>h.i18n.translate("xpack.canvas.colorManager.removeAriaLabel",{defaultMessage:"Remove Color"}),g=({hasButtons:e=!1,onAddColor:r,onChange:t,onRemoveColor:n,value:a=""})=>{const o=u()(a).isValid();let f=null;return e&&(f=Object(l.jsx)(i.EuiFlexItem,{grow:!1},Object(l.jsx)(i.EuiButtonIcon,{"aria-label":b(),iconType:"plusInCircle",isDisabled:!o||!r,onClick:()=>r&&r(a)}),Object(l.jsx)(i.EuiButtonIcon,{"aria-label":p(),iconType:"minusInCircle",isDisabled:!o||!n,onClick:()=>n&&n(a)}))),Object(l.jsx)(i.EuiFlexGroup,{gutterSize:"xs",alignItems:"center"},Object(l.jsx)(i.EuiFlexItem,{grow:!1},Object(l.jsx)(s,{value:o?a:void 0})),Object(l.jsx)(i.EuiFlexItem,{style:{display:"inline-block"}},Object(l.jsx)(i.EuiFieldText,{value:a,isInvalid:!o&&a.length>0,placeholder:d(),onChange:e=>t(e.target.value)})),f)};var m=t(350),v=t.n(m);function y(e,r="#FFF",t="#333"){try{return v.a.contrast(e,"#000")<7?r:t}catch(e){return t}}var _=t(20);const k=function({items:e=[],itemsPerRow:r=6,children:t}){const n=e.reduce(((e,n)=>{let a=Object(_.last)(e);return a&&a.length>=r&&e.push([]),a=Object(_.last)(e),a&&a.push(t(n)),e}),[[]]);return Object(l.jsx)(o.Fragment,null,n.map(((e,r)=>Object(l.jsx)("div",{key:`item-grid-row-${r}`,className:"item-grid-row"},e))))},w=Object(o.memo)(k),x=({colors:e=[],colorsPerRow:r=6,onChange:t,value:n=""})=>0===e.length?null:(e=e.filter((e=>u()(e).isValid())),Object(l.jsx)("div",{className:"canvasColorPalette"},Object(l.jsx)(w,{items:e,itemsPerRow:r},(e=>{const r=u.a.equals(e,n),a=r?Object(l.jsx)(i.EuiIcon,{type:"check",className:"selected-color",color:y(n)}):null;return Object(l.jsx)(i.EuiLink,{style:{fontSize:0},key:e,onClick:()=>!r&&t(e),className:"canvasColorPalette__dot","aria-label":u()(e).toName()||e},Object(l.jsx)(s,{value:e},a))})))),j=({colors:e=[],hasButtons:r=!1,onAddColor:t,onChange:n,onRemoveColor:a,value:o=""})=>{const i=u()(o).isValid();e=e.filter((e=>u()(e).isValid()));let f=!1,c=!1;if(i){const r=e.filter((e=>u.a.equals(o,e)));f=r.length>0,c=0===r.length}return Object(l.jsx)("div",null,Object(l.jsx)(x,{onChange:n,value:o,colors:e}),Object(l.jsx)(g,{onChange:n,value:o,onAddColor:c?t:void 0,onRemoveColor:f?a:void 0,hasButtons:r}))},A=e=>{const{value:r,anchorPosition:t,ariaLabel:n,...o}=e;return Object(l.jsx)(c.a,{id:"color-picker-popover",panelClassName:"canvas canvasColorPickerPopover__popover",button:e=>Object(l.jsx)(i.EuiLink,{"aria-label":`${n} ${u()(r).toName()||r}`,style:{fontSize:0},onClick:e},Object(l.jsx)(s,{value:r})),anchorPosition:t},(()=>Object(l.jsx)(j,a()({value:r},o))))}}}]);
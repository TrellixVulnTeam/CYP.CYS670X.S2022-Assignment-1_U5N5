/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,a,i=t[0],o=t[1],s=0,c=[];s<i.length;s++)a=i[s],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&c.push(r[a][0]),r[a]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(l&&l(t);c.length;)c.shift()()}var n={},r={7:0};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=i);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(e){return a.p+"apm.chunk."+e+".js"}(e);var l=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,n[1](l)}r[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var i=window.apm_bundle_jsonpfunction=window.apm_bundle_jsonpfunction||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=o;a(a.s=16)}([function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){"use strict";let r,a;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e.CRITICAL="critical",e.MAJOR="major",e.MINOR="minor",e.WARNING="warning",e.LOW="low",e.UNKNOWN="unknown"}(r||(r={})),function(e){e[e.CRITICAL=75]="CRITICAL",e[e.MAJOR=50]="MAJOR",e[e.MINOR=25]="MINOR",e[e.WARNING=3]="WARNING",e[e.LOW=0]="LOW"}(a||(a={}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c}));var r=n(0);n(10);const a="ENVIRONMENT_ALL",i="ENVIRONMENT_NOT_DEFINED";function o(e){return e&&e!==i?e===a?r.i18n.translate("xpack.apm.filter.environment.allLabel",{defaultMessage:"All"}):e:r.i18n.translate("xpack.apm.filter.environment.notDefinedLabel",{defaultMessage:"Not defined"})}const s={value:a,text:o(a)},l={value:i,text:o(i)};function c({requestedEnvironment:e,currentEnvironmentUrlParam:t}){return(e||l.value)===(t||s.value)&&t||s.value}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(0),a=n(2);n(7);const i="apm";let o;!function(e){e.ErrorCount="apm.error_rate",e.TransactionErrorRate="apm.transaction_error_rate",e.TransactionDuration="apm.transaction_duration",e.TransactionDurationAnomaly="apm.transaction_duration_anomaly"}(o||(o={}));const s="threshold_met",l={id:s,name:r.i18n.translate("xpack.apm.a.thresholdMet",{defaultMessage:"Threshold met"})};const c={[o.ErrorCount]:{name:r.i18n.translate("xpack.apm.errorCountAlert.name",{defaultMessage:"Error count threshold"}),actionGroups:[l],defaultActionGroupId:s,minimumLicenseRequired:"basic",producer:i,isExportable:!0},[o.TransactionDuration]:{name:r.i18n.translate("xpack.apm.transactionDurationAlert.name",{defaultMessage:"Latency threshold"}),actionGroups:[l],defaultActionGroupId:s,minimumLicenseRequired:"basic",producer:i,isExportable:!0},[o.TransactionDurationAnomaly]:{name:r.i18n.translate("xpack.apm.transactionDurationAnomalyAlert.name",{defaultMessage:"Latency anomaly"}),actionGroups:[l],defaultActionGroupId:s,minimumLicenseRequired:"basic",producer:i,isExportable:!0},[o.TransactionErrorRate]:{name:r.i18n.translate("xpack.apm.transactionErrorRateAlert.name",{defaultMessage:"Failed transaction rate threshold"}),actionGroups:[l],defaultActionGroupId:s,minimumLicenseRequired:"basic",producer:i,isExportable:!0}},u=[{type:a.a.CRITICAL,label:r.i18n.translate("xpack.apm.alerts.anomalySeverity.criticalLabel",{defaultMessage:"critical"}),threshold:a.b.CRITICAL},{type:a.a.MAJOR,label:r.i18n.translate("xpack.apm.alerts.anomalySeverity.majorLabel",{defaultMessage:"major"}),threshold:a.b.MAJOR},{type:a.a.MINOR,label:r.i18n.translate("xpack.apm.alerts.anomalySeverity.minor",{defaultMessage:"minor"}),threshold:a.b.MINOR},{type:a.a.WARNING,label:r.i18n.translate("xpack.apm.alerts.anomalySeverity.warningLabel",{defaultMessage:"warning"}),threshold:a.b.WARNING}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var a=n(21);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=n(22);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n(23);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/observability/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/observability/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"v",(function(){return l})),n.d(t,"u",(function(){return c})),n.d(t,"x",(function(){return u})),n.d(t,"y",(function(){return p})),n.d(t,"w",(function(){return _})),n.d(t,"z",(function(){return d})),n.d(t,"a",(function(){return E})),n.d(t,"M",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"G",(function(){return b})),n.d(t,"J",(function(){return R})),n.d(t,"I",(function(){return A})),n.d(t,"H",(function(){return T})),n.d(t,"j",(function(){return g})),n.d(t,"F",(function(){return v})),n.d(t,"E",(function(){return L})),n.d(t,"D",(function(){return y})),n.d(t,"C",(function(){return h})),n.d(t,"B",(function(){return O})),n.d(t,"A",(function(){return k})),n.d(t,"i",(function(){return S})),n.d(t,"k",(function(){return U})),n.d(t,"h",(function(){return I})),n.d(t,"l",(function(){return P})),n.d(t,"b",(function(){return D})),n.d(t,"K",(function(){return x})),n.d(t,"L",(function(){return C})),n.d(t,"N",(function(){return N})),n.d(t,"s",(function(){return M})),n.d(t,"p",(function(){return w})),n.d(t,"t",(function(){return j})),n.d(t,"n",(function(){return V})),n.d(t,"o",(function(){return F})),n.d(t,"q",(function(){return B})),n.d(t,"r",(function(){return G}));const r="cloud.availability_zone",a="cloud.provider",i="cloud.machine.type",o="cloud.instance.id",s="cloud.instance.name",l="service.name",c="service.environment",u="service.runtime.name",p="service.runtime.version",_="service.node.name",d="service.version",E="agent.name",f="user_agent.name",m="processor.event",b="transaction.duration.us",R="transaction.type",A="transaction.name",T="transaction.id",g="event.outcome",v="trace.id",L="span.type",y="span.subtype",h="span.name",O="span.id",k="span.destination.service.resource",S="error.grouping_key",U="host.name",I="container.id",P="kubernetes.pod.name",D="client.geo.country_iso_code",x="url.full",C="user_agent.device.name",N="user_agent.os.name",M="profile.samples.count",w="profile.cpu.ns",j="profile.wall.us",V="profile.alloc_objects.count",F="profile.alloc_space.bytes",B="profile.inuse_objects.count",G="profile.inuse_space.bytes"},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";t.decode=t.parse=n(18),t.encode=t.stringify=n(19)},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/home/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n(17),__kbnBundles__.define("plugin/apm/public",n,24)},function(e,t,n){n.p=window.__kbnPublicPath__.apm},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var p,_,d,E,f=e[u].replace(s,"%20"),m=f.indexOf(n);m>=0?(p=f.substr(0,m),_=f.substr(m+1)):(p=f,_=""),d=decodeURIComponent(p),E=decodeURIComponent(_),r(o,d)?a(o[d])?o[d].push(E):o[d]=[o[d],E]:o[d]=E}return o};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(o(e),(function(o){var s=encodeURIComponent(r(o))+n;return a(e[o])?i(e[o],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[o]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=t.TIMESTAMP=t.TAGS=t.SPACE_IDS=t.KIBANA_NAMESPACE=t.EVENT_MODULE=t.EVENT_KIND=t.EVENT_ACTION=t.ECS_VERSION=t.ALERT_WORKFLOW_USER=t.ALERT_WORKFLOW_STATUS=t.ALERT_WORKFLOW_REASON=t.ALERT_UUID=t.ALERT_SYSTEM_STATUS=t.ALERT_STATUS=t.ALERT_START=t.ALERT_SEVERITY=t.ALERT_RULE_VERSION=t.ALERT_RULE_UUID=t.ALERT_RULE_UPDATED_BY=t.ALERT_RULE_UPDATED_AT=t.ALERT_RULE_TYPE_ID=t.ALERT_RULE_TYPE=t.ALERT_RULE_TO=t.ALERT_RULE_TAGS=t.ALERT_RULE_RULE_NAME_OVERRIDE=t.ALERT_RULE_RULE_ID=t.ALERT_RULE_REFERENCES=t.ALERT_RULE_PRODUCER=t.ALERT_RULE_PARAMETERS=t.ALERT_RULE_NOTE=t.ALERT_RULE_NAMESPACE=t.ALERT_RULE_NAME=t.ALERT_RULE_LICENSE=t.ALERT_RULE_INTERVAL=t.ALERT_RULE_FROM=t.ALERT_RULE_EXECUTION_UUID=t.ALERT_RULE_ENABLED=t.ALERT_RULE_DESCRIPTION=t.ALERT_RULE_CREATED_BY=t.ALERT_RULE_CREATED_AT=t.ALERT_RULE_CONSUMER=t.ALERT_RULE_CATEGORY=t.ALERT_RULE_AUTHOR=t.ALERT_RISK_SCORE=t.ALERT_REASON=t.ALERT_NAMESPACE=t.ALERT_INSTANCE_ID=t.ALERT_EVALUATION_VALUE=t.ALERT_EVALUATION_THRESHOLD=t.ALERT_END=t.ALERT_DURATION=t.ALERT_BUILDING_BLOCK_TYPE=t.ALERT_ACTION_GROUP=void 0;const r="kibana";t.KIBANA_NAMESPACE=r;const a="kibana.alert";t.ALERT_NAMESPACE=a;const i="kibana.alert.rule";t.ALERT_RULE_NAMESPACE=i;const o="ecs.version";t.ECS_VERSION=o;const s="event.action";t.EVENT_ACTION=s;const l="event.kind";t.EVENT_KIND=l;const c="event.module";t.EVENT_MODULE=c;const u="kibana.space_ids";t.SPACE_IDS=u;const p="tags";t.TAGS=p;const _="@timestamp";t.TIMESTAMP=_;const d="kibana.version";t.VERSION=d;const E="kibana.alert.action_group";t.ALERT_ACTION_GROUP=E;const f="kibana.alert.building_block_type";t.ALERT_BUILDING_BLOCK_TYPE=f;const m="kibana.alert.duration.us";t.ALERT_DURATION=m;const b="kibana.alert.end";t.ALERT_END=b;const R="kibana.alert.evaluation.threshold";t.ALERT_EVALUATION_THRESHOLD=R;const A="kibana.alert.evaluation.value";t.ALERT_EVALUATION_VALUE=A;const T="kibana.alert.instance.id";t.ALERT_INSTANCE_ID=T;const g="kibana.alert.reason";t.ALERT_REASON=g;const v="kibana.alert.risk_score";t.ALERT_RISK_SCORE=v;const L="kibana.alert.severity";t.ALERT_SEVERITY=L;const y="kibana.alert.start";t.ALERT_START=y;const h="kibana.alert.status";t.ALERT_STATUS=h;const O="kibana.alert.system_status";t.ALERT_SYSTEM_STATUS=O;const k="kibana.alert.uuid";t.ALERT_UUID=k;const S="kibana.alert.workflow_reason";t.ALERT_WORKFLOW_REASON=S;const U="kibana.alert.workflow_status";t.ALERT_WORKFLOW_STATUS=U;const I="kibana.alert.workflow_user";t.ALERT_WORKFLOW_USER=I;const P="kibana.alert.rule.author";t.ALERT_RULE_AUTHOR=P;const D="kibana.alert.rule.created_at";t.ALERT_RULE_CREATED_AT=D;const x="kibana.alert.rule.created_by";t.ALERT_RULE_CREATED_BY=x;const C="kibana.alert.rule.description";t.ALERT_RULE_DESCRIPTION=C;const N="kibana.alert.rule.enabled";t.ALERT_RULE_ENABLED=N;const M="kibana.alert.rule.execution.uuid";t.ALERT_RULE_EXECUTION_UUID=M;const w="kibana.alert.rule.from";t.ALERT_RULE_FROM=w;const j="kibana.alert.rule.interval";t.ALERT_RULE_INTERVAL=j;const V="kibana.alert.rule.license";t.ALERT_RULE_LICENSE=V;const F="kibana.alert.rule.category";t.ALERT_RULE_CATEGORY=F;const B="kibana.alert.rule.name";t.ALERT_RULE_NAME=B;const G="kibana.alert.rule.note";t.ALERT_RULE_NOTE=G;const K="kibana.alert.rule.parameters";t.ALERT_RULE_PARAMETERS=K;const W="kibana.alert.rule.references";t.ALERT_RULE_REFERENCES=W;const Y="kibana.alert.rule.rule_id";t.ALERT_RULE_RULE_ID=Y;const q="kibana.alert.rule.rule_name_override";t.ALERT_RULE_RULE_NAME_OVERRIDE=q;const z="kibana.alert.rule.tags";t.ALERT_RULE_TAGS=z;const H="kibana.alert.rule.to";t.ALERT_RULE_TO=H;const $="kibana.alert.rule.type";t.ALERT_RULE_TYPE=$;const J="kibana.alert.rule.rule_type_id";t.ALERT_RULE_TYPE_ID=J;const X="kibana.alert.rule.updated_at";t.ALERT_RULE_UPDATED_AT=X;const Q="kibana.alert.rule.updated_by";t.ALERT_RULE_UPDATED_BY=Q;const Z="kibana.alert.rule.version";t.ALERT_RULE_VERSION=Z;const ee="kibana.alert.rule.consumer";t.ALERT_RULE_CONSUMER=ee;const te="kibana.alert.rule.producer";t.ALERT_RULE_PRODUCER=te;const ne="kibana.alert.rule.uuid";t.ALERT_RULE_UUID=ne},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validFeatureIds=t.isValidFeatureId=t.getSafeSortIds=t.getEsQueryConfig=t.AlertConsumers=void 0;const r={APM:"apm",LOGS:"logs",INFRASTRUCTURE:"infrastructure",OBSERVABILITY:"observability",SIEM:"siem",UPTIME:"uptime"};t.AlertConsumers=r;const a=Object.values(r).map((e=>e));t.validFeatureIds=a;t.isValidFeatureId=e=>"string"==typeof e&&a.includes(e);t.getSafeSortIds=e=>null==e?e:e.map((e=>null==e||""===e||e>=Number.MAX_SAFE_INTEGER?"9223372036854775807":e));t.getEsQueryConfig=e=>{const t={allowLeadingWildcards:!0,queryStringOptions:{analyze_wildcard:!0},ignoreFilterIfFieldNotInIndex:!1,dateFormatTZ:"Zulu"};if(null==e)return t;return Object.keys(e).reduce(((n,r)=>{const a=r;return null!=e[a]?{[r]:e[a],...n}:{[r]:t[a],...n}}),{})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALERT_SEVERITY_WARNING=t.ALERT_SEVERITY_CRITICAL=void 0;t.ALERT_SEVERITY_WARNING="warning";t.ALERT_SEVERITY_CRITICAL="critical"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALERT_STATUS_RECOVERED=t.ALERT_STATUS_ACTIVE=void 0;t.ALERT_STATUS_ACTIVE="active";t.ALERT_STATUS_RECOVERED="recovered"},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return S}));var r=n(0),a=n(13),i=n(14),o=n(6),s=n(9),l=n(1),c=n.n(l),u=n(12),p=n(5),_=n(3),d=n(4);const E="service.environment",f="service.name",m="transaction.type",b=({pathname:e,query:t})=>`${e}?${Object(u.stringify)(t)}`;var R=n(8),A=n(11);function T(){const{http:e}=Object(A.useKibana)().services,t=null==e?void 0:e.basePath.prepend("/app/home#/tutorial/apm");return c.a.createElement(c.a.Fragment,null,c.a.createElement(R.EuiText,null,c.a.createElement("p",null,r.i18n.translate("xpack.apm.fleetIntegration.enrollmentFlyout.installApmAgentDescription",{defaultMessage:"After the agent starts, you can install APM agents on your hosts to collect data from your applications and services."}))),c.a.createElement(R.EuiSpacer,{size:"m"}),c.a.createElement(R.EuiButton,{fill:!0,href:t},r.i18n.translate("xpack.apm.fleetIntegration.enrollmentFlyout.installApmAgentButtonText",{defaultMessage:"Install APM Agent"})))}const g=Object(l.lazy)((async()=>{const{ApmCustomAssetsExtension:e}=await n.e(20).then(n.bind(null,1043));return{default:e}}));var v=n(15);const L={id:"apm",title:"APM",description:r.i18n.translate("xpack.apm.apmDescription",{defaultMessage:"Automatically collect in-depth performance metrics and errors from inside your applications."}),icon:"apmApp",path:"/app/apm",showOnHomePage:!1,category:v.FeatureCatalogueCategory.DATA},y=r.i18n.translate("xpack.apm.navigation.servicesTitle",{defaultMessage:"Services"}),h=r.i18n.translate("xpack.apm.navigation.tracesTitle",{defaultMessage:"Traces"}),O=r.i18n.translate("xpack.apm.navigation.serviceMapTitle",{defaultMessage:"Service Map"}),k=r.i18n.translate("xpack.apm.navigation.dependenciesTitle",{defaultMessage:"Dependencies"});class plugin_ApmPlugin{constructor(e){this.initializerContext=e,this.initializerContext=e}setup(e,t){var c,u,R,A;const T=this.initializerContext.config.get(),g=t;g.home&&(g.home.environment.update({apmUi:!0}),g.home.featureCatalogue.register(L)),t.observability.navigation.registerSections(Object(a.from)(e.getStartServices()).pipe(Object(i.map)((([e,t])=>e.application.capabilities.apm.show?[{label:"APM",sortKey:400,entries:[{label:y,app:"apm",path:"/services"},{label:h,app:"apm",path:"/traces"},{label:k,app:"apm",path:"/backends",onClick:()=>{const{usageCollection:e}=t;e&&e.reportUiCounter("apm",s.METRIC_TYPE.CLICK,"side_nav_backend")}},{label:O,app:"apm",path:"/service-map"}]},{label:"User Experience",sortKey:600,entries:[{label:r.i18n.translate("xpack.apm.ux.overview.heading",{defaultMessage:"Dashboard"}),app:"ux",path:"/",matchFullPath:!0,ignoreTrailingSlash:!0}]}]:[]))));const v=async()=>{const{fetchObservabilityOverviewPageData:t,getHasData:r}=await Promise.all([n.e(0),n.e(22)]).then(n.bind(null,1035)),{hasFleetApmIntegrations:a}=await Promise.all([n.e(0),n.e(23)]).then(n.bind(null,1036)),{createCallApmApi:i}=await n.e(0).then(n.bind(null,64));return i(e),{fetchObservabilityOverviewPageData:t,getHasData:r,hasFleetApmIntegrations:a}};null===(c=g.home)||void 0===c||c.tutorials.registerCustomStatusCheck("apm_fleet_server_status_check",(async()=>{const{hasFleetApmIntegrations:e}=await v();return e()})),null===(u=g.home)||void 0===u||u.tutorials.registerCustomComponent("TutorialFleetInstructions",(()=>n.e(12).then(n.bind(null,1037)))),null===(R=g.home)||void 0===R||R.tutorials.registerCustomComponent("TutorialConfigAgent",(()=>Promise.all([n.e(3),n.e(11)]).then(n.bind(null,470)))),null===(A=g.home)||void 0===A||A.tutorials.registerCustomComponent("TutorialConfigAgentRumScript",(()=>Promise.all([n.e(3),n.e(9)]).then(n.bind(null,1038)))),t.observability.dashboard.register({appName:"apm",hasData:async()=>{const e=await v();return await e.getHasData()},fetchData:async e=>{const t=await v();return await t.fetchObservabilityOverviewPageData(e)}});const S=async()=>{const{fetchUxOverviewDate:t,hasRumData:r}=await Promise.all([n.e(0),n.e(19)]).then(n.bind(null,1039)),{createCallApmApi:a}=await n.e(0).then(n.bind(null,64));return a(e),{fetchUxOverviewDate:t,hasRumData:r}},{observabilityRuleTypeRegistry:U}=t.observability;return t.observability.dashboard.register({appName:"ux",hasData:async e=>{const t=await S();return await t.hasRumData(e)},fetchData:async e=>{const t=await S();return await t.fetchUxOverviewDate(e)}}),e.application.register({id:"apm",title:"APM",order:8300,euiIconType:"logoObservability",appRoute:"/app/apm",icon:"plugins/apm/public/icon.svg",category:o.DEFAULT_APP_CATEGORIES.observability,deepLinks:[{id:"services",title:y,path:"/services"},{id:"traces",title:h,path:"/traces"},{id:"service-map",title:O,path:"/service-map"},{id:"backends",title:k,path:"/backends"}],async mount(t){const[{renderApp:r},[a,i]]=await Promise.all([Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(5),n.e(8)]).then(n.bind(null,1046)),e.getStartServices()]);return r({coreStart:a,pluginsSetup:g,appMountParameters:t,config:T,pluginsStart:i,observabilityRuleTypeRegistry:U})}}),function(e){e.register({id:d.d.ErrorCount,description:r.i18n.translate("xpack.apm.alertTypes.errorCount.description",{defaultMessage:"Alert when the number of errors in a service exceeds a defined threshold."}),format:({fields:e})=>{var t;return{reason:e[p.ALERT_REASON],link:b({pathname:`/app/apm/services/${String(e[f][0])}/errors`,query:{...null!==(t=e[E])&&void 0!==t&&t[0]?{environment:String(e[E][0])}:{environment:_.a.value}}})}},iconClass:"bell",documentationUrl:e=>`${e.links.alerting.apmRules}`,ruleParamsExpression:Object(l.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(15)]).then(n.bind(null,1040)))),validate:()=>({errors:[]}),requiresAppContext:!1,defaultActionMessage:r.i18n.translate("xpack.apm.alertTypes.errorCount.defaultActionMessage",{defaultMessage:"\\{\\{alertName\\}\\} alert is firing because of the following conditions:\n\n- Service name: \\{\\{context.serviceName\\}\\}\n- Environment: \\{\\{context.environment\\}\\}\n- Threshold: \\{\\{context.threshold\\}\\} errors\n- Triggered value: \\{\\{context.triggerValue\\}\\} errors over the last \\{\\{context.interval\\}\\}"})}),e.register({id:d.d.TransactionDuration,description:r.i18n.translate("xpack.apm.alertTypes.transactionDuration.description",{defaultMessage:"Alert when the latency of a specific transaction type in a service exceeds a defined threshold."}),format:({fields:e,formatters:{asDuration:t}})=>{var n;return{reason:e[p.ALERT_REASON],link:b({pathname:`/app/apm/services/${e[f][0]}`,query:{transactionType:e[m][0],...null!==(n=e[E])&&void 0!==n&&n[0]?{environment:String(e[E][0])}:{environment:_.a.value}}})}},iconClass:"bell",documentationUrl:e=>`${e.links.alerting.apmRules}`,ruleParamsExpression:Object(l.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(14)]).then(n.bind(null,1041)))),validate:()=>({errors:[]}),requiresAppContext:!1,defaultActionMessage:r.i18n.translate("xpack.apm.alertTypes.transactionDuration.defaultActionMessage",{defaultMessage:"\\{\\{alertName\\}\\} alert is firing because of the following conditions:\n\n- Service name: \\{\\{context.serviceName\\}\\}\n- Type: \\{\\{context.transactionType\\}\\}\n- Environment: \\{\\{context.environment\\}\\}\n- Latency threshold: \\{\\{context.threshold\\}\\}ms\n- Latency observed: \\{\\{context.triggerValue\\}\\} over the last \\{\\{context.interval\\}\\}"})}),e.register({id:d.d.TransactionErrorRate,description:r.i18n.translate("xpack.apm.alertTypes.transactionErrorRate.description",{defaultMessage:"Alert when the rate of transaction errors in a service exceeds a defined threshold."}),format:({fields:e,formatters:{asPercent:t}})=>{var n;return{reason:e[p.ALERT_REASON],link:b({pathname:`/app/apm/services/${String(e[f][0])}`,query:{transactionType:String(e[m][0]),...null!==(n=e[E])&&void 0!==n&&n[0]?{environment:String(e[E][0])}:{environment:_.a.value}}})}},iconClass:"bell",documentationUrl:e=>`${e.links.alerting.apmRules}`,ruleParamsExpression:Object(l.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(16)]).then(n.bind(null,1042)))),validate:()=>({errors:[]}),requiresAppContext:!1,defaultActionMessage:r.i18n.translate("xpack.apm.alertTypes.transactionErrorRate.defaultActionMessage",{defaultMessage:"\\{\\{alertName\\}\\} alert is firing because of the following conditions:\n\n- Service name: \\{\\{context.serviceName\\}\\}\n- Type: \\{\\{context.transactionType\\}\\}\n- Environment: \\{\\{context.environment\\}\\}\n- Threshold: \\{\\{context.threshold\\}\\}%\n- Triggered value: \\{\\{context.triggerValue\\}\\}% of errors over the last \\{\\{context.interval\\}\\}"})}),e.register({id:d.d.TransactionDurationAnomaly,description:r.i18n.translate("xpack.apm.alertTypes.transactionDurationAnomaly.description",{defaultMessage:"Alert when the latency of a service is abnormal."}),format:({fields:e})=>{var t;return{reason:e[p.ALERT_REASON],link:b({pathname:`/app/apm/services/${String(e[f][0])}`,query:{transactionType:String(e[m][0]),...null!==(t=e[E])&&void 0!==t&&t[0]?{environment:String(e[E][0])}:{environment:_.a.value}}})}},iconClass:"bell",documentationUrl:e=>`${e.links.alerting.apmRules}`,ruleParamsExpression:Object(l.lazy)((()=>Promise.all([n.e(0),n.e(13)]).then(n.bind(null,1049)))),validate:()=>({errors:[]}),requiresAppContext:!1,defaultActionMessage:r.i18n.translate("xpack.apm.alertTypes.transactionDurationAnomaly.defaultActionMessage",{defaultMessage:"\\{\\{alertName\\}\\} alert is firing because of the following conditions:\n\n- Service name: \\{\\{context.serviceName\\}\\}\n- Type: \\{\\{context.transactionType\\}\\}\n- Environment: \\{\\{context.environment\\}\\}\n- Severity threshold: \\{\\{context.threshold\\}\\}\n- Severity value: \\{\\{context.triggerValue\\}\\}\n"})})}(U),e.application.register({id:"ux",title:"User Experience",order:8500,euiIconType:"logoObservability",category:o.DEFAULT_APP_CATEGORIES.observability,navLinkStatus:T.ui.enabled?o.AppNavLinkStatus.default:o.AppNavLinkStatus.hidden,keywords:["RUM","Real User Monitoring","DEM","Digital Experience Monitoring","EUM","End User Monitoring","UX","Javascript","APM","Mobile","digital","performance","web performance","web perf"],async mount(t){const[{renderApp:r},[a,i]]=await Promise.all([Promise.all([n.e(0),n.e(2),n.e(4),n.e(17)]).then(n.bind(null,1047)),e.getStartServices()]);return r({core:a,deps:g,appMountParameters:t,config:T,corePlugins:i,observabilityRuleTypeRegistry:U})}}),{}}start(e,t){const{fleet:a}=t;if(a){const e={title:r.i18n.translate("xpack.apm.fleetIntegration.enrollmentFlyout.installApmAgentTitle",{defaultMessage:"Install APM Agent"}),Component:T};a.registerExtension({package:"apm",view:"agent-enrollment-flyout",title:e.title,Component:e.Component}),a.registerExtension({package:"apm",view:"package-detail-assets",Component:g}),a.registerExtension({package:"apm",view:"package-policy-create",Component:Object(l.lazy)((async()=>{const{CreateAPMPolicyForm:e}=await Promise.all([n.e(2),n.e(6),n.e(21)]).then(n.bind(null,1044));return{default:e}}))}),a.registerExtension({package:"apm",view:"package-policy-edit",useLatestPackageVersion:!0,Component:Object(l.lazy)((async()=>{const{EditAPMPolicyForm:e}=await Promise.all([n.e(2),n.e(6),n.e(10)]).then(n.bind(null,1045));return{default:e}}))}),a.registerExtension({package:"apm",view:"package-policy-edit-tabs",tabs:[{title:"APM Agents",Component:Object(l.lazy)((async()=>{const{ApmAgents:e}=await Promise.all([n.e(3),n.e(5),n.e(18)]).then(n.bind(null,1048));return{default:e}}))}]})}}}const S=e=>new plugin_ApmPlugin(e)},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.StyledComponents},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.ElasticNumeral},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/ml/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiChartsTheme},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/ml/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/triggersActionsUi/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/infra/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/maps/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactRouter},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.RisonNode},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/fleet/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}]);
/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.apm_bundle_jsonpfunction=window.apm_bundle_jsonpfunction||[]).push([[12],{1037:function(e,t,r){"use strict";r.r(t);var i=r(8),n=r(0),s=r(1),a=r.n(s),E=r(29),o=r.n(E),l=r(85);const c=o.a.div.withConfig({displayName:"CentralizedContainer",componentId:"sc-4qu9rk-0"})(["display:flex;justify-content:center;align-items:center;"]);t.default=function({http:e,basePath:t,isDarkTheme:r,kibanaVersion:E}){const[o,I]=Object(s.useState)(),[p,h]=Object(s.useState)(!1);Object(s.useEffect)((()=>{!async function(){h(!0);try{const t=await e.get("/internal/apm/fleet/migration_check");I(t)}catch(e){h(!1),console.error("Error while fetching fleet details.",e)}h(!1)}()}),[e]);const u=!(null==o||!o.has_apm_integrations),N=!(null==o||!o.cloud_apm_migration_enabled),R=!(null==o||!o.has_cloud_agent_policy),m=!!(null==o?void 0:o.cloud_apm_package_policy),L=!(null==o||!o.has_required_role),A=N&&R&&!m&&L?`${t}/app/apm/settings/schema`:Object(l.c)(E)?`${t}/app/integrations#/detail/apm/overview`:`${t}/app/integrations/detail/apm-${l.b}/overview`;return p?a.a.createElement(c,null,a.a.createElement(i.EuiLoadingSpinner,null)):u?a.a.createElement(i.EuiButton,{iconType:"gear",fill:!0,href:`${t}/app/integrations/detail/apm-${l.b}/policies`},n.i18n.translate("xpack.apm.tutorial.apmServer.fleet.manageApmIntegration.button",{defaultMessage:"Manage APM integration in Fleet"})):a.a.createElement(i.EuiPanel,null,a.a.createElement(i.EuiFlexGroup,null,a.a.createElement(i.EuiFlexItem,{grow:7},a.a.createElement(i.EuiCard,{display:"plain",textAlign:"left",title:n.i18n.translate("xpack.apm.tutorial.apmServer.fleet.title",{defaultMessage:"Elastic APM now available in Fleet!"}),description:n.i18n.translate("xpack.apm.tutorial.apmServer.fleet.message",{defaultMessage:"The APM integration installs Elasticsearch templates and ingest pipelines for APM data."}),footer:a.a.createElement(a.a.Fragment,null,a.a.createElement(i.EuiButton,{iconType:"analyzeEvent",color:"success",href:A},n.i18n.translate("xpack.apm.tutorial.apmServer.fleet.apmIntegration.button",{defaultMessage:"APM integration"})),a.a.createElement(i.EuiSpacer,{size:"m"}),a.a.createElement(i.EuiText,{size:"s"},a.a.createElement("p",null,n.i18n.translate("xpack.apm.tutorial.apmServer.fleet.apmIntegration.description",{defaultMessage:"Fleet allows you to centrally manage Elastic Agents running the APM integration. The default option is to install a Fleet Server on a dedicated host. For setups without a dedicated host, we recommend following the instructions to install the standalone APM Server for your operating system by selecting the respective tab above."}))))})),a.a.createElement(i.EuiFlexItem,{grow:3},a.a.createElement(i.EuiImage,{src:`${t}/plugins/kibanaReact/assets/${r?"illustration_integrations_darkmode.svg":"illustration_integrations_lightmode.svg"}`,alt:"Illustration"}))))}},68:function(e,t){const r=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:r,MAX_SAFE_COMPONENT_LENGTH:16}},74:function(e,t,r){e.exports=r(25)(954)},75:function(e,t,r){const{MAX_SAFE_COMPONENT_LENGTH:i}=r(68),n=r(76),s=(t=e.exports={}).re=[],a=t.src=[],E=t.t={};let o=0;const l=(e,t,r)=>{const i=o++;n(i,t),E[e]=i,a[i]=t,s[i]=new RegExp(t,r?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${a[E.NUMERICIDENTIFIER]})\\.(${a[E.NUMERICIDENTIFIER]})\\.(${a[E.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${a[E.NUMERICIDENTIFIERLOOSE]})\\.(${a[E.NUMERICIDENTIFIERLOOSE]})\\.(${a[E.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${a[E.NUMERICIDENTIFIER]}|${a[E.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${a[E.NUMERICIDENTIFIERLOOSE]}|${a[E.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${a[E.PRERELEASEIDENTIFIER]}(?:\\.${a[E.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${a[E.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[E.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${a[E.BUILDIDENTIFIER]}(?:\\.${a[E.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${a[E.MAINVERSION]}${a[E.PRERELEASE]}?${a[E.BUILD]}?`),l("FULL",`^${a[E.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${a[E.MAINVERSIONLOOSE]}${a[E.PRERELEASELOOSE]}?${a[E.BUILD]}?`),l("LOOSE",`^${a[E.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${a[E.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${a[E.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${a[E.XRANGEIDENTIFIER]})(?:\\.(${a[E.XRANGEIDENTIFIER]})(?:\\.(${a[E.XRANGEIDENTIFIER]})(?:${a[E.PRERELEASE]})?${a[E.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${a[E.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[E.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[E.XRANGEIDENTIFIERLOOSE]})(?:${a[E.PRERELEASELOOSE]})?${a[E.BUILD]}?)?)?`),l("XRANGE",`^${a[E.GTLT]}\\s*${a[E.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${a[E.GTLT]}\\s*${a[E.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?(?:$|[^\\d])`),l("COERCERTL",a[E.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${a[E.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",l("TILDE",`^${a[E.LONETILDE]}${a[E.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${a[E.LONETILDE]}${a[E.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${a[E.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",l("CARET",`^${a[E.LONECARET]}${a[E.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${a[E.LONECARET]}${a[E.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${a[E.GTLT]}\\s*(${a[E.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${a[E.GTLT]}\\s*(${a[E.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${a[E.GTLT]}\\s*(${a[E.LOOSEPLAIN]}|${a[E.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${a[E.XRANGEPLAIN]})\\s+-\\s+(${a[E.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${a[E.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[E.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0.0.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},76:function(e,t,r){(function(t){const r="object"==typeof t&&Object({IS_KIBANA_DISTRIBUTABLE:"true"})&&Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=r}).call(this,r(74))},85:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return E}));var i=r(89),n=r.n(i);const s="policy-elastic-agent-on-cloud",a="8.1.0";function E(e){var t,r,i;return null!==(t=null===(r=n()(e))||void 0===r||null===(i=r.prerelease)||void 0===i?void 0:i.length)&&void 0!==t&&t}},88:function(e,t,r){const i=r(76),{MAX_LENGTH:n,MAX_SAFE_INTEGER:s}=r(68),{re:a,t:E}=r(75),{compareIdentifiers:o}=r(90);class SemVer{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>n)throw new TypeError(`version is longer than ${n} characters`);i("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?a[E.LOOSE]:a[E.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(i("SemVer.compare",this.version,this.options,e),!(e instanceof SemVer)){if("string"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),o(this.major,e.major)||o(this.minor,e.minor)||o(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],n=e.prerelease[t];if(i("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return o(r,n)}while(++t)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let t=0;do{const r=this.build[t],n=e.build[t];if(i("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return o(r,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=SemVer},89:function(e,t,r){const{MAX_LENGTH:i}=r(68),{re:n,t:s}=r(75),a=r(88);e.exports=(e,t)=>{if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof a)return e;if("string"!=typeof e)return null;if(e.length>i)return null;if(!(t.loose?n[s.LOOSE]:n[s.FULL]).test(e))return null;try{return new a(e,t)}catch(e){return null}}},90:function(e,t){const r=/^[0-9]+$/,i=(e,t)=>{const i=r.test(e),n=r.test(t);return i&&n&&(e=+e,t=+t),e===t?0:i&&!n?-1:n&&!i?1:e<t?-1:1};e.exports={compareIdentifiers:i,rcompareIdentifiers:(e,t)=>i(t,e)}}}]);
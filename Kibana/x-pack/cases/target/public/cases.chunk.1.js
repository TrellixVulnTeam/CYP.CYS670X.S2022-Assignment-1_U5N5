/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[1],{111:function(e,t,a){"use strict";a.d(t,"a",(function(){return he}));var n=a(2),s=a.n(n),r=a(11),l=a(22),i=a(34),c=a.n(i),o=a(23),u=a(3),d=a(87),p=a(68),b=a(75),m=a(42),f=a(4),g=a(88),E=a(76),C=a(49),y=a(50),h=a(21);var j=a(77),O=a(89),S=a(13),v=a(93),T=a(69),w=a(47);const k=c.a.p.withConfig({displayName:"MediumShadeText",componentId:"sc-178ns9e-0"})(["color:",";"],(({theme:e})=>e.eui.euiColorMediumShade)),I=c.a.span.withConfig({displayName:"Spacer",componentId:"sc-178ns9e-1"})(["margin-left:",";"],(({theme:e})=>e.eui.paddingSizes.s)),x=c()(r.EuiBadgeGroup).withConfig({displayName:"TagWrapper",componentId:"sc-178ns9e-2"})(["width:100%;"]),A=(e,t)=>null!=e?s.a.createElement("span",{"data-test-subj":t},e):Object(g.a)(),F=({dispatchUpdateCaseProperty:e,filterStatus:t,handleIsLoading:a,isLoadingCases:l,refreshCases:i,isSelectorView:c,userCanCrud:o,connectors:d=[],onRowClick:p,alertData:b,postComment:S,updateCase:w,showSolutionColumn:F})=>{const{dispatchResetIsDeleted:N,handleOnDeleteConfirm:M,handleToggleModal:L,isDeleted:_,isDisplayConfirmDeleteModal:P,isLoading:R}=Object(j.a)(),[U,B]=Object(n.useState)({id:"",title:""}),z=Object(n.useCallback)((e=>{L(),B({id:e.id,title:e.title})}),[L]),H=Object(n.useCallback)((t=>{e({...t,refetchCasesStatus:()=>{null!=i&&i()}})}),[e,i]),q=Object(n.useMemo)((()=>(({deleteCaseOnClick:e})=>[{description:y.j(),icon:"trash",name:y.j(),onClick:e,type:"icon","data-test-subj":"action-delete"}])({deleteCaseOnClick:z})),[z]),G=Object(n.useCallback)((async e=>{null!=b&&await(null==S?void 0:S({caseId:e.id,data:{type:u.m.alert,...b},updateCase:w})),p&&p(e)}),[b,p,S,w]);return Object(n.useEffect)((()=>{a(R||l.indexOf("caseUpdate")>-1)}),[a,R,l]),Object(n.useEffect)((()=>{_&&(null!=i&&i(),N())}),[_,N,i]),[{name:y.l,render:e=>{if(null!=e.id&&null!=e.title){const t=c?s.a.createElement(T.a,{text:e.title}):s.a.createElement(C.a,{detailName:e.id,title:e.title},s.a.createElement(T.a,{text:e.title}));return e.status!==u.h.closed?t:s.a.createElement(r.EuiFlexGroup,{direction:"column",gutterSize:"none"},s.a.createElement(r.EuiFlexItem,null,t),s.a.createElement(r.EuiFlexItem,null,s.a.createElement(k,null,y.d)))}return Object(g.a)()}},{field:"createdBy",name:y.v,render:e=>{var t,a;return null!=e?s.a.createElement(s.a.Fragment,null,s.a.createElement(r.EuiAvatar,{className:"userAction__circle",name:e.fullName?e.fullName:null!==(t=e.username)&&void 0!==t?t:y.F,size:"s"}),s.a.createElement(I,{"data-test-subj":"case-table-column-createdBy"},null!==(a=e.username)&&void 0!==a?a:y.F)):Object(g.a)()}},{field:"tags",name:y.E,render:e=>null!=e&&e.length>0?s.a.createElement(x,null,e.map(((e,t)=>s.a.createElement(r.EuiBadge,{color:"hollow",key:`${e}-${t}`,"data-test-subj":`case-table-column-tags-${t}`},e)))):Object(g.a)(),truncateText:!0},{align:m.RIGHT_ALIGNMENT,field:"totalAlerts",name:h.d,render:e=>null!=e?A(`${e}`,"case-table-column-alertsCount"):Object(g.a)()},...F?[{align:m.RIGHT_ALIGNMENT,field:"owner",name:y.C,render:e=>{const t=f.w[e];return t?s.a.createElement(r.EuiIcon,{size:"s",type:t.iconType,title:t.label}):Object(g.a)()}}]:[],{align:m.RIGHT_ALIGNMENT,field:"totalComment",name:y.f,render:e=>null!=e?A(`${e}`,"case-table-column-commentCount"):Object(g.a)()},t===u.h.closed?{field:"closedAt",name:y.e,sortable:!0,render:e=>null!=e?s.a.createElement("span",{"data-test-subj":"case-table-column-closedAt"},s.a.createElement(E.a,{value:e})):Object(g.a)()}:{field:"createdAt",name:y.h,sortable:!0,render:e=>null!=e?s.a.createElement("span",{"data-test-subj":"case-table-column-createdAt"},s.a.createElement(E.a,{value:e,stripMs:!0})):Object(g.a)()},{name:y.k,render:e=>null!=e.id?s.a.createElement(D,{theCase:e,connectors:d}):Object(g.a)()},...c?[{align:m.RIGHT_ALIGNMENT,render:e=>null!=e.id?s.a.createElement(r.EuiButton,{"data-test-subj":`cases-table-row-select-${e.id}`,onClick:()=>{G(e)},size:"s",fill:!0},y.z):Object(g.a)()}]:[],...c?[]:[{name:y.D,render:e=>null===e.status||void 0===e.status?Object(g.a)():s.a.createElement(v.a,{currentStatus:e.status,disabled:!o||l.length>0,onStatusChanged:t=>H({updateKey:"status",updateValue:t,caseId:e.id,version:e.version})})}],...o&&!c?[{name:s.a.createElement(s.a.Fragment,null,y.a,s.a.createElement(O.a,{caseTitle:U.title,isModalVisible:P,onCancel:L,onConfirm:M.bind(null,[U])})),actions:q}]:[]]},N=c.a.span.withConfig({displayName:"IconWrapper",componentId:"sc-178ns9e-3"})(["svg{height:20px !important;position:relative;top:3px;width:20px !important;}"]),D=({theCase:e,connectors:t})=>{var a,n,l,i,c,o,u;const{triggersActionsUi:d}=Object(S.d)().services;if(null==e.externalService)return A(y.m,"case-table-column-external-notPushed");const p=t.find((t=>{var a;return t.id===(null===(a=e.externalService)||void 0===a?void 0:a.connectorId)})),b=null!=e.updatedAt?new Date(e.updatedAt):null,m=null!=(null===(a=e.externalService)||void 0===a?void 0:a.pushedAt)?new Date(null===(n=e.externalService)||void 0===n?void 0:n.pushedAt):null,f=null===m||null!=b&&m.getTime()<(null==b?void 0:b.getTime());return s.a.createElement("p",null,s.a.createElement(N,null,s.a.createElement(r.EuiIcon,{size:"original",title:null===(l=e.externalService)||void 0===l?void 0:l.connectorName,type:Object(w.b)(d,null==p?void 0:p.actionTypeId)})),s.a.createElement(r.EuiLink,{"data-test-subj":"case-table-column-external",title:null===(i=e.externalService)||void 0===i?void 0:i.connectorName,href:null===(c=e.externalService)||void 0===c?void 0:c.externalUrl,target:"_blank","aria-label":y.t(null===(o=e.externalService)||void 0===o?void 0:o.connectorName)},null===(u=e.externalService)||void 0===u?void 0:u.externalTitle),f?A(y.w,"case-table-column-external-requiresUpdate"):A(y.G,"case-table-column-external-upToDate"))};D.displayName="ExternalServiceColumn";var M=a(71),L=a(46),_=a(16),P=a(18);const R={reporters:[],respReporters:[],isLoading:!0,isError:!1},U=c.a.div.withConfig({displayName:"ScrollableDiv",componentId:"sc-1ob1f1e-0"})(["max-height:250px;overflow:auto;"]),B=({buttonLabel:e,onSelectedOptionsChanged:t,options:a,optionsEmptyLabel:l,selectedOptions:i})=>{const[c,o]=Object(n.useState)(!1),u=Object(n.useCallback)((()=>o(!c)),[c]),d=Object(n.useCallback)((e=>t(((e,t)=>{const a=t.indexOf(e);return a>=0?[...t.slice(0,a),...t.slice(a+1)]:[...t,e]})(e,i))),[i,t]);return s.a.createElement(r.EuiPopover,{ownFocus:!0,button:s.a.createElement(r.EuiFilterButton,{"data-test-subj":`options-filter-popover-button-${e}`,iconType:"arrowDown",onClick:u,isSelected:c,numFilters:a.length,hasActiveFilters:i.length>0,numActiveFilters:i.length,"aria-label":e},e),isOpen:c,closePopover:u,panelPaddingSize:"none",repositionOnScroll:!0},s.a.createElement(U,null,a.map(((e,t)=>s.a.createElement(r.EuiFilterSelectItem,{checked:i.includes(e)?"on":void 0,"data-test-subj":`options-filter-popover-item-${t}`,key:`${t}-${e}`,onClick:d.bind(null,e)},e)))),0===a.length&&null!=l&&s.a.createElement(r.EuiFlexGroup,{gutterSize:"m",justifyContent:"spaceAround"},s.a.createElement(r.EuiFlexItem,{grow:!0},s.a.createElement(r.EuiPanel,null,s.a.createElement(r.EuiText,null,l)))))};B.displayName="FilterPopoverComponent";const z=s.a.memo(B);z.displayName="FilterPopover";var H=a(57);const q=({stats:e,selectedStatus:t,onStatusChanged:a,hiddenStatuses:n=[]})=>{const l=Object.keys(H.c),i=[o.b,...l].filter((e=>!n.includes(e))).map((t=>({value:t,inputDisplay:s.a.createElement(r.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",responsive:!1},s.a.createElement(r.EuiFlexItem,{grow:!1},s.a.createElement("span",null,s.a.createElement(H.b,{type:t}))),t!==o.b&&s.a.createElement(r.EuiFlexItem,{grow:!1},` (${e[t]})`)),"data-test-subj":`case-status-filter-${t}`})));return s.a.createElement(r.EuiSuperSelect,{options:i,valueOfSelected:t,onChange:a,"data-test-subj":"case-status-filter"})};q.displayName="StatusFilter";const G=Object(n.memo)(q),$=c()(r.EuiFlexItem).withConfig({displayName:"StatusFilterWrapper",componentId:"sc-1lfje6r-0"})(["&&{flex-basis:180px;}"]),V={search:"",reporters:[],status:o.b,tags:[],owner:[]},Y=({countClosedCases:e,countOpenCases:t,countInProgressCases:a,onFilterChanged:i,initial:c=V,setFilterRefetch:d,hiddenStatuses:p,availableSolutions:b})=>{const[m,f]=Object(n.useState)(c.reporters.map((e=>{var t,a;return null!==(t=null!==(a=e.full_name)&&void 0!==a?a:e.username)&&void 0!==t?t:""}))),[g,E]=Object(n.useState)(c.search),[C,h]=Object(n.useState)(c.tags),[j,O]=Object(n.useState)(c.owner),{tags:v,fetchTags:T}=Object(M.a)(),{reporters:w,respReporters:k,fetchReporters:I}=(()=>{const{owner:e}=Object(P.a)(),[t,a]=Object(n.useState)(R),s=Object(S.g)(),r=Object(n.useRef)(!1),i=Object(n.useRef)(new AbortController),c=Object(n.useCallback)((async()=>{try{r.current=!1,i.current.abort(),i.current=new AbortController,a({...t,isLoading:!0});const n=await Object(L.g)(i.current.signal,e),s=n.map((e=>{var t;return null==e.full_name||Object(l.isEmpty)(e.full_name)?null!==(t=e.username)&&void 0!==t?t:"":e.full_name})).filter((e=>!Object(l.isEmpty)(e)));r.current||a({reporters:s,respReporters:n,isLoading:!1,isError:!1})}catch(e){r.current||("AbortError"!==e.name&&s.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:_.d}),a({reporters:[],respReporters:[],isLoading:!1,isError:!0}))}}),[e,t,s]);return Object(n.useEffect)((()=>(c(),()=>{r.current=!0,i.current.abort()})),[]),{...t,fetchReporters:c}})(),x=Object(n.useCallback)((()=>{T(),I()}),[I,T]);Object(n.useEffect)((()=>{null!=d&&d(x)}),[x,d]);const A=Object(n.useCallback)((e=>{if(!Object(l.isEqual)(e,m)){f(e);const t=k.filter((t=>e.includes(t.username)||e.includes(t.full_name)));i({reporters:t})}}),[m,k,i]);Object(n.useEffect)((()=>{if(m.length){const e=m.filter((e=>w.includes(e)));A(e)}}),[A,w,m]);const F=Object(n.useCallback)((e=>{Object(l.isEqual)(e,C)||(h(e),i({tags:e}))}),[i,C]),N=Object(n.useCallback)((e=>{!Object(l.isEqual)(e,j)&&e.length&&(O(e),i({owner:e}))}),[i,j]);Object(n.useEffect)((()=>{if(C.length){const e=C.filter((e=>v.includes(e)));F(e)}}),[F,C,v]);const D=Object(n.useCallback)((e=>{const t=e.trim();Object(l.isEqual)(t,g)||(E(t),i({search:t}))}),[i,g]),U=Object(n.useCallback)((e=>{i({status:e})}),[i]),B=Object(n.useMemo)((()=>({[o.b]:null,[u.h.open]:null!=t?t:0,[u.h["in-progress"]]:null!=a?a:0,[u.h.closed]:null!=e?e:0})),[e,a,t]);return s.a.createElement(r.EuiFlexGroup,{gutterSize:"s",justifyContent:"flexEnd"},s.a.createElement(r.EuiFlexItem,null,s.a.createElement(r.EuiFlexGroup,{gutterSize:"s"},s.a.createElement(r.EuiFlexItem,null,s.a.createElement(r.EuiFieldSearch,{"aria-label":y.x,"data-test-subj":"search-cases",fullWidth:!0,incremental:!1,placeholder:y.y,onSearch:D})),s.a.createElement($,{grow:!1,"data-test-subj":"status-filter-wrapper"},s.a.createElement(G,{selectedStatus:c.status,onStatusChanged:U,stats:B,hiddenStatuses:p})))),s.a.createElement(r.EuiFlexItem,{grow:!1},s.a.createElement(r.EuiFilterGroup,null,s.a.createElement(z,{buttonLabel:y.v,onSelectedOptionsChanged:A,selectedOptions:m,options:w,optionsEmptyLabel:y.q}),s.a.createElement(z,{buttonLabel:y.E,onSelectedOptionsChanged:F,selectedOptions:C,options:v,optionsEmptyLabel:y.r}),b.length>1&&s.a.createElement(z,{buttonLabel:y.C,onSelectedOptionsChanged:N,selectedOptions:j,options:b}))))};Y.displayName="CasesTableFiltersComponent";const Q=s.a.memo(Y);Q.displayName="CasesTableFilters";var W=a(38),K=a.n(W);const X=c.a.aside.attrs({className:"casesUtilityBar"}).withConfig({displayName:"Bar",componentId:"sc-1504427-0"})(["",""],(({border:e,theme:t})=>Object(i.css)([""," @media only screen and (min-width:","){display:flex;justify-content:space-between;}"],e&&Object(i.css)(["border-bottom:",";padding-bottom:",";"],t.eui.euiBorderThin,t.eui.paddingSizes.s),t.eui.euiBreakpoints.l)));X.displayName="Bar";const J=c.a.div.attrs({className:"casesUtilityBar__section"}).withConfig({displayName:"BarSection",componentId:"sc-1504427-1"})(["",""],(({grow:e,theme:t})=>Object(i.css)(["& + &{margin-top:",";}@media only screen and (min-width:","){display:flex;flex-wrap:wrap;}@media only screen and (min-width:","){& + &{margin-top:0;margin-left:",";}}",""],t.eui.euiSizeS,t.eui.euiBreakpoints.m,t.eui.euiBreakpoints.l,t.eui.euiSize,e&&Object(i.css)(["flex:1;"]))));J.displayName="BarSection";const Z=c.a.div.attrs({className:"casesUtilityBar__group"}).withConfig({displayName:"BarGroup",componentId:"sc-1504427-2"})(["",""],(({grow:e,theme:t})=>Object(i.css)(["align-items:flex-start;display:flex;flex-wrap:wrap;& + &{margin-top:",";}@media only screen and (min-width:","){border-right:",";flex-wrap:nowrap;margin-right:",";padding-right:",";& + &{margin-top:0;}&:last-child{border-right:none;margin-right:0;padding-right:0;}}& > *{margin-right:",";&:last-child{margin-right:0;}}",""],t.eui.euiSizeS,t.eui.euiBreakpoints.m,t.eui.euiBorderThin,t.eui.paddingSizes.m,t.eui.paddingSizes.m,t.eui.euiSize,e&&Object(i.css)(["flex:1;"]))));Z.displayName="BarGroup";const ee=c.a.p.attrs({className:"casesUtilityBar__text"}).withConfig({displayName:"BarText",componentId:"sc-1504427-3"})(["",""],(({theme:e})=>Object(i.css)(["color:",";font-size:",";line-height:",";white-space:nowrap;"],e.eui.euiTextSubduedColor,e.eui.euiFontSizeXS,e.eui.euiLineHeight)));ee.displayName="BarText";const te=c.a.div.attrs({className:"casesUtilityBar__action"}).withConfig({displayName:"BarAction",componentId:"sc-1504427-4"})(["",""],(({theme:e})=>Object(i.css)(["font-size:",";line-height:",";"],e.eui.euiFontSizeXS,e.eui.euiLineHeight)));te.displayName="BarAction";const ae=c.a.div.attrs({className:"casesUtilityBar__spacer"}).withConfig({displayName:"BarSpacer",componentId:"sc-1504427-5"})(["",""],(()=>Object(i.css)(["flex:1;"])));ae.displayName="BarSpacer";const ne=s.a.memo((({border:e,children:t})=>s.a.createElement(X,{border:e},t)));ne.displayName="UtilityBar";var se=a(95);const re=s.a.memo((({children:e,color:t,iconSide:a,iconSize:l,iconType:i,popoverContent:c,disabled:o,ownFocus:u})=>{const[d,p]=Object(n.useState)(!1),b=Object(n.useCallback)((()=>p(!1)),[p]);return s.a.createElement(r.EuiPopover,{ownFocus:u,button:s.a.createElement(se.a,{color:t,iconSide:a,iconSize:l,iconType:i,onClick:()=>p(!d),disabled:o},e),closePopover:()=>p(!1),isOpen:d,repositionOnScroll:!0},null==c?void 0:c(b))}));re.displayName="Popover";const le=s.a.memo((({children:e,color:t,dataTestSubj:a,disabled:n,href:r,iconSide:l,iconSize:i,iconType:c,ownFocus:o,onClick:u,popoverContent:d})=>s.a.createElement(te,{"data-test-subj":a},d?s.a.createElement(re,{disabled:n,color:t,iconSide:l,iconSize:i,iconType:c,ownFocus:o,popoverContent:d},e):s.a.createElement(se.a,{color:t,disabled:n,href:r,iconSide:l,iconSize:i,iconType:c,onClick:u},e))));le.displayName="UtilityBarAction";const ie=s.a.memo((({grow:e,children:t})=>s.a.createElement(Z,{grow:e},t)));ie.displayName="UtilityBarGroup";const ce=s.a.memo((({grow:e,children:t})=>s.a.createElement(J,{grow:e},t)));ce.displayName="UtilityBarSection";s.a.memo((({dataTestSubj:e})=>s.a.createElement(ae,{"data-test-subj":e}))).displayName="UtilityBarSpacer";const oe=s.a.memo((({children:e,dataTestSubj:t})=>s.a.createElement(ee,{"data-test-subj":t},e)));oe.displayName="UtilityBarText";const ue=a(1).i18n.translate("xpack.cases.caseTable.bulkActions.deleteSelectedTitle",{defaultMessage:"Delete selected"}),de=({caseStatus:e,closePopover:t,deleteCasesAction:a,selectedCases:n,updateCaseStatus:l})=>{let i=[];const c=s.a.createElement(r.EuiContextMenuItem,{"data-test-subj":"cases-bulk-open-button",disabled:0===n.length,icon:H.c[u.h.open].icon,key:"cases-bulk-open-button",onClick:()=>{t(),l(u.h.open)}},H.c[u.h.open].actions.bulk.title),o=s.a.createElement(r.EuiContextMenuItem,{"data-test-subj":"cases-bulk-in-progress-button",disabled:0===n.length,icon:H.c[u.h["in-progress"]].icon,key:"cases-bulk-in-progress-button",onClick:()=>{t(),l(u.h["in-progress"])}},H.c[u.h["in-progress"]].actions.bulk.title),d=s.a.createElement(r.EuiContextMenuItem,{"data-test-subj":"cases-bulk-close-button",disabled:0===n.length,icon:H.c[u.h.closed].icon,key:"cases-bulk-close-button",onClick:()=>{t(),l(u.h.closed)}},H.c[u.h.closed].actions.bulk.title);switch(e){case u.h.open:i=[o,d];break;case u.h["in-progress"]:i=[c,d];break;case u.h.closed:i=[c,o]}return[...i,s.a.createElement(r.EuiContextMenuItem,{"data-test-subj":"cases-bulk-delete-button",key:ue,icon:"trash",disabled:0===n.length,onClick:()=>{t(),a(n)}},ue)]},pe=(e,t)=>{switch(t.type){case"FETCH_INIT":return{...e,isLoading:!0,isError:!1};case"FETCH_SUCCESS":return{...e,isLoading:!1,isError:!1,isUpdated:t.payload};case"FETCH_FAILURE":return{...e,isLoading:!1,isError:!0};case"RESET_IS_UPDATED":return{...e,isUpdated:!1};default:return e}},be=()=>{const[e,t]=Object(n.useReducer)(pe,{isLoading:!1,isError:!1,isUpdated:!1}),a=Object(S.g)(),s=Object(n.useRef)(!1),r=Object(n.useRef)(new AbortController),l=Object(n.useCallback)((async(e,n)=>{try{s.current=!1,r.current.abort(),r.current=new AbortController,t({type:"FETCH_INIT"});const l=await Object(L.j)(e,r.current.signal);if(!s.current){const e=Object.keys(l).length,s=l[0].title;t({type:"FETCH_SUCCESS",payload:!0});const r={totalCases:e,caseTitle:1===e?s:""},i="status"===n?((e,t)=>e===u.h.open?_.f(t):e===u.h["in-progress"]?_.e(t):e===u.h.closed?_.a(t):"")(l[0].status,r):"";a.addSuccess(i)}}catch(e){s.current||("AbortError"!==e.name&&a.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:_.d}),t({type:"FETCH_FAILURE"}))}}),[]),i=Object(n.useCallback)((()=>{t({type:"RESET_IS_UPDATED"})}),[]),c=Object(n.useCallback)(((e,t)=>{const a=e.map((e=>({status:t,id:e.id,version:e.version})));l(a,"status")}),[]);return Object(n.useEffect)((()=>()=>{s.current=!0,r.current.abort()}),[]),{...e,updateBulkStatus:c,dispatchResetIsUpdated:i}},me=({data:e,enableBulkActions:t=!1,filterOptions:a,handleIsLoading:l,refreshCases:i,selectedCases:c})=>{var o,u,d;const[p,b]=Object(n.useState)([]),{dispatchResetIsDeleted:m,handleOnDeleteConfirm:f,handleToggleModal:g,isLoading:E,isDeleted:C,isDisplayConfirmDeleteModal:h}=Object(j.a)(),{dispatchResetIsUpdated:S,isLoading:v,isUpdated:T,updateBulkStatus:w}=be();Object(n.useEffect)((()=>{l(E)}),[l,E]),Object(n.useEffect)((()=>{l(v)}),[l,v]),Object(n.useEffect)((()=>{C&&(null!=i&&i(),m()),T&&(null!=i&&i(),S())}),[C,T,i,m,S]);const k=Object(n.useCallback)((e=>{g();const t=e.map((({id:e,title:t})=>({id:e,title:t})));b(t)}),[b,g]),I=Object(n.useCallback)((e=>{w(c,e)}),[c,w]),x=Object(n.useCallback)((e=>s.a.createElement(r.EuiContextMenuPanel,{"data-test-subj":"cases-bulk-actions",items:de({caseStatus:a.status,closePopover:e,deleteCasesAction:k,selectedCases:c,updateCaseStatus:I})})),[c,a.status,k,I]);return s.a.createElement(ne,{border:!0},s.a.createElement(ce,null,s.a.createElement(ie,null,s.a.createElement(oe,{"data-test-subj":"case-table-case-count"},y.A(null!==(o=e.total)&&void 0!==o?o:0))),s.a.createElement(ie,{"data-test-subj":"case-table-utility-bar-actions"},t&&s.a.createElement(s.a.Fragment,null,s.a.createElement(oe,{"data-test-subj":"case-table-selected-case-count"},y.B(c.length)),s.a.createElement(le,{"data-test-subj":"case-table-bulk-actions",iconSide:"right",iconType:"arrowDown",popoverContent:x},y.b)),s.a.createElement(le,{iconSide:"left",iconType:"refresh",onClick:i,dataTestSubj:"all-cases-refresh"},y.u))),s.a.createElement(O.a,{caseTitle:null!==(u=null===(d=p[0])||void 0===d?void 0:d.title)&&void 0!==u?u:"",isModalVisible:h,caseQuantity:p.length,onCancel:g,onConfirm:f.bind(null,p)}))};me.displayName="CasesTableUtilityBar";var fe=a(10);const ge=c.a.div.withConfig({displayName:"Div",componentId:"sc-r0db03-0"})(["margin-top:",";"],(({theme:e})=>e.eui.paddingSizes.m)),Ee=({columns:e,data:t,filterOptions:a,goToCreateCase:l,handleIsLoading:i,isCasesLoading:c,isCommentUpdating:o,isDataEmpty:u,isSelectorView:d,onChange:p,pagination:b,refreshCases:m,selectedCases:f,selection:g,showActions:E,sorting:h,tableRef:j,tableRowProps:O,userCanCrud:S})=>{const{getCreateCaseUrl:v,navigateToCreateCase:T}=Object(fe.m)(),w=Object(n.useCallback)((e=>{e.preventDefault(),null!=l?l():T()}),[l,T]);return c&&u?s.a.createElement(ge,null,s.a.createElement(r.EuiLoadingContent,{"data-test-subj":"initialLoadingPanelAllCases",lines:10})):s.a.createElement(ge,null,s.a.createElement(me,{data:t,enableBulkActions:E,filterOptions:a,handleIsLoading:i,selectedCases:f,refreshCases:m}),s.a.createElement(r.EuiBasicTable,{className:K()({isSelectorView:d}),columns:e,"data-test-subj":"cases-table",isSelectable:E,itemId:"id",items:t.cases,loading:o,noItemsMessage:s.a.createElement(r.EuiEmptyPrompt,{title:s.a.createElement("h3",null,y.n),titleSize:"xs",body:S?y.o:y.p,actions:S&&s.a.createElement(C.d,{isDisabled:!S,fill:!0,size:"s",onClick:w,href:v(),iconType:"plusInCircle","data-test-subj":"cases-table-add-case"},y.i)}),onChange:p,pagination:b,ref:j,rowProps:O,selection:E?g:void 0,sorting:h}))};Ee.displayName="CasesTable";var Ce=a(61);const ye=c()(r.EuiProgress).withConfig({displayName:"ProgressLoader",componentId:"sc-jy6jw0-0"})(["",""],(({$isShow:e})=>e?Object(i.css)(["top:2px;border-radius:",";z-index:",";"],(({theme:e})=>e.eui.euiBorderRadius),(({theme:e})=>e.eui.euiZHeader)):"\n      display: none;\n    ")),he=s.a.memo((({alertData:e,hiddenStatuses:t=[],isSelectorView:a=!1,onRowClick:r,updateCase:i,doRefresh:c})=>{const{owner:m,userCanCrud:f}=Object(P.a)(),g=!!m.length,E=Object(b.a)(),C=Object(l.head)(Object(l.difference)(u.q,t)),y={...!Object(l.isEmpty)(t)&&C&&{status:C},owner:g?m:E},{data:h,dispatchUpdateCaseProperty:j,filterOptions:O,loading:S,queryParams:v,selectedCases:T,refetchCases:w,setFilters:k,setQueryParams:I,setSelectedCases:x}=Object(d.a)({initialFilterOptions:y}),{postComment:A,isLoading:N}=Object(p.a)(),{connectors:D}=Object(Ce.a)({toastPermissionsErrors:!1}),M=Object(n.useMemo)((()=>({sort:{field:v.sortField,direction:v.sortOrder}})),[v.sortField,v.sortOrder]),L=Object(n.useRef)(),_=Object(n.useRef)(null),[R,U]=Object(n.useState)(!1),B=Object(n.useCallback)((e=>{L.current=e}),[L]),z=Object(n.useCallback)((()=>{var e;x([]),null===(e=_.current)||void 0===e||e.setSelection([])}),[x]),H=Object(n.useCallback)(((e=!0)=>{z(),e&&w(),c&&c(),null!=L.current&&L.current()}),[z,c,w]),q=Object(n.useCallback)((({page:e,sort:t})=>{let a=v;var n;t&&(a={...a,sortField:(n=t.field,n===o.a.closedAt?o.a.closedAt:o.a.createdAt),sortOrder:t.direction}),e&&(a={...a,page:e.index+1,perPage:e.size}),I(a),H(!1)}),[v,H,I]),G=Object(n.useCallback)((e=>{e.status&&e.status===u.h.closed?I({sortField:o.a.closedAt}):(e.status&&e.status===u.h.open||e.status&&e.status===u.h["in-progress"])&&I({sortField:o.a.createdAt}),z(),k(e),H(!1)}),[z,k,H,I]),$=f&&!a,V=F({dispatchUpdateCaseProperty:j,filterStatus:O.status,handleIsLoading:U,isLoadingCases:S,refreshCases:H,isSelectorView:a,userCanCrud:f,connectors:D,onRowClick:r,alertData:e,postComment:A,updateCase:i,showSolutionColumn:!g&&E.length>1}),Y=Object(n.useMemo)((()=>({pageIndex:v.page-1,pageSize:v.perPage,totalItemCount:h.total,pageSizeOptions:[5,10,15,20,25]})),[h,v]),W=Object(n.useMemo)((()=>({onSelectionChange:x,initialSelected:T})),[T,x]),K=Object(n.useMemo)((()=>S.indexOf("cases")>-1),[S]),X=Object(n.useMemo)((()=>0===h.total),[h]),J=Object(n.useCallback)((e=>({"data-test-subj":`cases-table-row-${e.id}`})),[]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(ye,{size:"xs",color:"accent",className:"essentialAnimation",$isShow:(K||R||N)&&!X}),s.a.createElement(Q,{countClosedCases:h.countClosedCases,countOpenCases:h.countOpenCases,countInProgressCases:h.countInProgressCases,onFilterChanged:G,availableSolutions:g?[]:E,initial:{search:O.search,reporters:O.reporters,tags:O.tags,status:O.status,owner:O.owner},setFilterRefetch:B,hiddenStatuses:t}),s.a.createElement(Ee,{columns:V,data:h,filterOptions:O,goToCreateCase:r,handleIsLoading:U,isCasesLoading:K,isCommentUpdating:N,isDataEmpty:X,isSelectorView:a,onChange:q,pagination:Y,refreshCases:H,selectedCases:T,selection:W,showActions:$,sorting:M,tableRef:_,tableRowProps:J,userCanCrud:f}))}));he.displayName="AllCasesList"},47:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return u}));var n=a(3),s=a(70),r=a(60);const l=(e,t)=>{var a;return null!==(a=t.find((t=>t.id===e)))&&void 0!==a?a:null},i={[n.n.swimlane]:s.a,[n.n.serviceNowITSM]:r.a,[n.n.serviceNowSIR]:r.a},c=({connectors:e=[],config:t={}})=>({...t,validations:[{validator:({value:t})=>{const a=l(t,e);var n;if(null!=a)return null===(n=i[a.actionTypeId])||void 0===n?void 0:n.call(i,a)}}]}),o=(e,t)=>{if(null==t)return"";try{if(e.actionTypeRegistry.has(t))return e.actionTypeRegistry.get(t).iconClass}catch{return""}return""},u=e=>null!=e&&((".servicenow"===e.actionTypeId||".servicenow-sir"===e.actionTypeId)&&!!e.config.usesTableApi)},49:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return m}));var n=a(11),s=a(2),r=a.n(s),l=a(10),i=a(1);const c=e=>i.i18n.translate("xpack.cases.caseTable.caseDetailsLinkAria",{values:{detailName:e},defaultMessage:"click to visit case with title {detailName}"}),o=({children:e,...t})=>r.a.createElement(n.EuiButton,t,e),u=({children:e,...t})=>r.a.createElement(n.EuiLink,t,e),d=({children:e,detailName:t,title:a})=>{const{getCaseViewUrl:n,navigateToCaseView:i}=Object(l.j)(),o=Object(s.useCallback)((e=>{e.preventDefault(),i({detailName:t})}),[i,t]);return r.a.createElement(u,{onClick:o,href:n({detailName:t}),"data-test-subj":"case-details-link","aria-label":c(null!=a?a:t)},e||t)},p=r.a.memo(d);p.displayName="CaseDetailsLink";const b=({isDisabled:e,label:t,msgTooltip:a,showToolTip:i,titleTooltip:c})=>{const{getConfigureCasesUrl:u,navigateToConfigureCases:d}=Object(l.l)(),p=Object(s.useCallback)((e=>{e.preventDefault(),d()}),[d]),b=Object(s.useMemo)((()=>r.a.createElement(o,{onClick:p,href:u(),iconType:"controlsHorizontal",isDisabled:e,"aria-label":t,"data-test-subj":"configure-case-button"},t)),[t,e,p,u]);return i?r.a.createElement(n.EuiToolTip,{position:"top",title:c,content:r.a.createElement("p",null,a),"data-test-subj":"configure-case-tooltip"},b):r.a.createElement(r.a.Fragment,null,b)},m=r.a.memo(b);m.displayName="ConfigureCaseButton"},50:function(e,t,a){"use strict";a.d(t,"n",(function(){return r})),a.d(t,"o",(function(){return l})),a.d(t,"p",(function(){return i})),a.d(t,"B",(function(){return c})),a.d(t,"A",(function(){return o})),a.d(t,"x",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"k",(function(){return p})),a.d(t,"y",(function(){return b})),a.d(t,"d",(function(){return m})),a.d(t,"z",(function(){return f})),a.d(t,"w",(function(){return g})),a.d(t,"G",(function(){return E})),a.d(t,"m",(function(){return C})),a.d(t,"u",(function(){return y})),a.d(t,"t",(function(){return h})),a.d(t,"D",(function(){return j})),a.d(t,"c",(function(){return O}));var n=a(1),s=a(21);a.d(t,"a",(function(){return s.a})),a.d(t,"e",(function(){return s.j})),a.d(t,"f",(function(){return s.l})),a.d(t,"g",(function(){return s.n})),a.d(t,"h",(function(){return s.p})),a.d(t,"i",(function(){return s.r})),a.d(t,"j",(function(){return s.s})),a.d(t,"l",(function(){return s.A})),a.d(t,"q",(function(){return s.C})),a.d(t,"r",(function(){return s.E})),a.d(t,"s",(function(){return s.I})),a.d(t,"v",(function(){return s.L})),a.d(t,"C",(function(){return s.P})),a.d(t,"E",(function(){return s.U})),a.d(t,"F",(function(){return s.Z}));const r=n.i18n.translate("xpack.cases.caseTable.noCases.title",{defaultMessage:"No cases to display"}),l=n.i18n.translate("xpack.cases.caseTable.noCases.body",{defaultMessage:"Create a case or edit your filters."}),i=n.i18n.translate("xpack.cases.caseTable.noCases.readonly.body",{defaultMessage:"Edit your filter settings."}),c=e=>n.i18n.translate("xpack.cases.caseTable.selectedCasesTitle",{values:{totalRules:e},defaultMessage:"Selected {totalRules} {totalRules, plural, =1 {case} other {cases}}"}),o=e=>n.i18n.translate("xpack.cases.caseTable.showingCasesTitle",{values:{totalRules:e},defaultMessage:"Showing {totalRules} {totalRules, plural, =1 {case} other {cases}}"}),u=n.i18n.translate("xpack.cases.caseTable.searchAriaLabel",{defaultMessage:"Search cases"}),d=n.i18n.translate("xpack.cases.caseTable.bulkActions",{defaultMessage:"Bulk actions"}),p=n.i18n.translate("xpack.cases.caseTable.snIncident",{defaultMessage:"External Incident"}),b=(n.i18n.translate("xpack.cases.caseTable.incidentSystem",{defaultMessage:"Incident Management System"}),n.i18n.translate("xpack.cases.caseTable.searchPlaceholder",{defaultMessage:"e.g. case name"})),m=n.i18n.translate("xpack.cases.caseTable.closed",{defaultMessage:"Closed"}),f=(n.i18n.translate("xpack.cases.caseTable.delete",{defaultMessage:"Delete"}),n.i18n.translate("xpack.cases.caseTable.select",{defaultMessage:"Select"})),g=n.i18n.translate("xpack.cases.caseTable.requiresUpdate",{defaultMessage:" requires update"}),E=n.i18n.translate("xpack.cases.caseTable.upToDate",{defaultMessage:" is up to date"}),C=n.i18n.translate("xpack.cases.caseTable.notPushed",{defaultMessage:"Not pushed"}),y=n.i18n.translate("xpack.cases.caseTable.refreshTitle",{defaultMessage:"Refresh"}),h=e=>n.i18n.translate("xpack.cases.caseTable.pushLinkAria",{values:{thirdPartyName:e},defaultMessage:"click to view the incident on { thirdPartyName }."}),j=n.i18n.translate("xpack.cases.caseTable.status",{defaultMessage:"Status"}),O=n.i18n.translate("xpack.cases.caseTable.changeStatus",{defaultMessage:"Change status"})},57:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return o.b})),a.d(t,"a",(function(){return f}));var n=a(58),s=a.n(n),r=a(2),l=a.n(r),i=a(22),c=a(11),o=a(59),u=a(94),d=a(23);const p=({type:e,disabled:t=!1,withArrow:a=!1,onClick:n=i.noop})=>{const p=Object(r.useMemo)((()=>({color:e===d.b?o.a[d.b].color:o.b[e].color,...a&&!t?{iconType:"arrowDown",iconSide:"right"}:{},...t?{iconOnClick:i.noop}:{iconOnClick:n}})),[t,n,a,e]);return l.a.createElement(c.EuiBadge,s()({},p,{iconOnClickAriaLabel:u.r,"data-test-subj":`status-badge-${e}`}),e===d.b?o.a[d.b].label:o.b[e].label)};p.displayName="Status";const b=Object(r.memo)(p),m=({caseCount:e,caseStatus:t,isLoading:a,dataTestSubj:n})=>{const s=Object(r.useMemo)((()=>[{title:o.b[t].stats.title,description:a?l.a.createElement(c.EuiLoadingSpinner,{"data-test-subj":`${n}-loading-spinner`}):null!=e?e:"N/A"}]),[e,t,n,a]);return l.a.createElement(c.EuiDescriptionList,{"data-test-subj":n,textStyle:"reverse",listItems:s})};m.displayName="StatsComponent";const f=Object(r.memo)(m)},59:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return i}));var n=a(23),s=a(3),r=a(94);const l={[n.b]:{color:"hollow",label:r.a}},i={[s.h.open]:{color:"primary",label:r.n,icon:"folderOpen",actions:{bulk:{title:r.d},single:{title:r.o}},actionBar:{title:r.g},button:{label:r.q},stats:{title:r.p}},[s.h["in-progress"]]:{color:"warning",label:r.k,icon:"folderExclamation",actions:{bulk:{title:r.c},single:{title:r.m}},actionBar:{title:r.f},button:{label:r.m},stats:{title:r.l}},[s.h.closed]:{color:"default",label:r.h,icon:"folderCheck",actions:{bulk:{title:r.b},single:{title:r.j}},actionBar:{title:r.e},button:{label:r.j},stats:{title:r.i}}}},60:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=e=>{const{config:{usesTableApi:t}}=e;if(t)return{message:"Deprecated connector"}}},61:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(2),s=a(62),r=a(13),l=a(72);const i=({toastPermissionsErrors:e=!0}={})=>{const t=Object(r.g)(),[a,i]=Object(n.useState)({loading:!0,connectors:[]}),c=Object(n.useRef)(!1),o=Object(n.useRef)(new AbortController),u=Object(n.useCallback)((async()=>{try{c.current=!1,o.current.abort(),o.current=new AbortController,i({...a,loading:!0});const e=await Object(s.b)({signal:o.current.signal});c.current||i({loading:!1,connectors:e})}catch(a){if(!c.current){let s;var n,r;if("AbortError"!==a.name)403!==(null===(n=a.body)||void 0===n?void 0:n.statusCode)&&401!==(null===(r=a.body)||void 0===r?void 0:r.statusCode)||(s=l.b),(void 0===s||e)&&t.addError(a.body&&a.body.message?new Error(a.body.message):a,{title:l.a});i({loading:!1,connectors:[],permissionsError:s})}}}),[]);return Object(n.useEffect)((()=>(u(),()=>{c.current=!0,o.current.abort()})),[]),{loading:a.loading,connectors:a.connectors,refetchConnectors:u,permissionsError:a.permissionsError}}},62:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"a",(function(){return b}));var n=a(22),s=a(19),r=a(3),l=a(4),i=a(13),c=a(24);const o=async({signal:e})=>await i.a.get().http.fetch(`${l.g}/_find`,{method:"GET",signal:e}),u=async({signal:e,owner:t})=>{const a=await i.a.get().http.fetch(l.i,{method:"GET",signal:e,query:{...t.length>0?{owner:t}:{}}});if(!Object(n.isEmpty)(a)){const e=Object(c.e)(a);if(Array.isArray(e)&&e.length>0)return Object(c.c)(e[0])}return null},d=async(e,t)=>{const a=await i.a.get().http.fetch(l.i,{method:"POST",body:JSON.stringify(e),signal:t});return Object(c.c)(Object(c.f)(a))},p=async(e,t,a)=>{const n=await i.a.get().http.fetch(Object(r.s)(e),{method:"PATCH",body:JSON.stringify(t),signal:a});return Object(c.c)(Object(c.f)(n))},b=async({signal:e})=>{const t=await i.a.get().http.fetch(Object(s.a)(),{method:"GET",signal:e});return Object(c.b)(t)}},68:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(2),s=a(46),r=a(16),l=a(13);const i=(e,t)=>{switch(t.type){case"FETCH_INIT":return{isLoading:!0,isError:!1};case"FETCH_SUCCESS":return{isLoading:!1,isError:!1};case"FETCH_FAILURE":return{isLoading:!1,isError:!0};default:return e}},c=()=>{const[e,t]=Object(n.useReducer)(i,{isLoading:!1,isError:!1}),a=Object(l.g)(),c=Object(n.useRef)(!1),o=Object(n.useRef)(new AbortController),u=Object(n.useCallback)((async({caseId:e,data:n,updateCase:l})=>{try{c.current=!1,o.current.abort(),o.current=new AbortController,t({type:"FETCH_INIT"});const a=await Object(s.m)(n,e,o.current.signal);c.current||(t({type:"FETCH_SUCCESS"}),l&&l(a))}catch(e){c.current||("AbortError"!==e.name&&a.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:r.d}),t({type:"FETCH_FAILURE"}))}}),[a]);return Object(n.useEffect)((()=>()=>{c.current=!0,o.current.abort()}),[]),{...e,postComment:u}}},69:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(2),s=a.n(n),r=a(34);const l=a.n(r).a.span.withConfig({displayName:"Text",componentId:"sc-x34vmt-0"})(["text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:",";-webkit-box-orient:vertical;overflow:hidden;word-break:normal;"],3),i=({text:e})=>s.a.createElement(l,{title:e},e);i.displayName="TruncatedText";const c=s.a.memo(i)},70:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(3);const s=["caseIdConfig","caseNameConfig","descriptionConfig","commentsConfig"],r=e=>{const{config:{mappings:t,connectorType:a}}=e;if(a===n.p.Alerts||(r=t,s.some((e=>null==(null==r?void 0:r[e])))))return{message:"Invalid connector"};var r}},71:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(2),s=a(13),r=a(18),l=a(46),i=a(16);const c=(e,t)=>{switch(t.type){case"FETCH_INIT":return{...e,isLoading:!0,isError:!1};case"FETCH_SUCCESS":return{...e,isLoading:!1,isError:!1,tags:t.payload};case"FETCH_FAILURE":return{...e,isLoading:!1,isError:!0};default:return e}},o=[],u=()=>{const{owner:e}=Object(r.a)(),[t,a]=Object(n.useReducer)(c,{isLoading:!0,isError:!1,tags:o}),u=Object(s.g)(),d=Object(n.useRef)(!1),p=Object(n.useRef)(new AbortController),b=Object(n.useCallback)((async()=>{try{d.current=!1,p.current.abort(),p.current=new AbortController,a({type:"FETCH_INIT"});const t=await Object(l.h)(p.current.signal,e);d.current||a({type:"FETCH_SUCCESS",payload:t})}catch(e){d.current||("AbortError"!==e.name&&u.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:i.d}),a({type:"FETCH_FAILURE"}))}}),[]);return Object(n.useEffect)((()=>(b(),()=>{d.current=!0,p.current.abort()})),[]),{...t,fetchTags:b}}},72:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return l}));var n=a(1),s=a(16);a.d(t,"a",(function(){return s.d}));const r=n.i18n.translate("xpack.cases.configure.successSaveToast",{defaultMessage:"Saved external connection settings"}),l=n.i18n.translate("xpack.cases.configure.readPermissionsErrorDescription",{defaultMessage:"You do not have permissions to view connectors. If you would like to view the connectors associated with this case, contact your Kibana administrator."})},75:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(13);const s=(e="crud")=>{const{capabilities:t}=Object(n.d)().services.application,a=`${e}_cases`;return Object.entries(t).reduce(((e,[t,n])=>(t.endsWith("Cases")&&n[a]&&e.push(t.replace("Cases","")),e)),[])}},76:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(25),s=a.n(n),r=a(2),l=a.n(r),i=a(36),c=a(13),o=a(88),u=a(91),d=a(92);const p=l.a.memo((({value:e,dateFormat:t,stripMs:a=!1})=>{const n=Object(c.c)(),r=t||n,i=r&&a?r.replace(/\.?SSS/,""):r;return l.a.createElement(l.a.Fragment,null,s.a.tz(e,Object(c.f)()).format(i))}));p.displayName="PreferenceFormattedDate";const b=e=>Array.isArray(e)&&"P1DT"===e[0]&&2===e.length;l.a.memo((({value:e})=>{const[t]=Object(c.h)("dateFormat:scaled"),a=Array.isArray(t)?t.find(b):null,n=Array.isArray(a)&&2===a.length?a[1]:"YYYY-MM-DD";return l.a.createElement(p,{dateFormat:n,value:e})})).displayName="PreferenceFormattedP1DTDate";l.a.memo((({value:e,fieldName:t,className:a=""})=>{if(null==e)return Object(o.b)(e);const n=Object(d.a)(e);return n.isValid()?l.a.createElement(u.a,{date:n.toDate(),fieldName:t,className:a},l.a.createElement(p,{value:n.toDate()})):Object(o.b)(e)})).displayName="FormattedDate";const m=({value:e,stripMs:t=!1})=>{if(null==e)return Object(o.b)(e);const a=Object(d.a)(e);if(!a.isValid())return Object(o.b)(e);const n=a.toDate();return l.a.createElement(u.a,{date:n},s()(n).add(1,"hours").isBefore(new Date)?l.a.createElement(p,{"data-test-subj":"preference-time",value:n,stripMs:t}):l.a.createElement(i.FormattedRelative,{"data-test-subj":"relative-time",value:n}))};m.displayName="FormattedRelativePreferenceDate"},77:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(2),s=a(16),r=a(46),l=a(13);const i=(e,t)=>{switch(t.type){case"DISPLAY_MODAL":return{...e,isDisplayConfirmDeleteModal:t.payload};case"FETCH_INIT":return{...e,isLoading:!0,isError:!1};case"FETCH_SUCCESS":return{...e,isLoading:!1,isError:!1,isDeleted:t.payload};case"FETCH_FAILURE":return{...e,isLoading:!1,isError:!0};case"RESET_IS_DELETED":return{...e,isDeleted:!1};default:return e}},c=()=>{const[e,t]=Object(n.useReducer)(i,{isDisplayConfirmDeleteModal:!1,isLoading:!1,isError:!1,isDeleted:!1}),a=Object(l.g)(),c=Object(n.useRef)(!1),o=Object(n.useRef)(new AbortController),u=Object(n.useCallback)((async e=>{try{c.current=!1,o.current.abort(),o.current=new AbortController,t({type:"FETCH_INIT"});const n=e.map((e=>e.id));e.length>0&&await Object(r.a)(n,o.current.signal),c.current||(t({type:"FETCH_SUCCESS",payload:!0}),a.addSuccess(s.b(e.length,1===e.length?e[0].title:"")))}catch(e){c.current||("AbortError"!==e.name&&a.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:s.c}),t({type:"FETCH_FAILURE"}))}}),[]),d=Object(n.useCallback)((()=>{t({type:"DISPLAY_MODAL",payload:!e.isDisplayConfirmDeleteModal})}),[e.isDisplayConfirmDeleteModal]),p=Object(n.useCallback)((()=>{t({type:"RESET_IS_DELETED"})}),[e.isDisplayConfirmDeleteModal]),b=Object(n.useCallback)((e=>{u(e),d()}),[e.isDisplayConfirmDeleteModal]),m=Object(n.useCallback)((()=>{d()}),[e.isDisplayConfirmDeleteModal]);return Object(n.useEffect)((()=>()=>{c.current=!0,o.current.abort()}),[]),{...e,dispatchResetIsDeleted:p,handleOnDeleteConfirm:b,handleToggleModal:m}}},87:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(2);var s=a(67),r=a(13),l=a(16),i=a(46);const c=(e,t)=>{switch(t.type){case"FETCH_INIT":return{...e,isError:!1,loading:[...e.loading.filter((e=>e!==t.payload)),t.payload]};case"FETCH_UPDATE_CASE_SUCCESS":return{...e,loading:e.loading.filter((e=>"caseUpdate"!==e))};case"FETCH_CASES_SUCCESS":return{...e,data:t.payload,isError:!1,loading:e.loading.filter((e=>"cases"!==e))};case"FETCH_FAILURE":return{...e,isError:!0,loading:e.loading.filter((e=>e!==t.payload))};case"UPDATE_FILTER_OPTIONS":return{...e,filterOptions:{...e.filterOptions,...t.payload}};case"UPDATE_QUERY_PARAMS":return{...e,queryParams:{...e.queryParams,...t.payload}};case"UPDATE_TABLE_SELECTIONS":return{...e,selectedCases:t.payload};default:return e}},o={search:"",reporters:[],status:s.b,tags:[],owner:[]},u={page:1,perPage:5,sortField:s.a.createdAt,sortOrder:"desc"},d={cases:[],countClosedCases:null,countInProgressCases:null,countOpenCases:null,page:0,perPage:0,total:0},p={},b=(e={})=>{const{initialQueryParams:t=p,initialFilterOptions:a=p}=e,[s,b]=Object(n.useReducer)(c,{data:d,filterOptions:{...o,...a},isError:!1,loading:[],queryParams:{...u,...t},selectedCases:[]}),m=Object(r.g)(),f=Object(n.useRef)(!1),g=Object(n.useRef)(!1),E=Object(n.useRef)(new AbortController),C=Object(n.useRef)(new AbortController),y=Object(n.useCallback)((e=>{b({type:"UPDATE_TABLE_SELECTIONS",payload:e})}),[]),h=Object(n.useCallback)((e=>{b({type:"UPDATE_QUERY_PARAMS",payload:e})}),[]),j=Object(n.useCallback)((e=>{b({type:"UPDATE_FILTER_OPTIONS",payload:e})}),[]),O=Object(n.useCallback)((async(e,t)=>{try{f.current=!1,E.current.abort(),E.current=new AbortController,b({type:"FETCH_INIT",payload:"cases"});const a=await Object(i.e)({filterOptions:e,queryParams:t,signal:E.current.signal});f.current||b({type:"FETCH_CASES_SUCCESS",payload:a})}catch(e){f.current||("AbortError"!==e.name&&m.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:l.d}),b({type:"FETCH_FAILURE",payload:"cases"}))}}),[m]),S=Object(n.useCallback)((async({updateKey:e,updateValue:t,caseId:a,refetchCasesStatus:n,version:r})=>{const c=s.data.cases.find((e=>e.id===a));try{g.current=!1,C.current.abort(),C.current=new AbortController,b({type:"FETCH_INIT",payload:"caseUpdate"}),await Object(i.i)(a,{[e]:t},null!=r?r:"",C.current.signal),g.current||(b({type:"FETCH_UPDATE_CASE_SUCCESS"}),O(s.filterOptions,s.queryParams),n(),c&&m.addSuccess({title:l.j(c.title),text:"status"===e&&c.totalAlerts>0&&c.settings.syncAlerts?l.g:void 0}))}catch(e){g.current||("AbortError"!==e.name&&m.addError(e,{title:l.d}),b({type:"FETCH_FAILURE",payload:"caseUpdate"}))}}),[O,s.data,s.filterOptions,s.queryParams,m]),v=Object(n.useCallback)((()=>{O(s.filterOptions,s.queryParams)}),[s.filterOptions,s.queryParams]);return Object(n.useEffect)((()=>(O(s.filterOptions,s.queryParams),()=>{f.current=!0,g.current=!0,E.current.abort(),C.current.abort()})),[s.queryParams,s.filterOptions]),{...s,dispatchUpdateCaseProperty:S,refetchCases:v,setFilters:j,setQueryParams:h,setSelectedCases:y}}},88:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return d}));a(22);var n=a(2),s=a.n(n),r=a(34),l=a.n(r);const i=a(1).i18n.translate("xpack.cases.emptyString.emptyStringDescription",{defaultMessage:"Empty String"}),c=l.a.span.withConfig({displayName:"EmptyWrapper",componentId:"sc-ba5wo-0"})(["color:",";"],(e=>e.theme.eui.euiColorMediumShade));c.displayName="EmptyWrapper";const o=()=>s.a.createElement(c,null,"—"),u=()=>s.a.createElement(c,null,`(${i})`),d=e=>null==e?o():""===e?u():s.a.createElement(s.a.Fragment,null,e)},89:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(2),s=a.n(n),r=a(11),l=a(1),i=a(21);const c=({caseTitle:e,isModalVisible:t,caseQuantity:a=1,onCancel:n,onConfirm:c})=>{return t?s.a.createElement(r.EuiConfirmModal,{buttonColor:"danger",cancelButtonText:i.g,confirmButtonText:i.s(a),"data-test-subj":"confirm-delete-case-modal",defaultFocusedButton:"confirm",onCancel:n,onConfirm:c,title:(o=a,u=e,l.i18n.translate("xpack.cases.confirmDeleteCase.selectedCases",{values:{quantity:o,title:u},defaultMessage:'Delete "{quantity, plural, =1 {{title}} other {Selected {quantity} cases}}"'}))},(e=>l.i18n.translate("xpack.cases.confirmDeleteCase.confirmQuestion",{values:{quantity:e},defaultMessage:"By deleting {quantity, plural, =1 {this case} other {these cases}}, all related case data will be permanently removed and you will no longer be able to push data to an external incident management system. Are you sure you wish to proceed?"}))(a)):null;var o,u};c.displayName="ConfirmDeleteCaseModalComp";const o=s.a.memo(c)},91:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(11),s=a(25),r=a.n(s),l=a(2),i=a.n(l),c=a(13);const o=i.a.memo((({children:e,date:t,fieldName:a,className:s=""})=>i.a.createElement(n.EuiToolTip,{"data-test-subj":"localized-date-tool-tip",anchorClassName:s,content:i.a.createElement(n.EuiFlexGroup,{"data-test-subj":"dates-container",direction:"column",gutterSize:"none"},null!=a?i.a.createElement(n.EuiFlexItem,{grow:!1},i.a.createElement("span",{"data-test-subj":"field-name"},a)):null,i.a.createElement(n.EuiFlexItem,{"data-test-subj":"with-day-of-week",grow:!1},r.a.tz(t,Object(c.f)()).format("llll")))},i.a.createElement(i.a.Fragment,null,e))));o.displayName="LocalizedDateTooltip"},92:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(22),s=a(43),r=a.n(s);const l=e=>{if(Object(n.isString)(e)&&""!==e.trim()){const t=r()(new Date(e));return t.isValid()||isNaN(+e)?t:r()(new Date(+e))}return r()(new Date(e))}},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(2),s=a.n(n),r=a(11),l=a(3),i=a(57),c=a(50);const o=({currentStatus:e,disabled:t=!1,onStatusChanged:a})=>{const[o,u]=Object(n.useState)(!1),d=Object(n.useCallback)((()=>u(!1)),[]),p=Object(n.useCallback)((()=>u(!0)),[]),b=Object(n.useMemo)((()=>s.a.createElement(i.b,{disabled:t,type:e,withArrow:!0,onClick:p})),[t,e,p]),m=Object(n.useCallback)((t=>{d(),e!==t&&a(t)}),[d,e,a]),f=Object(n.useMemo)((()=>l.q.map((t=>s.a.createElement(r.EuiContextMenuItem,{"data-test-subj":`case-view-status-dropdown-${t}`,icon:t===e?"check":"empty",key:t,onClick:()=>m(t)},s.a.createElement(i.b,{type:t}))))),[e,m]);return s.a.createElement(r.EuiPopover,{anchorPosition:"downLeft",button:b,closePopover:d,"data-test-subj":"case-view-status-dropdown",id:"caseStatusPopover",isOpen:o,panelPaddingSize:"none"},s.a.createElement(r.EuiContextMenuPanel,{title:c.c,items:f}))};o.displayName="StatusContextMenu";const u=Object(n.memo)(o)},94:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"n",(function(){return l})),a.d(t,"k",(function(){return i})),a.d(t,"h",(function(){return c})),a.d(t,"r",(function(){return o})),a.d(t,"g",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return b})),a.d(t,"d",(function(){return m})),a.d(t,"c",(function(){return f}));var n=a(1),s=a(21);a.d(t,"i",(function(){return s.i})),a.d(t,"j",(function(){return s.k})),a.d(t,"l",(function(){return s.v})),a.d(t,"m",(function(){return s.y})),a.d(t,"o",(function(){return s.F})),a.d(t,"p",(function(){return s.G})),a.d(t,"q",(function(){return s.K}));const r=n.i18n.translate("xpack.cases.status.all",{defaultMessage:"All"}),l=n.i18n.translate("xpack.cases.status.open",{defaultMessage:"Open"}),i=n.i18n.translate("xpack.cases.status.inProgress",{defaultMessage:"In progress"}),c=n.i18n.translate("xpack.cases.status.closed",{defaultMessage:"Closed"}),o=n.i18n.translate("xpack.cases.status.iconAria",{defaultMessage:"Change status"}),u=n.i18n.translate("xpack.cases.caseView.caseOpened",{defaultMessage:"Case opened"}),d=n.i18n.translate("xpack.cases.caseView.caseInProgress",{defaultMessage:"Case in progress"}),p=n.i18n.translate("xpack.cases.caseView.caseClosed",{defaultMessage:"Case closed"}),b=n.i18n.translate("xpack.cases.caseTable.bulkActions.closeSelectedTitle",{defaultMessage:"Close selected"}),m=n.i18n.translate("xpack.cases.caseTable.bulkActions.openSelectedTitle",{defaultMessage:"Open selected"}),f=(n.i18n.translate("xpack.cases.caseTable.bulkActions.deleteSelectedTitle",{defaultMessage:"Delete selected"}),n.i18n.translate("xpack.cases.caseTable.bulkActions.markInProgressTitle",{defaultMessage:"Mark in progress"}))},95:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(11),s=a(2),r=a.n(s),l=a(34);const i=a.n(l)()((({iconSide:e,children:t,...a})=>r.a.createElement(n.EuiLink,a,t))).withConfig({displayName:"Link",componentId:"sc-rp8ff7-0"})(["",""],(({iconSide:e,theme:t})=>Object(l.css)(["align-items:center;display:inline-flex;vertical-align:top;white-space:nowrap;"," ",""],"left"===e&&Object(l.css)([".euiIcon{margin-right:",";}"],t.eui.euiSizeXS),"right"===e&&Object(l.css)(["flex-direction:row-reverse;.euiIcon{margin-left:",";}"],t.eui.euiSizeXS))));i.displayName="Link";const c=r.a.memo((({ariaLabel:e,children:t,color:a,dataTestSubj:l,disabled:c,href:o,iconSide:u="left",iconSize:d="s",iconType:p,onClick:b})=>{const m=Object(s.useCallback)((e=>"object"==typeof e&&null!=e&&"props"in e&&e.props&&e.props.children?m(e.props.children):null!=e&&Object.keys(e).length>0?e:""),[]),f=Object(s.useMemo)((()=>e||m(t)),[e,t,m]);return r.a.createElement(i,{className:"casesLinkIcon",color:a,"data-test-subj":l,disabled:c,href:o,iconSide:u,onClick:b,"aria-label":f},r.a.createElement(n.EuiIcon,{size:d,type:p}),r.a.createElement("span",{className:"casesLinkIcon__label"},t))}));c.displayName="LinkIcon"}}]);
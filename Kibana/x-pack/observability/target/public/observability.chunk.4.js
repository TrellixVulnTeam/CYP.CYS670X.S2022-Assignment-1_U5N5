/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.observability_bundle_jsonpfunction=window.observability_bundle_jsonpfunction||[]).push([[4],{105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),a=n(106).isClient?window:null,r=function(e){return!!e.addEventListener},i=function(e){return!!e.on};t.default=function(e,t,n,s){void 0===n&&(n=a),l.useEffect((function(){if(t&&n)return r(n)?n.addEventListener(e,t,s):i(n)&&n.on(e,t,s),function(){r(n)?n.removeEventListener(e,t,s):i(n)&&n.off(e,t,s)}}),[e,t,n,JSON.stringify(s)])}},106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var l=n(77).__importDefault(n(107));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.removeEventListener.apply(e,t)},t.isDeepEqual=l.default},107:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var l,a,r;if(Array.isArray(t)){if((l=t.length)!=n.length)return!1;for(a=l;0!=a--;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((l=(r=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=l;0!=a--;)if(!Object.prototype.hasOwnProperty.call(n,r[a]))return!1;for(a=l;0!=a--;){var i=r[a];if(("_owner"!==i||!t.$$typeof)&&!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}},126:function(e,t,n){"use strict";n.r(t),n.d(t,"formatOptions",(function(){return p})),n.d(t,"SelectableUrlList",(function(){return d}));var l=n(1),a=n.n(l),r=n(7),i=n(0),s=n(105),o=n.n(s),u=n(81),c=n.n(u);const f={filterByUrl:i.i18n.translate("xpack.observability.filters.filterByUrl",{defaultMessage:"Filter by URL"}),getSearchResultsLabel:e=>i.i18n.translate("xpack.observability.filters.searchResults",{defaultMessage:"{total} Search results",values:{total:e}}),topPages:i.i18n.translate("xpack.observability.filters.topPages",{defaultMessage:"Top pages"}),select:i.i18n.translate("xpack.observability.filters.select",{defaultMessage:"Select"}),url:i.i18n.translate("xpack.observability.filters.url",{defaultMessage:"Url"}),loadingResults:i.i18n.translate("xpack.observability.filters.url.loadingResults",{defaultMessage:"Loading results"}),noResults:i.i18n.translate("xpack.observability.filters.url.noResults",{defaultMessage:"No results available"})},p=e=>e.map((e=>({title:e.label,...e,className:c()("euiSelectableTemplateSitewide__listItem",e.className)})));function d({data:e,loading:t,onInputChange:n,onSelectionChange:s,onSelectionApply:u,searchValue:c,popoverIsOpen:d,setPopoverIsOpen:g,initialValue:v,renderOption:b,rowHeight:y,hasChanged:E}){var m,h;const[S,w]=Object(l.useState)(null),O=Object(l.useRef)(null),x=p(null!==(m=e.items)&&void 0!==m?m:[]),j=()=>{g(!1)};o()("keydown",(e=>{"enter"===e.key.toLowerCase()&&(u(),g(!1))}),S),o()("escape",(()=>g(!1)),S),Object(l.useEffect)((()=>{S&&S.value!==c&&(S.value=c,S.dispatchEvent(new Event("change")))}),[S,c]);const k=a.a.createElement(r.EuiSelectableMessage,{style:{minHeight:300}},a.a.createElement(r.EuiLoadingSpinner,{size:"l"}),a.a.createElement("br",null),a.a.createElement("p",null,f.loadingResults)),M=a.a.createElement(r.EuiSelectableMessage,{style:{minHeight:300}},a.a.createElement("p",null,f.noResults)),C=c?f.getSearchResultsLabel(null!==(h=null==e?void 0:e.total)&&void 0!==h?h:0):f.topPages;function P(){return a.a.createElement(r.EuiPopoverTitle,{paddingSize:"s"},a.a.createElement(r.EuiFlexGroup,{ref:O,gutterSize:"xs"},a.a.createElement(r.EuiFlexItem,{style:{justifyContent:"center"}},t?a.a.createElement(r.EuiLoadingSpinner,null):C),a.a.createElement(r.EuiFlexItem,{grow:!1},a.a.createElement(r.EuiButtonIcon,{color:"text",onClick:()=>j(),"aria-label":i.i18n.translate("xpack.observability.search.url.close",{defaultMessage:"Close"}),iconType:"cross"}))))}return a.a.createElement(r.EuiSelectable,{searchable:!0,onChange:s,options:c!==(null==S?void 0:S.value)?[]:x,renderOption:b,singleSelection:!1,searchProps:{isClearable:!0,onClick:e=>{g(!0),S&&S.focus()},onInput:e=>{n(e.target.value),g(!0)},inputRef:w,placeholder:f.filterByUrl,"aria-label":f.filterByUrl},listProps:{rowHeight:y,showIcons:!0,onFocusBadge:!1},loadingMessage:k,emptyMessage:M,noMatchesMessage:M,allowExclusions:!0,isPreFiltered:c!==(null==S?void 0:S.value)},((e,t)=>{var n;return a.a.createElement(r.EuiPopover,{panelPaddingSize:"none",isOpen:d,display:"block",button:t,closePopover:j,style:{minWidth:400},anchorPosition:"downLeft",ownFocus:!1},a.a.createElement("div",{style:{width:null!==(n=null==S?void 0:S.getBoundingClientRect().width)&&void 0!==n?n:600,maxWidth:"100%"}},a.a.createElement(P,null),e,a.a.createElement(r.EuiPopoverFooter,{paddingSize:"s"},a.a.createElement(r.EuiFlexGroup,{style:{justifyContent:"flex-end"}},a.a.createElement(r.EuiFlexItem,{grow:!1},a.a.createElement(r.EuiButton,{fill:!0,size:"s",onClick:()=>{u(),j()},isDisabled:!E()},i.i18n.translate("xpack.observability.apply.label",{defaultMessage:"Apply"})))))))}))}t.default=d}}]);
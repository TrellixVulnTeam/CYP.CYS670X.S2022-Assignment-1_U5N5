/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.observability_bundle_jsonpfunction=window.observability_bundle_jsonpfunction||[]).push([[7],{108:function(e,i,l){"use strict";l.d(i,"b",(function(){return v})),l.d(i,"a",(function(){return O}));var t=l(1),a=l(0),n=l(7),r=l(124),s=l(43),o=l(4),d=l(26),c=l(32),u=l(8);var b=l(100),p=l(9);const y={"host.os.platform":o.M,"host.os.full":o.v,"service.version":o.W,"network.carrier.icc":o.e,"network.carrier.name":o.f,"network.connection_type":o.h,"labels.device_model":o.n};var m=l(87),f=l(30);const g={[d.b.UX]:a.i18n.translate("xpack.observability.overview.exploratoryView.uxLabel",{defaultMessage:"User experience (RUM)"}),[d.b.SYNTHETICS]:a.i18n.translate("xpack.observability.overview.exploratoryView.syntheticsLabel",{defaultMessage:"Synthetics monitoring"}),[d.b.METRICS]:a.i18n.translate("xpack.observability.overview.exploratoryView.metricsLabel",{defaultMessage:"Infra metrics"}),[d.b.MOBILE]:a.i18n.translate("xpack.observability.overview.exploratoryView.mobileExperienceLabel",{defaultMessage:"Mobile experience"})},T=[{id:d.b.SYNTHETICS,label:g[d.b.SYNTHETICS]},{id:d.b.UX,label:g[d.b.UX]},{id:d.b.METRICS,label:g[d.b.METRICS]},{id:d.b.MOBILE,label:g[d.b.MOBILE]}],x=[{reportType:"kpi-over-time",label:o.y},{reportType:"data-distribution",label:o.Q},{reportType:"core-web-vitals",label:o.i},{reportType:"device-data-distribution",label:o.l}],v={[d.b.UX]:[function({indexPattern:e}){return{defaultSeriesType:"bar_stacked",seriesTypes:[],reportType:d.m.KPI,xAxisColumn:{sourceField:"@timestamp"},yAxisColumns:[{sourceField:d.l,operationType:"median"}],hasOperationType:!1,filterFields:[u.o,u.s,u.a,u.q,{field:u.r,nested:u.u},d.f],breakdownFields:[u.r,u.s,u.a,u.q,d.h,d.e],baseFilters:[...Object(c.b)(u.n,"page-load",e),...Object(c.b)(u.h,"transaction",e)],labels:{...d.d,[u.j]:o.gb},definitionFields:[u.j,u.i],metricOptions:[{field:d.j,id:d.j,label:o.P},{label:o.O,field:u.l,id:u.l,columnType:d.g},{label:o.b,field:u.m,id:u.m,columnType:d.g},{label:o.s,field:u.c,id:u.c,columnType:d.g},{label:o.cb,field:u.k,id:u.k,columnType:d.g},{label:o.A,field:u.e,id:u.e,columnType:d.g},{label:o.t,field:u.d,id:u.d,columnType:d.g},{label:o.g,field:u.b,id:u.b,columnType:d.g}]}},function({indexPattern:e}){return{reportType:d.m.DISTRIBUTION,defaultSeriesType:"line",seriesTypes:[],xAxisColumn:{sourceField:d.l},yAxisColumns:[{sourceField:d.k,label:o.N}],hasOperationType:!1,filterFields:[{field:u.o,isNegated:!1},u.s,u.a,u.q,{field:u.r,nested:u.u},d.f],breakdownFields:[u.r,u.s,u.a,u.q],definitionFields:[u.j,u.i],metricOptions:[{label:o.O,id:u.l,field:u.l},{label:o.b,id:u.m,field:u.m},{label:o.s,id:u.c,field:u.c},{label:o.cb,id:u.k,field:u.k},{label:o.A,id:u.e,field:u.e},{label:o.t,id:u.d,field:u.d},{label:o.g,id:u.b,field:u.b}],baseFilters:[...Object(c.b)(u.n,"page-load",e),...Object(c.b)(u.h,"transaction",e)],labels:{...d.d,[u.j]:o.gb,[u.l]:o.O},query:{query:"transaction.duration.us < 60000000",language:"kuery"}}},function({indexPattern:e}){const i=Object(n.euiPaletteForStatus)(3);return{defaultSeriesType:"bar_horizontal_percentage_stacked",reportType:d.m.CORE_WEB_VITAL,seriesTypes:["bar_horizontal_percentage_stacked"],xAxisColumn:{sourceField:d.o},yAxisColumns:[{sourceField:d.l,label:"Good"},{sourceField:d.l,label:"Average"},{sourceField:d.l,label:"Poor"}],hasOperationType:!1,filterFields:[{field:u.o,isNegated:!1},u.j,{field:u.s,nested:u.t},u.a,u.q,{field:u.r,nested:u.u},d.f],breakdownFields:[u.j,u.r,u.s,u.a,u.q,u.p],baseFilters:[...Object(c.b)(u.n,"page-load",e),...Object(c.b)(u.h,"transaction",e)],labels:{...d.d,[u.j]:"Web Application"},definitionFields:[u.j,u.i],metricOptions:[{id:u.e,label:o.A,columnType:d.c,columnFilters:[{language:"kuery",query:`${u.e} < 2500`},{language:"kuery",query:`${u.e} > 2500 and ${u.e} < 4000`},{language:"kuery",query:`${u.e} > 4000`}]},{label:o.t,id:u.d,columnType:d.c,columnFilters:[{language:"kuery",query:`${u.d} < 100`},{language:"kuery",query:`${u.d} > 100 and ${u.d} < 300`},{language:"kuery",query:`${u.d} > 300`}]},{label:o.g,id:u.b,columnType:d.c,columnFilters:[{language:"kuery",query:`${u.b} < 0.1`},{language:"kuery",query:`${u.b} > 0.1 and ${u.b} < 0.25`},{language:"kuery",query:`${u.b} > 0.25`}]}],yConfig:[{color:i[0],forAccessor:"y-axis-column"},{color:i[1],forAccessor:"y-axis-column-1"},{color:i[2],forAccessor:"y-axis-column-2"}],query:{query:'transaction.type: "page-load"',language:"kuery"}}}],[d.b.SYNTHETICS]:[b.a,function({series:e,indexPattern:i}){return{reportType:d.m.DISTRIBUTION,defaultSeriesType:(null==e?void 0:e.seriesType)||"line",seriesTypes:[],xAxisColumn:{sourceField:d.l},yAxisColumns:[{sourceField:d.k,label:o.R}],hasOperationType:!1,filterFields:["monitor.type","observer.geo.name","tags"],breakdownFields:["observer.geo.name","monitor.name","monitor.id","monitor.type","tags","url.port"],baseFilters:[],definitionFields:[{field:"monitor.name",nested:"synthetics.step.name.keyword",singleSelection:!0},{field:"url.full",filters:Object(c.a)("summary.up",i)}],metricOptions:[{label:o.E,id:p.a,field:p.a},{label:o.A,field:p.f,id:p.f},{label:o.s,field:p.e,id:p.e},{label:o.k,field:p.c,id:p.c},{label:o.p,field:p.d,id:p.d},{label:o.g,field:p.b,id:p.b}],labels:{...d.d,"monitor.duration.us":o.E}}}],[d.b.MOBILE]:[function({indexPattern:e}){return{reportType:d.m.KPI,defaultSeriesType:"line",seriesTypes:["line","bar","area"],xAxisColumn:{sourceField:"@timestamp"},yAxisColumns:[{sourceField:d.l,operationType:"median"}],hasOperationType:!0,filterFields:[...Object.keys(y),d.f],breakdownFields:Object.keys(y),baseFilters:[...Object(c.c)("agent.name",["iOS/swift","open-telemetry/swift"],e)],labels:{...d.d,...y,[u.l]:o.U,[u.j]:o.D,[u.g]:o.ab,[u.f]:o.j},definitionFields:[u.j,u.i],metricOptions:[{label:o.U,field:u.l,id:u.l,columnType:d.g},{field:d.j,id:d.j,label:o.db,columnFilters:[{language:"kuery",query:`${u.h}: transaction`}],timeScale:"m"},{label:o.ab,field:u.g,id:u.g,columnType:d.g,columnFilters:[{language:"kuery",query:`${u.h}: metric`}]},{label:o.j,field:u.f,id:u.f,columnType:d.g,columnFilters:[{language:"kuery",query:`${u.h}: metric`}]}]}},function({indexPattern:e}){return{reportType:d.m.DISTRIBUTION,defaultSeriesType:"bar",seriesTypes:["line","bar"],xAxisColumn:{sourceField:d.l},yAxisColumns:[{sourceField:d.j}],hasOperationType:!1,filterFields:[...Object.keys(y),d.f],breakdownFields:Object.keys(y),baseFilters:[...Object(c.c)("agent.name",["iOS/swift","open-telemetry/swift"],e)],labels:{...d.d,...y,[u.j]:o.D},definitionFields:[u.j,u.i],metricOptions:[{label:o.U,field:u.l,id:u.l,columnFilters:[{language:"kuery",query:`${u.h}: transaction`}]},{label:o.ab,field:u.g,id:u.g,columnFilters:[{language:"kuery",query:`${u.h}: metric`}]},{label:o.j,field:u.f,id:u.f,columnFilters:[{language:"kuery",query:`${u.h}: metric`}]}]}},function({indexPattern:e}){return{reportType:d.m.DEVICE_DISTRIBUTION,defaultSeriesType:"bar",seriesTypes:["bar","bar_horizontal"],xAxisColumn:{sourceField:d.o},yAxisColumns:[{sourceField:d.l,operationType:"unique_count"}],hasOperationType:!1,filterFields:[...Object.keys(y),d.f],breakdownFields:Object.keys(y),baseFilters:[...Object(c.b)("agent.name","iOS/swift",e),...Object(c.b)("processor.event","transaction",e)],labels:{...d.d,...y,[u.j]:o.D},definitionFields:[u.j],metricOptions:[{field:"labels.device_id",id:"labels.device_id",label:o.J}]}}],[d.b.METRICS]:[function({indexPattern:e}){return{reportType:d.m.KPI,defaultSeriesType:"area",seriesTypes:[],xAxisColumn:{sourceField:"@timestamp"},yAxisColumns:[{sourceField:d.l,operationType:"median"}],hasOperationType:!1,filterFields:["agent.type","service.type"],breakdownFields:["agent.hostname","service.type"],baseFilters:[],definitionFields:["agent.hostname","service.type"],metricOptions:[{label:o.Z,field:f.c,id:f.c,columnType:d.g},{label:o.ab,field:f.d,id:f.d,columnType:d.g},{label:o.o,field:f.a,id:f.a,columnType:d.g},{label:o.w,field:f.b,id:f.b,columnType:d.g}],labels:{...d.d}}}]};function O(){const{appMountParameters:e}=Object(m.a)();return t.createElement(n.EuiErrorBoundary,null,t.createElement(s.a,{reportTypes:x,dataTypes:T,indexPatterns:{},reportConfigMap:v,setHeaderActionMenu:e.setHeaderActionMenu,theme$:e.theme$},t.createElement(r.ExploratoryViewPage,null)))}},158:function(e,i,l){"use strict";l.r(i),l.d(i,"default",(function(){return v}));var t=l(1),a=l.n(t),n=l(7),r=l(20),s=l.n(r),o=l(69),d=l(109),c=l(102),u=l(121),b=l(108),p=l(0),y=l(32),m=l(15);const f=({href:e,callback:i})=>({id:"expViewExplore",getDisplayName:e=>p.i18n.translate("xpack.observability.expView.explore",{defaultMessage:"Explore"}),getIconType:e=>"visArea",type:"link",isCompatible:async e=>!0,getHref:async i=>e,async execute(e){i()},order:50}),g=({callback:e})=>({id:"expViewSave",getDisplayName:e=>p.i18n.translate("xpack.observability.expView.save",{defaultMessage:"Save visualization"}),getIconType:e=>"save",type:"actionButton",isCompatible:async e=>!0,async execute(i){e()},order:49}),T=({callback:e})=>({id:"expViewAddToCase",getDisplayName:e=>p.i18n.translate("xpack.observability.expView.addToCase",{defaultMessage:"Add to case"}),getIconType:e=>"link",type:"actionButton",isCompatible:async e=>!0,async execute(i){e()},order:48});var x=l(127);function v({reportType:e,attributes:i,title:l,appendTitle:r,indexPatterns:s,lens:p,appId:v,axisTitlesVisibility:k,legendIsVisible:F,withActions:h=!0,reportConfigMap:j={},showCalculationMethod:w=!1}){const C=null==p?void 0:p.EmbeddableComponent,E=null==p?void 0:p.SaveModalComponent,[I,S]=Object(t.useState)(!1),[A,M]=Object(t.useState)(!1),q=Object.entries(i)[0][1],[_,P]=Object(t.useState)(null==q?void 0:q.operationType),$=Object(o.useTheme)(),V=function({withActions:e,attributes:i,reportType:l,setIsSaveOpen:a,setAddToCaseOpen:n,appId:r="observability"}){const[s,o]=Object(t.useState)(["explore","save","addToCase"]);Object(t.useEffect)((()=>{!1===e&&o([]),Array.isArray(e)&&o(e)}),[e]);const{http:d,application:c}=Object(m.useKibana)().services,u=Object(y.f)({reportType:l,allSeries:i},null==d?void 0:d.basePath.get(),r),b=Object(y.e)({reportType:l,allSeries:i}),p=Object(t.useCallback)((()=>{null==c||c.navigateToApp(r,{path:b})}),[r,c,b]),x=Object(t.useCallback)((()=>{a(!0)}),[a]),v=Object(t.useCallback)((()=>{n(!0)}),[n]);return s.map((e=>"save"===e?g({callback:x}):"addToCase"===e?T({callback:v}):f({href:u,callback:p})))}({withActions:h,attributes:i,reportType:e,appId:v,setIsSaveOpen:S,setAddToCaseOpen:M}),N=Object(c.b)(i,e,$,s,{...j,...b.b});if(N.length<1)return null;const B=new d.a(N);if(!C)return a.a.createElement(n.EuiText,null,"No lens component");const R=B.getJSON();return R.state.visualization.axisTitlesVisibilitySettings=k,void 0!==F&&(R.state.visualization.legend.isVisible=F),a.a.createElement(O,null,a.a.createElement(n.EuiFlexGroup,{alignItems:"center"},a.a.createElement(n.EuiFlexItem,null,a.a.createElement(n.EuiTitle,{size:"xs"},a.a.createElement("h3",null,l))),w&&a.a.createElement(n.EuiFlexItem,{grow:!1,style:{minWidth:150}},a.a.createElement(u.a,{operationType:_,onChange:e=>{P(e)}})),r),a.a.createElement(C,{id:"exploratoryView",style:{height:"100%"},timeRange:null==q?void 0:q.time,attributes:R,onBrushEnd:({range:e})=>{},withDefaultActions:Boolean(h),extraActions:V}),I&&R&&a.a.createElement(E,{initialInput:R,onClose:()=>S(!1),onSave:()=>{}}),a.a.createElement(x.a,{lensAttributes:R,timeRange:null==q?void 0:q.time,autoOpen:A,setAutoOpen:M,appId:v}))}const O=s.a.div.withConfig({displayName:"Wrapper",componentId:"sc-1sjndm2-0"})(["height:100%;&&&{>:nth-child(2){height:calc(100% - 32px);}.embPanel--editing{border-style:initial !important;:hover{box-shadow:none;}}.embPanel__title{display:none;}.embPanel__optionsMenuPopover{visibility:collapse;}&&&:hover{.embPanel__optionsMenuPopover{visibility:visible;}}}"])}}]);
/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.infra_bundle_jsonpfunction=window.infra_bundle_jsonpfunction||[]).push([[1],{104:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return j}));var r=n(2),i=n.n(r),o=n(83),s=n.n(o),a=n(195),l=n.n(a),u=n(127),c=n.n(u),d=n(30),h=n(126);const f={from:"now-1d",to:"now"},m=s()((()=>{const[e,t]=Object(h.a)(f),{from:n,to:i}=e(),o={startDateExpression:n,endDateExpression:i},[s,a]=Object(r.useState)(!1),u=Object(r.useCallback)((()=>{a(!0)}),[a]),[m,p]=Object(r.useState)(null),[g,b]=Object(r.useState)(!1),[v,y]=Object(r.useState)({endKey:null,middleKey:null,startKey:null,pagesBeforeStart:1/0,pagesAfterEnd:1/0}),[E,O]=l()({...o,startTimestamp:Object(d.a)(o.startDateExpression),endTimestamp:Object(d.a)(o.endDateExpression,"up"),timestampsLastUpdate:Date.now(),lastCompleteDateRangeExpressionUpdate:Date.now()});Object(r.useEffect)((()=>{s&&(f.from===E.startDateExpression&&f.to===E.endDateExpression||t({from:E.startDateExpression,to:E.endDateExpression}))}),[s,E.startDateExpression,E.endDateExpression,t]);const{startKey:w,middleKey:j,endKey:x,pagesBeforeStart:S,pagesAfterEnd:C}=v,M=((e,t)=>{const[n,i]=Object(r.useState)({middleKey:e,targetPosition:t,currentValue:e||t});return Object(r.useEffect)((()=>{e!==n.middleKey?i({targetPosition:t,middleKey:e,currentValue:e}):t!==n.targetPosition&&i({targetPosition:t,middleKey:e,currentValue:t})}),[e,t]),n.currentValue})(j,m),R=Object(r.useMemo)((()=>w&&x?{start:w.time,end:x.time}:null),[w,x]),_=Object(r.useCallback)((e=>{if(!("startDateExpression"in e)&&!("endDateExpression"in e))return;const t=e.startDateExpression||E.startDateExpression,n=e.endDateExpression||E.endDateExpression;if(!Object(d.c)(t)||!Object(d.c)(n))return;const r=Object(d.a)(t),i=Object(d.a)(n,"up");m&&(r>m.time||i<m.time)&&p(null),O((t=>({...e,startTimestamp:r,endTimestamp:i,timestampsLastUpdate:Date.now(),lastCompleteDateRangeExpressionUpdate:"startDateExpression"in e&&"endDateExpression"in e?Date.now():t.lastCompleteDateRangeExpressionUpdate})))}),[O,E,m]);Object(r.useEffect)((()=>{"now"===E.endDateExpression&&v.pagesAfterEnd<=2&&O({endTimestamp:Object(d.a)(E.endDateExpression,"up"),timestampsLastUpdate:Date.now()})}),[E.endDateExpression,v,O]);const T=Object(r.useCallback)((()=>{b(!0),p(null),_({startDateExpression:"now-1d",endDateExpression:"now"})}),[_]),k=Object(r.useCallback)((()=>{b(!1)}),[]);c()((()=>_({startDateExpression:"now-1d",endDateExpression:"now"})),g?5e3:null);return{...{isInitialized:s,targetPosition:m,isStreaming:g,firstVisiblePosition:w,pagesBeforeStart:S,pagesAfterEnd:C,visibleMidpoint:M,visibleMidpointTime:M?M.time:null,visibleTimeInterval:R,...E},...{initialize:u,jumpToTargetPosition:p,jumpToTargetPositionTime:Object(r.useCallback)((e=>p({tiebreaker:0,time:e})),[p]),reportVisiblePositions:y,startLiveStreaming:T,stopLiveStreaming:k,updateDateRange:_}}}));var p=n(179),g=n(105);const b=36e5,v=()=>{const{visibleMidpoint:e,isStreaming:t,jumpToTargetPosition:n,startLiveStreaming:o,stopLiveStreaming:s,startDateExpression:a,endDateExpression:l,updateDateRange:u,initialize:c}=Object(r.useContext)(m.Context),h=Object(r.useMemo)((()=>({position:e?Object(p.c)(e):null,streamLive:t,start:a,end:l})),[e,t,a,l]);return i.a.createElement(g.a,{urlState:h,urlStateKey:"logPosition",mapToUrlState:y,onChange:e=>{e&&((e.start||e.end)&&u({startDateExpression:e.start,endDateExpression:e.end}),e.position&&n(e.position),e.streamLive?o():void 0===e.streamLive||e.streamLive||s())},onInitialize:e=>{if(e){const t=e.position;let r=e.start,i=e.end;if(t){const e=r?Object(d.a)(r):void 0,o=i?Object(d.a)(i,"up"):void 0;(!e||e>t.time)&&(r=new Date(t.time-b).toISOString()),(!o||o<t.time)&&(i=new Date(t.time+b).toISOString()),n(t)}else r=r||"now-1d",i=i||"now";(r||i)&&u({startDateExpression:r,endDateExpression:i}),e.streamLive&&o()}c()}})},y=e=>e?{position:E(e.position),streamLive:O(e.streamLive),start:w(e.start),end:w(e.end)}:void 0,E=e=>e&&"number"==typeof e.time&&"number"==typeof e.tiebreaker?Object(p.c)(e):void 0,O=e=>"boolean"==typeof e&&e,w=e=>Object(d.c)(e)?e:void 0,j=e=>Number.isNaN(e)?e=>e:Object(g.d)("logPosition",{position:{time:e,tiebreaker:0},end:new Date(e+b).toISOString(),start:new Date(e-b).toISOString(),streamLive:!1})},105:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return v}));var r=n(33),i=n.n(r),o=n(14),s=n.n(o),a=n(23),l=n(27),u=n(2),c=n.n(u),d=n(68),h=n(15),f=n(38);class UrlStateContainerLifecycle extends c.a.Component{constructor(...e){super(...e),s()(this,"replaceStateInLocation",Object(l.throttle)((e=>{const{history:t,location:n,urlStateKey:r}=this.props,i=y(n,v(r,e)(g(n)));i!==n&&t.replace(i)}),1e3)),s()(this,"handleInitialize",(e=>{const{onInitialize:t,mapToUrlState:n,urlStateKey:r,urlState:i}=this.props;if(!t||!n)return;const o=b(g(e),r),s=n(p(o));!s&&this.props.populateWithInitialState?(this.replaceStateInLocation(i),t(i)):t(s)})),s()(this,"handleLocationChange",((e,t)=>{const{onChange:n,mapToUrlState:r,urlStateKey:i}=this.props;if(!n||!r)return;const o=b(g(e),i),s=b(g(t),i);if(o!==s){const e=r(p(o)),t=r(p(s));void 0!==t&&n(t,e)}}))}render(){return null}componentDidUpdate({location:e,urlState:t}){const{history:n,location:r,urlState:i}=this.props;i!==t&&this.replaceStateInLocation(i),"POP"===n.action&&r!==e&&this.handleLocationChange(e,r)}componentDidMount(){const{location:e}=this.props;this.handleInitialize(e)}}const m=e=>c.a.createElement(d.Route,null,(({history:t,location:n})=>c.a.createElement(UrlStateContainerLifecycle,i()({history:t,location:n},e)))),p=e=>{try{return e?Object(h.decode)(e):void 0}catch(e){if(e instanceof Error&&e.message.startsWith("rison decoder error"))return{};throw e}},g=e=>e.search.substring(1),b=(e,t)=>{const n=Object(a.parse)(e,{sort:!1})[t];return Array.isArray(n)?n[0]:n},v=(e,t)=>n=>{const r=Object(a.parse)(n,{sort:!1}),i=void 0===t?r:{...r,[e]:(o=t,Object(h.encode)(o))};var o;return Object(a.stringify)(f.url.encodeQuery(i),{sort:!1,encode:!1})},y=(e,t)=>t===g(e)?e:{...e,search:`?${t}`}},109:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return d}));var r=n(2),i=n(39),o=n(36);const s=e=>{const t=Object(r.useRef)(e);return t.current=e,t},a=(e,t)=>{const[n]=Object(r.useState)((()=>new i.BehaviorSubject(t))),[o]=Object(r.useState)((()=>e(n)));return Object(r.useEffect)((()=>{n.next(t)}),t),o},l=(e,t)=>{const[n,i]=Object(r.useState)(t),[o,s]=Object(r.useState)();return u(e,{next:i,error:s}),{latestValue:n,latestError:o}},u=(e,{next:t,error:n,complete:i,unsubscribe:o})=>{const a=Object(r.useRef)(),l=s(t),u=s(n),c=s(i),d=s(o);return Object(r.useEffect)((()=>{const t=d.current,n=e.subscribe({next:e=>{var t;return null===(t=l.current)||void 0===t?void 0:t.call(l,e)},error:e=>{var t;return null===(t=u.current)||void 0===t?void 0:t.call(u,e)},complete:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.call(c)}});return a.current=n,()=>{n.unsubscribe(),null==t||t()}}),[e,l,u,c,d]),a.current},c=(e,t)=>{const n=s(t);return a((e=>e.pipe(Object(o.switchMap)((([e])=>n.current(e))))),[e])},d=e=>t=>new i.Observable((n=>{const r=t.subscribe({next:e=>n.next(e),error:e=>n.error(e),complete:()=>n.complete()});return()=>{e(),r.unsubscribe()}}))},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(4);function o(e,t){const[n,o]=Object(i.useUiSetting$)(e);return[Object(r.useMemo)((()=>n||t),[n,t]),o]}},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return AutoSizer}));var r=n(14),i=n.n(r),o=n(27),s=n(2),a=n.n(s),l=n(256),u=n.n(l);class AutoSizer extends a.a.PureComponent{constructor(e){super(e),i()(this,"element",null),i()(this,"resizeObserver",null),i()(this,"windowWidth",-1),i()(this,"windowHeight",-1),i()(this,"state",{boundsMeasurement:{height:void 0,width:void 0},contentMeasurement:{height:void 0,width:void 0}}),i()(this,"measure",(e=>{if(!this.element)return;const{content:t=!0,bounds:n=!1}=this.props,{boundsMeasurement:r,contentMeasurement:i}=this.state,s=n?this.element.getBoundingClientRect():null,a=s?{height:s.height,width:s.width}:r;if(this.props.detectAnyWindowResize&&a){if(a.width&&-1!==this.windowWidth&&this.windowWidth>window.innerWidth){const e=this.windowWidth-window.innerWidth;a.width=a.width-e}if(a.height&&-1!==this.windowHeight&&this.windowHeight>window.innerHeight){const e=this.windowHeight-window.innerHeight;a.height=a.height-e}}this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight;const l=(t&&e?e.contentRect:null)&&e?{height:e.contentRect.height,width:e.contentRect.width}:i;Object(o.isEqual)(a,r)&&Object(o.isEqual)(l,i)||requestAnimationFrame((()=>{this.resizeObserver&&(this.setState({boundsMeasurement:a,contentMeasurement:l}),this.props.onResize&&this.props.onResize({bounds:a,content:l}))}))})),i()(this,"updateMeasurement",(()=>requestAnimationFrame((()=>{const{detectAnyWindowResize:e}=this.props;if(e)switch(e){case"height":this.windowHeight!==window.innerHeight&&this.measure(null);break;case"width":this.windowWidth!==window.innerWidth&&this.measure(null);break;default:this.measure(null)}})))),i()(this,"storeRef",(e=>{this.element&&this.resizeObserver&&this.resizeObserver.unobserve(this.element),e&&this.resizeObserver&&this.resizeObserver.observe(e),this.element=e})),this.props.detectAnyWindowResize&&window.addEventListener("resize",this.updateMeasurement),this.resizeObserver=new u.a((e=>{e.forEach((e=>{e.target===this.element&&this.measure(e)}))}))}componentWillUnmount(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.props.detectAnyWindowResize&&window.removeEventListener("resize",this.updateMeasurement)}render(){const{children:e}=this.props,{boundsMeasurement:t,contentMeasurement:n}=this.state;return e({bounds:t,content:n,measureRef:this.storeRef})}}},124:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var r=n(0),i=n(129);n(19);const o=r.type({time:r.number,tiebreaker:r.number}),s=r.type({before:r.union([o,r.literal("last")])}),a=r.type({after:r.union([o,r.literal("first")])}),l=(r.type({center:o}),r.type({constant:r.string})),u=r.type({field:r.string,value:i.a,highlights:r.array(r.string)}),c=r.union([l,u]),d=r.type({columnId:r.string,timestamp:r.number}),h=r.type({columnId:r.string,field:r.string,value:i.a,highlights:r.array(r.string)}),f=r.type({columnId:r.string,message:r.array(c)}),m=r.union([d,h,f]),p=r.union([r.type({}),r.type({"container.id":r.string}),r.type({"host.name":r.string,"log.file.path":r.string})]),g=r.type({field:r.string,value:i.a}),b=r.type({id:r.string,index:r.string,cursor:o,columns:r.array(m),context:p})},127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(e,t){var n=r.useRef((function(){}));r.useEffect((function(){n.current=e})),r.useEffect((function(){if(null!==t){var e=setInterval((function(){return n.current()}),t||0);return function(){return clearInterval(e)}}}),[t])}},128:function(e,t,n){!function(e){"use strict";function t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function n(e){return 1===e.length&&(e=r(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function r(e){return function(n,r){return t(e(n),r)}}var i=n(t),o=i.right,s=i.left;function a(e,t){null==t&&(t=l);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o}function l(e,t){return[e,t]}function u(e,t,n){var r,i,o,s,a=e.length,u=t.length,c=new Array(a*u);for(null==n&&(n=l),r=o=0;r<a;++r)for(s=e[r],i=0;i<u;++i,++o)c[o]=n(s,t[i]);return c}function c(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function d(e){return null===e?NaN:+e}function h(e,t){var n,r,i=e.length,o=0,s=-1,a=0,l=0;if(null==t)for(;++s<i;)isNaN(n=d(e[s]))||(l+=(r=n-a)*(n-(a+=r/++o)));else for(;++s<i;)isNaN(n=d(t(e[s],s,e)))||(l+=(r=n-a)*(n-(a+=r/++o)));if(o>1)return l/(o-1)}function f(e,t){var n=h(e,t);return n?Math.sqrt(n):n}function m(e,t){var n,r,i,o=e.length,s=-1;if(null==t){for(;++s<o;)if(null!=(n=e[s])&&n>=n)for(r=i=n;++s<o;)null!=(n=e[s])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++s<o;)if(null!=(n=t(e[s],s,e))&&n>=n)for(r=i=n;++s<o;)null!=(n=t(e[s],s,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}var p=Array.prototype,g=p.slice,b=p.map;function v(e){return function(){return e}}function y(e){return e}function E(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}var O=Math.sqrt(50),w=Math.sqrt(10),j=Math.sqrt(2);function x(e,t,n){var r,i,o,s,a=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(s=S(e,t,n))||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),o=new Array(i=Math.ceil(t-e+1));++a<i;)o[a]=(e+a)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),o=new Array(i=Math.ceil(e-t+1));++a<i;)o[a]=(e-a)/s;return r&&o.reverse(),o}function S(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=O?10:o>=w?5:o>=j?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=O?10:o>=w?5:o>=j?2:1)}function C(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=O?i*=10:o>=w?i*=5:o>=j&&(i*=2),t<e?-i:i}function M(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function R(){var e=y,t=m,n=M;function r(r){var i,s,a=r.length,l=new Array(a);for(i=0;i<a;++i)l[i]=e(r[i],i,r);var u=t(l),c=u[0],d=u[1],h=n(l,c,d);Array.isArray(h)||(h=C(c,d,h),h=E(Math.ceil(c/h)*h,d,h));for(var f=h.length;h[0]<=c;)h.shift(),--f;for(;h[f-1]>d;)h.pop(),--f;var m,p=new Array(f+1);for(i=0;i<=f;++i)(m=p[i]=[]).x0=i>0?h[i-1]:c,m.x1=i<f?h[i]:d;for(i=0;i<a;++i)c<=(s=l[i])&&s<=d&&p[o(h,s,0,f)].push(r[i]);return p}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:v(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:v([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?v(g.call(e)):v(e),r):n},r}function _(e,t,n){if(null==n&&(n=d),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e);return s+(+n(e[o+1],o+1,e)-s)*(i-o)}}function T(e,n,r){return e=b.call(e,d).sort(t),Math.ceil((r-n)/(2*(_(e,.75)-_(e,.25))*Math.pow(e.length,-1/3)))}function k(e,t,n){return Math.ceil((n-t)/(3.5*f(e)*Math.pow(e.length,-1/3)))}function L(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r}function A(e,t){var n,r=e.length,i=r,o=-1,s=0;if(null==t)for(;++o<r;)isNaN(n=d(e[o]))?--i:s+=n;else for(;++o<r;)isNaN(n=d(t(e[o],o,e)))?--i:s+=n;if(i)return s/i}function D(e,n){var r,i=e.length,o=-1,s=[];if(null==n)for(;++o<i;)isNaN(r=d(e[o]))||s.push(r);else for(;++o<i;)isNaN(r=d(n(e[o],o,e)))||s.push(r);return _(s.sort(t),.5)}function I(e){for(var t,n,r,i=e.length,o=-1,s=0;++o<i;)s+=e[o].length;for(n=new Array(s);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--s]=r[t];return n}function P(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r}function F(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r}function z(e,n){if(r=e.length){var r,i,o=0,s=0,a=e[s];for(null==n&&(n=t);++o<r;)(n(i=e[o],a)<0||0!==n(a,a))&&(a=i,s=o);return 0===n(a,a)?s:void 0}}function $(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e}function q(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o}function B(e){if(!(i=e.length))return[];for(var t=-1,n=P(e,N),r=new Array(n);++t<n;)for(var i,o=-1,s=r[t]=new Array(i);++o<i;)s[o]=e[o][t];return r}function N(e){return e.length}function W(){return B(arguments)}e.bisect=o,e.bisectRight=o,e.bisectLeft=s,e.ascending=t,e.bisector=n,e.cross=u,e.descending=c,e.deviation=f,e.extent=m,e.histogram=R,e.thresholdFreedmanDiaconis=T,e.thresholdScott=k,e.thresholdSturges=M,e.max=L,e.mean=A,e.median=D,e.merge=I,e.min=P,e.pairs=a,e.permute=F,e.quantile=_,e.range=E,e.scan=z,e.shuffle=$,e.sum=q,e.ticks=x,e.tickIncrement=S,e.tickStep=C,e.transpose=B,e.variance=h,e.zip=W,Object.defineProperty(e,"__esModule",{value:!0})}(t)},129:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var r=n(0);const i=r.union([r.null,r.boolean,r.number,r.string]),o=r.recursion("JsonValue",(()=>r.union([i,s,a]))),s=r.recursion("JsonArray",(()=>r.array(o))),a=r.recursion("JsonObject",(()=>r.record(r.string,o)))},130:function(e,t,n){"use strict";n.d(t,"a",(function(){return InfraLoadingPanel}));var r=n(13),i=n(2),o=n(17);class InfraLoadingPanel extends i.PureComponent{render(){const{height:e,text:t,width:n}=this.props;return i.createElement(s,{style:{height:e,width:n}},i.createElement(a,null,i.createElement(r.EuiPanel,null,i.createElement(r.EuiLoadingChart,{size:"m"}),i.createElement(r.EuiText,null,i.createElement("p",null,t)))))}}const s=o.euiStyled.div`
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  justify-content: center;
`,a=o.euiStyled.div`
  flex: 0 0 auto;
  align-self: center;
  text-align: center;
`},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n.n(r),o=n(20);const s=e=>{const{services:{observability:{navigation:{PageTemplate:t}}}}=Object(o.b)();return i.a.createElement(t,e)}},143:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return h}));var r=n(2),i=n.n(r),o=n(17);const s=e=>o.css`
  font-family: ${e=>e.theme.eui.euiCodeFontFamily};
  font-size: ${t=>{switch(e){case"large":return t.theme.eui.euiFontSizeM;case"medium":return t.theme.eui.euiFontSizeS;case"small":return t.theme.eui.euiFontSizeXS;default:return t.theme.eui.euiFontSize}}};
  line-height: ${e=>e.theme.eui.euiLineHeight};
`,a=o.css`
  background-color: ${e=>e.theme.eui.euiFocusBackgroundColor};
`,l=o.css`
  background-color: ${e=>e.theme.eui.euiColorHighlight};
`,u=o.css`
  overflow: visible;
  white-space: pre-wrap;
  word-break: break-all;
`,c=o.css`
  overflow: hidden;
  white-space: pre;
`,d=o.css`
  overflow: hidden;
  white-space: nowrap;
`,h=e=>{const[t,n]=Object(r.useState)({height:0,width:0}),o=Object(r.useCallback)((e=>{if(!e)return;const t=e.getBoundingClientRect();n({height:t.height,width:t.width})}),[]);return{CharacterDimensionsProbe:Object(r.useMemo)((()=>()=>i.a.createElement(f,{scale:e,ref:o},"X")),[o,e]),dimensions:t}},f=o.euiStyled.div.attrs((()=>({"aria-hidden":!0})))`
  visibility: hidden;
  position: absolute;
  height: auto;
  width: auto;
  padding: 0;
  margin: 0;

  ${e=>s(e.scale)};
`},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),i=n.n(r),o=n(1),s=n(13),a=n(17),l=n(96);const u=o.i18n.translate("xpack.infra.logEntryItemView.logEntryActionsMenuToolTip",{defaultMessage:"View actions for line"}),c=({"aria-label":e,isOpen:t,onOpen:n,onClose:o,items:a})=>{const l=Object(r.useMemo)((()=>e=>t=>{o(),e(t)}),[o]),c=i.a.createElement(f,null,i.a.createElement(s.EuiButton,{size:"s",fill:!0,"aria-label":e||u,onClick:t?o:n,minWidth:"auto"},i.a.createElement(s.EuiIcon,{type:"boxesHorizontal"}))),m=Object(r.useMemo)((()=>a.map(((e,t)=>i.a.createElement(s.EuiContextMenuItem,{key:t,onClick:l(e.onClick),href:e.href},e.label)))),[a,l]);return i.a.createElement(d,null,i.a.createElement(h,null,i.a.createElement(s.EuiPopover,{panelPaddingSize:"none",closePopover:o,isOpen:t,button:c,ownFocus:!0},i.a.createElement(s.EuiContextMenuPanel,{items:m}))))},d=Object(a.euiStyled)(l.b)`
  overflow: hidden;
  user-select: none;
`,h=a.euiStyled.div`
  position: absolute;
`,f=a.euiStyled.div`
  transform: translate(-6px, -6px);
`},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"h",(function(){return r.c})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return scrollable_log_text_stream_view_ScrollableLogTextStreamView})),n.d(t,"b",(function(){return x.a}));var r=n(96),i=n(2),o=n.n(i),s=n(17),a=n(155),l=n(180),u=n(143);const c=({columnValue:e,highlights:[t],isActiveHighlight:n,wrapMode:r,render:i})=>Object(a.e)(e)?o.a.createElement(d,{wrapMode:r},o.a.createElement(l.a,{highlightTerms:Object(a.g)(t)?t.highlights:[],isActiveHighlight:n,value:e.value,render:i})):null,d=Object(s.euiStyled)(r.b)`
  text-overflow: ellipsis;

  ${e=>"long"===e.wrapMode?u.c:"pre-wrapped"===e.wrapMode?u.e:u.f};
`,h=Object(i.memo)((({columnValue:e,highlights:t,isActiveHighlight:n,wrapMode:r,render:s})=>{const l=Object(i.useMemo)((()=>Object(a.j)(e)?m(e.message,t,n):null),[e,t,n]),u=Object(i.useMemo)((()=>Object(a.j)(e)?p(e.message):""),[e]);return o.a.createElement(f,{wrapMode:r},s?s(u):l)})),f=Object(s.euiStyled)(r.b)`
  text-overflow: ellipsis;
  ${e=>"long"===e.wrapMode?u.c:"pre-wrapped"===e.wrapMode?u.e:u.f};
`,m=(e,t,n)=>e.map(((e,r)=>{if(Object(a.f)(e)){const[i=[]]=t.map((e=>{if(Object(a.i)(e)){const t=e.message[r];if(Object(a.h)(t))return t.highlights}return[]}));return o.a.createElement(l.a,{highlightTerms:i,isActiveHighlight:n,key:`MessageSegment-${r}`,value:e.value})}return Object(a.d)(e)?e.constant:"failed to format message"})),p=e=>e.map((e=>Object(a.d)(e)?e.constant:Object(a.f)(e)?e.value.toString():void 0)).join(" ");var g=n(33),b=n.n(g),v=n(1),y=n(27),E=n(66),O=n(204);const w=Object(i.memo)((({format:e="time",time:t,render:n})=>{const r=Object(O.a)(t,{format:e});return o.a.createElement(j,null,n?n(t):r)})),j=Object(s.euiStyled)(r.b)`
  color: ${e=>e.theme.eui.euiColorDarkShade};
  overflow: hidden;
  text-overflow: clip;
  white-space: pre;
`;var x=n(144),S=n(165);const C=v.i18n.translate("xpack.infra.logEntryItemView.logEntryActionsMenuToolTip",{defaultMessage:"View actions for line"}),M=v.i18n.translate("xpack.infra.logs.logEntryActionsDetailsButton",{defaultMessage:"View details"}),R=v.i18n.translate("xpack.infra.lobs.logEntryActionsViewInContextButton",{defaultMessage:"View in context"}),_=Object(i.memo)((({boundingBoxRef:e,columnConfigurations:t,columnWidths:n,highlights:s,isActiveHighlight:l,isHighlighted:u,logEntry:d,openFlyoutWithItem:f,openViewLogInContext:m,scale:p,wrap:g})=>{const v=Object(E.useUiTracker)({app:"infra_logs"}),[O,j]=Object(i.useState)(!1),[_,k]=Object(i.useState)(!1),L=Object(i.useCallback)((()=>k(!0)),[]),A=Object(i.useCallback)((()=>k(!1)),[]),D=Object(i.useCallback)((()=>j(!0)),[]),I=Object(i.useCallback)((()=>j(!1)),[]),P=Object(i.useCallback)((()=>null==f?void 0:f(d.id)),[f,d.id]),F=Object(i.useCallback)((()=>{null==m||m(d),v({metric:"view_in_context__stream"})}),[m,d,v]),z=Object(i.useMemo)((()=>!Object(y.isEmpty)(d.context)),[d]),$=void 0!==f,q=z&&void 0!==m,B=$||q,N=Object(i.useMemo)((()=>{const e=[];return $&&e.push({label:M,onClick:P}),q&&e.push({label:R,onClick:F}),e}),[$,q,P,F]),W=Object(i.useMemo)((()=>d.columns.reduce(((e,t)=>({...e,[t.columnId]:t})),{})),[d.columns]),V=Object(i.useMemo)((()=>s.reduce(((e,t)=>t.columns.reduce(((e,t)=>({...e,[t.columnId]:[...e[t.columnId]||[],t]})),e)),{})),[s]);return o.a.createElement(T,{"data-test-subj":"streamEntry logTextStreamEntry",ref:e,onMouseEnter:D,onMouseLeave:I,isHighlighted:u,scale:p},t.map((e=>{if(Object(S.d)(e)){const t=W[e.timestampColumn.id],i=n[e.timestampColumn.id];return o.a.createElement(r.a,b()({"data-test-subj":"logColumn timestampLogColumn",key:e.timestampColumn.id},i),Object(a.k)(t)?o.a.createElement(w,{time:t.timestamp,render:e.timestampColumn.render}):null)}if(Object(S.c)(e)){const t=W[e.messageColumn.id],i=n[e.messageColumn.id];return o.a.createElement(r.a,b()({"data-test-subj":"logColumn messageLogColumn",key:e.messageColumn.id},i),t?o.a.createElement(h,{columnValue:t,highlights:V[t.columnId]||[],isActiveHighlight:l,wrapMode:g?"long":"pre-wrapped",render:e.messageColumn.render}):null)}if(Object(S.b)(e)){const t=W[e.fieldColumn.id],i=n[e.fieldColumn.id];return o.a.createElement(r.a,b()({"data-test-subj":`logColumn fieldLogColumn fieldLogColumn:${e.fieldColumn.field}`,key:e.fieldColumn.id},i),t?o.a.createElement(c,{columnValue:t,highlights:V[t.columnId]||[],isActiveHighlight:l,wrapMode:g?"long":"pre-wrapped",render:e.fieldColumn.render}):null)}})),B?o.a.createElement(r.a,b()({key:"logColumn iconLogColumn iconLogColumn:details"},n[r.c]),O||_?o.a.createElement(x.a,{"aria-label":C,isOpen:_,onOpen:L,onClose:A,items:N}):null):null)})),T=s.euiStyled.div.attrs((()=>({role:"row"})))`
  align-items: stretch;
  color: ${e=>e.theme.eui.euiTextColor};
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  overflow: hidden;

  ${e=>Object(u.d)(e.scale)};
  ${e=>e.isHighlighted?u.a:""}

  &:hover {
    ${u.b}
  }
`;var k=n(14),L=n.n(k),A=n(18),D=n(65),I=n.n(D);var P=n(115),F=n(158),z=n(130),$=n(128),q=n(179);function B(e){switch(e.kind){case"logEntry":return`${e.logEntry.cursor.time}:${e.logEntry.cursor.tiebreaker}:${e.logEntry.id}`}}function N(e){const t=e.split(":");return{gid:t.slice(2).join(":"),tiebreaker:parseInt(t[1],10),time:parseInt(t[0],10)}}const W=Object($.bisector)(Object(q.a)((function(e){switch(e.kind){case"logEntry":return e.logEntry.cursor}})));var V=n(205),H=n(13);const U=({children:e})=>o.a.createElement(H.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},o.a.createElement(H.EuiFlexItem,{grow:!1},e),o.a.createElement(H.EuiFlexItem,null,o.a.createElement(H.EuiHorizontalRule,null)));var K=n(30);const J={hour12:!1,month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};class loading_item_view_LogTextStreamLoadingItemView extends i.PureComponent{render(){const{position:e,timestamp:t,startDateExpression:n,endDateExpression:r,className:o,hasMore:s,isLoading:a,isStreaming:l,onExtendRange:u,onStreamStart:c}=this.props,d=!s&&!l,h=i.createElement(G,{justifyContent:"center",alignItems:"center",gutterSize:"m"},a||l?i.createElement(Q,{kind:l?"streaming":"loading"}):d?i.createElement(Z,{position:e,onStreamStart:c,onExtendRange:u,startDateExpression:n,endDateExpression:r}):null);return i.createElement(Y,{className:o,position:e},"start"===e?h:null,i.createElement(X,{timestamp:t,position:e,isStreaming:l}),"end"===e?h:null)}}const G=Object(s.euiStyled)(H.EuiFlexGroup)`
  height: 40px;
`,Y=s.euiStyled.div`
  padding-left: ${e=>e.theme.eui.euiSizeS};
  padding-top: ${e=>"start"===e.position?e.theme.eui.euiSizeL:e.theme.eui.euiSizeM};
  padding-bottom: ${e=>"end"===e.position?e.theme.eui.euiSizeL:e.theme.eui.euiSizeM};
`,X=({timestamp:e,position:t,isStreaming:n})=>{const r=n&&"end"===t?i.createElement(A.FormattedRelative,{units:"second",value:e,updateInterval:1}):i.createElement(A.FormattedTime,b()({value:e},J)),o="start"===t?i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.showingEntriesFromTimestamp",defaultMessage:"Showing entries from {timestamp}",values:{timestamp:r}}):n?i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.lastUpdate",defaultMessage:"Last update {timestamp}",values:{timestamp:r}}):i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.showingEntriesUntilTimestamp",defaultMessage:"Showing entries until {timestamp}",values:{timestamp:r}});return i.createElement(U,null,i.createElement(H.EuiTitle,{size:"xxs"},o))},Q=({kind:e})=>i.createElement(i.Fragment,null,i.createElement(H.EuiFlexItem,{grow:!1},i.createElement(H.EuiLoadingSpinner,{size:"l"})),i.createElement(H.EuiFlexItem,{grow:!1},i.createElement(H.EuiText,{size:"s"},"streaming"===e?i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.streamingNewEntriesText",defaultMessage:"Streaming new entries"}):i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.loadingNewEntriesText",defaultMessage:"Loading new entries"})))),Z=({position:e,startDateExpression:t,endDateExpression:n,onExtendRange:r,onStreamStart:o})=>{if("now"===("start"===e?t:n)&&"end"===e)return i.createElement(H.EuiButton,{onClick:o,size:"s"},i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.streamLive",defaultMessage:"Stream live"}));const s="start"===e?"arrowUp":"arrowDown",a="start"===e?Object(K.b)(t,"before",n):Object(K.b)(n,"after",t);return a&&"diffUnit"in a?i.createElement(H.EuiButton,{onClick:()=>{"function"==typeof r&&r(a.value)},iconType:s,size:"s"},i.createElement(ee,{amount:a.diffAmount,unit:a.diffUnit})):null},ee=({amount:e,unit:t})=>{switch(t){case"ms":return i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByMillisecondsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {millisecond} other {milliseconds}}",values:{amount:e}});case"s":return i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeBySecondsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {second} other {seconds}}",values:{amount:e}});case"m":return i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByMinutesButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {minute} other {minutes}}",values:{amount:e}});case"h":return i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByHoursButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {hour} other {hours}}",values:{amount:e}});case"d":return i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByDaysButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {day} other {days}}",values:{amount:e}});case"w":return i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByWeeksButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {week} other {weeks}}",values:{amount:e}});case"M":return i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByMonthsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {month} other {months}}",values:{amount:e}});case"y":return i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByYearsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {year} other {years}}",values:{amount:e}});default:throw new TypeError("Unhandled unit: "+t)}};class jump_to_tail_LogTextStreamJumpToTail extends i.PureComponent{render(){const{onClickJump:e,width:t}=this.props;return i.createElement(te,{width:t},i.createElement(ne,null,i.createElement(H.EuiText,{color:"subdued"},i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.streamingNewEntriesText",defaultMessage:"Streaming new entries"}))),i.createElement(H.EuiButtonEmpty,{size:"xs",onClick:e,iconType:"arrowDown"},i.createElement(A.FormattedMessage,{id:"xpack.infra.logs.jumpToTailText",defaultMessage:"Jump to most recent entries"})))}}const te=s.euiStyled.div`
  align-items: center;
  display: flex;
  min-height: ${e=>e.theme.eui.euiSizeXXL};
  width: ${e=>e.width}px;
  position: fixed;
  bottom: 0;
  background-color: ${e=>e.theme.eui.euiColorEmptyShade};
`,ne=s.euiStyled.div`
  padding: 8px 16px;
`;class measurable_item_view_MeasurableItemView extends i.PureComponent{constructor(...e){super(...e),L()(this,"childRef",i.createRef()),L()(this,"getOffsetRect",(()=>{const e=this.childRef.current;return null===e?null:{height:e.offsetHeight,left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth}}))}componentDidMount(){this.props.register(this.props.registrationKey,this)}componentWillUnmount(){this.props.register(this.props.registrationKey,null)}componentDidUpdate(e){e.registrationKey!==this.props.registrationKey&&(this.props.register(e.registrationKey,null),this.props.register(this.props.registrationKey,this))}render(){return this.props.children(this.childRef)}}var re=n(206),ie=n(167);const oe=({timestamp:e})=>{const t=Object(ie.a)(e);return o.a.createElement(H.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},o.a.createElement(H.EuiFlexItem,{grow:!1},o.a.createElement(H.EuiTitle,{size:"xxs"},o.a.createElement("h2",{style:{paddingLeft:8}},t))),o.a.createElement(H.EuiFlexItem,null,o.a.createElement(H.EuiHorizontalRule,null)))};class scrollable_log_text_stream_view_ScrollableLogTextStreamView extends o.a.PureComponent{static getDerivedStateFromProps(e,t){const n=e.target&&e.target!==t.target,r=e.items.length>0,i=r&&t.isScrollLocked?t.items:e.items;return e.isStreaming&&r?{target:e.target,targetId:B(e.items[e.items.length-1]),items:i}:n&&r?{target:e.target,targetId:B((o=e.items,s=e.target,o[Math.min(W.left(o,s),o.length-1)])),items:i}:r?!r||i.length===t.items.length&&i[0]===t.items[0]?null:{...t,items:i}:{target:null,targetId:null,items:[]};var o,s}constructor(e){super(e),L()(this,"handleOpenFlyout",(e=>{var t,n;null===(t=(n=this.props).onOpenLogEntryFlyout)||void 0===t||t.call(n,e)})),L()(this,"handleOpenViewLogInContext",(e=>{const{setContextEntry:t}=this.props;t&&t(e)})),L()(this,"handleReload",(()=>{const{reloadItems:e}=this.props;e&&e()})),L()(this,"handleVisibleChildrenChange",function(e,t=y.isEqual){let n,r;return(...i)=>(t(i,n)||(n=i,r=e(...i)),r)}((({topChild:e,middleChild:t,bottomChild:n,pagesAbove:r,pagesBelow:i,fromScroll:o})=>{o&&this.props.isStreaming&&this.setState({isScrollLocked:0!==i}),this.props.reportVisibleInterval({endKey:N(n),middleKey:N(t),pagesAfterEnd:i,pagesBeforeStart:r,startKey:N(e),fromScroll:o})}))),L()(this,"handleJumpToTail",(()=>{const{items:e}=this.props,t=B(e[e.length-1]);this.setState({targetId:t,isScrollLocked:!1})})),this.state={target:null,targetId:null,items:e.items,isScrollLocked:!1}}render(){var e;const{columnConfigurations:t,currentHighlightKey:n,hasMoreAfterEnd:r,hasMoreBeforeStart:s,highlightedItem:a,isLoadingMore:l,isReloading:u,isStreaming:c,scale:d,wrap:h,startDateExpression:f,endDateExpression:m,lastLoadedTime:p,updateDateRange:g,startLiveStreaming:b,onOpenLogEntryFlyout:y,setContextEntry:E}=this.props,O=null===(e=this.props.hideScrollbar)||void 0===e||e,{targetId:w,items:j,isScrollLocked:x}=this.state,S=j.length>0,C=!!y,M=!!E;return o.a.createElement(ae,null,!u||c&&S?S?o.a.createElement(se,{columnConfigurations:t,scale:d},(({columnWidths:e,CharacterDimensionsProbe:u})=>o.a.createElement(o.a.Fragment,null,o.a.createElement(u,null),o.a.createElement(V.b,{columnConfigurations:t,columnWidths:e}),o.a.createElement(P.a,{bounds:!0,content:!0,detectAnyWindowResize:"height"},(({measureRef:u,bounds:{height:v=0},content:{width:y=0}})=>o.a.createElement(le,{ref:u},o.a.createElement(re.b,{height:v,width:y,onVisibleChildrenChange:this.handleVisibleChildrenChange,target:w,hideScrollbar:O,"data-test-subj":"logStream",isLocked:x,entriesCount:j.length},(u=>j.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement(loading_item_view_LogTextStreamLoadingItemView,{position:"start",isLoading:l,hasMore:s,timestamp:j[0].logEntry.cursor.time,isStreaming:!1,startDateExpression:f,endDateExpression:m,onExtendRange:e=>g({startDateExpression:e})}),j.map(((r,s)=>{const l=r.logEntry.cursor.time;let c=!1;if(s>0){const e=j[s-1].logEntry.cursor.time;c=!I()(l).isSame(e,"day")}return o.a.createElement(i.Fragment,{key:B(r)},c&&o.a.createElement(oe,{timestamp:l}),o.a.createElement(measurable_item_view_MeasurableItemView,{register:u,registrationKey:B(r)},(i=>o.a.createElement(_,{columnConfigurations:t,columnWidths:e,openFlyoutWithItem:C?this.handleOpenFlyout:void 0,openViewLogInContext:M?this.handleOpenViewLogInContext:void 0,boundingBoxRef:i,logEntry:r.logEntry,highlights:r.highlights,isActiveHighlight:!!n&&n.gid===r.logEntry.id,scale:d,wrap:h,isHighlighted:!!a&&r.logEntry.id===a}))))})),o.a.createElement(loading_item_view_LogTextStreamLoadingItemView,{position:"end",isLoading:c||l,hasMore:r,isStreaming:c,timestamp:c&&p?p.valueOf():j[j.length-1].logEntry.cursor.time,startDateExpression:f,endDateExpression:m,onExtendRange:e=>g({endDateExpression:e}),onStreamStart:()=>b()}),x&&o.a.createElement(jump_to_tail_LogTextStreamJumpToTail,{width:y,onClickJump:this.handleJumpToTail})):null)))))))):o.a.createElement(F.a,{titleText:v.i18n.translate("xpack.infra.logs.emptyView.noLogMessageTitle",{defaultMessage:"There are no log messages to display."}),bodyText:v.i18n.translate("xpack.infra.logs.emptyView.noLogMessageDescription",{defaultMessage:"Try adjusting your filter."}),refetchText:v.i18n.translate("xpack.infra.logs.emptyView.checkForNewDataButtonLabel",{defaultMessage:"Check for new data"}),onRefetch:this.handleReload,testString:"logsNoDataPrompt"}):o.a.createElement(z.a,{width:"100%",height:"100%",text:o.a.createElement(A.FormattedMessage,{id:"xpack.infra.logs.scrollableLogTextStreamView.loadingEntriesLabel",defaultMessage:"Loading entries"})}))}}const se=({children:e,columnConfigurations:t,scale:n})=>e(Object(r.d)({columnConfigurations:t,scale:n})),ae=s.euiStyled.div`
  overflow: hidden;
  display: flex;
  flex: 1 1 0%;
  flex-direction: column;
  align-items: stretch;
`,le=s.euiStyled.div`
  overflow: hidden;
  flex: 1 1 0%;
`},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return f}));var r=n(36);const i=({abortController:e,options:t,request:n,response$:i})=>i.pipe(Object(r.map)((r=>({abortController:e,options:t,request:n,response:r}))));var o=n(39),s=n(38);const a=(e,t)=>n=>n.pipe(Object(r.map)((e=>{var n,r;const{data:i,errors:o=[]}=t(e.rawResponse);return{data:i,errors:o,isPartial:null!==(n=e.isPartial)&&void 0!==n&&n,isRunning:null!==(r=e.isRunning)&&void 0!==r&&r,loaded:e.loaded,total:e.total}})),Object(r.startWith)({data:e,errors:[],isPartial:!0,isRunning:!0,loaded:0,total:void 0}),Object(r.catchError)((t=>{var n;return Object(o.of)({data:e,errors:[t instanceof s.AbortError?{type:"aborted"}:{type:"generic",message:`${null!==(n=t.message)&&void 0!==n?n:t}`}],isPartial:!0,isRunning:!1,loaded:0,total:void 0})})));var l=n(2),u=n(20),c=n(109);const d=({getRequest:e,parseResponses:t})=>{const{services:n}=Object(u.b)(),i=Object(c.b)((()=>new o.ReplaySubject(1)),[]),s=Object(l.useCallback)(((...o)=>{const s=e(...o);if(null==s)return;const a=new AbortController;let l=!0;const u={...s,abortController:a,response$:n.data.search.search(s.request,{abortSignal:a.signal,...s.options}).pipe(Object(r.tap)({error:()=>{l=!1},complete:()=>{l=!1}}),Object(c.a)((()=>{l&&a.abort()})),t,Object(r.share)())};return i.next(u),u}),[e,n.data.search,t,i]);return{requests$:i,search:s}},h=e=>{var t,n;const{latestValue:r}=Object(c.c)(e,void 0);return{cancelRequest:Object(l.useCallback)((()=>{null==r||r.abortController.abort()}),[r]),isRequestRunning:null!==(t=null==r?void 0:r.response.isRunning)&&void 0!==t&&t,isResponsePartial:null!==(n=null==r?void 0:r.response.isPartial)&&void 0!==n&&n,latestResponseData:null==r?void 0:r.response.data,latestResponseErrors:null==r?void 0:r.response.errors,loaded:null==r?void 0:r.response.loaded,total:null==r?void 0:r.response.total}},f=e=>{const t=Object(c.d)(e,m),{cancelRequest:n,isRequestRunning:r,isResponsePartial:i,latestResponseData:o,latestResponseErrors:s,loaded:a,total:l}=h(t);return{cancelRequest:n,isRequestRunning:r,isResponsePartial:i,latestResponseData:o,latestResponseErrors:s,loaded:a,total:l}},m=Object(r.switchMap)(i)},155:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return c})),n.d(t,"j",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"i",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return b}));var r=n(128),i=n(179);const o=e=>e.cursor,s=e=>({...e.cursor,gid:e.id}),a=Object(r.bisector)(Object(i.a)(o)),l=a.left,u=(a.right,Object(i.b)(o)),c=e=>null!=e&&"timestamp"in e,d=e=>null!=e&&"message"in e,h=e=>null!=e&&"field"in e,f=e=>"constant"in e,m=e=>"field"in e&&"value"in e,p=e=>null!=e&&"message"in e,g=e=>null!=e&&"field"in e,b=e=>e&&"field"in e&&"highlights"in e},158:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a}));n(33),n(13),n(2),n(138);var r=n(166)},163:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(e){var t=r.useRef();return r.useEffect((function(){t.current=e})),t.current}},165:function(e,t,n){"use strict";function r(e){return"timestampColumn"in e}function i(e){return"messageColumn"in e}function o(e){return"fieldColumn"in e}function s(e){return"number"==typeof e?`${e}px`:e}n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}))},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(13),i=n(2),o=n.n(i),s=n(17);const a=({titleText:e,bodyText:t,refetchText:n,onRefetch:i,testString:s})=>o.a.createElement(l,{title:o.a.createElement("h2",null,e),titleSize:"m",body:o.a.createElement("p",null,t),actions:o.a.createElement(r.EuiButton,{iconType:"refresh",color:"primary",fill:!0,onClick:i},n),"data-test-subj":s}),l=Object(s.euiStyled)(r.EuiEmptyPrompt)`
  align-self: center;
`},167:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e,t=r.i18n.getLocale()){return new Intl.DateTimeFormat(t,{year:"numeric",month:"short",day:"numeric"}).format(e)}},178:function(e,t,n){"use strict";n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return $})),n.d(t,"c",(function(){return q}));var r=n(83),i=n.n(r),o=n(27),s=n(2),a=n(164),l=n.n(a),u=n(195),c=n.n(u),d=n(109),h=n(36),f=n(19),m=n(0),p=n(11),g=n(124),b=n(129),v=n(203);const y="infra-log-entries",E=m.intersection([m.type({sourceId:m.string,startTimestamp:m.number,endTimestamp:m.number,size:m.number}),m.partial({query:b.b,columns:m.array(p.d),highlightPhrase:m.string})]),O=m.intersection([E,g.b]),w=m.intersection([E,g.a]),j=m.union([E,O,w]),x=m.intersection([m.type({data:m.intersection([m.type({entries:m.array(g.f),topCursor:m.union([g.d,m.null]),bottomCursor:m.union([g.d,m.null])}),m.partial({hasMoreBefore:m.boolean,hasMoreAfter:m.boolean})])}),m.partial({errors:m.array(v.a)})]);var S=n(152);const C=({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,sourceId:i,startTimestamp:o})=>{const{search:a,requests$:l}=Object(S.c)({getRequest:Object(s.useCallback)(((s,a)=>{var l;return i?{request:{params:j.encode({after:s,columns:e,endTimestamp:null!==(l=null==a?void 0:a.extendTo)&&void 0!==l?l:t,highlightPhrase:n,query:r,size:a.size,sourceId:i,startTimestamp:o})},options:{strategy:y}}:null}),[e,t,n,r,i,o]),parseResponses:R});return{fetchLogEntriesAfter:a,logEntriesAfterSearchRequests$:l}},M=({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,sourceId:i,startTimestamp:o})=>{const{fetchLogEntriesAfter:s,logEntriesAfterSearchRequests$:a}=C({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,sourceId:i,startTimestamp:o}),{cancelRequest:l,isRequestRunning:u,isResponsePartial:c,loaded:h,logEntriesAfterSearchResponse$:f,total:m}=(e=>{const t=Object(d.d)(e,_),{cancelRequest:n,isRequestRunning:r,isResponsePartial:i,loaded:o,total:s}=Object(S.d)(t);return{cancelRequest:n,isRequestRunning:r,isResponsePartial:i,loaded:o,logEntriesAfterSearchRequests$:e,logEntriesAfterSearchResponse$:t,total:s}})(a);return{cancelRequest:l,fetchLogEntriesAfter:s,isRequestRunning:u,isResponsePartial:c,loaded:h,logEntriesAfterSearchResponse$:f,total:m}},R=Object(S.b)(null,Object(f.b)(x)),_=Object(h.exhaustMap)(S.a);var T=n(39);const k=({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,sourceId:i,startTimestamp:o})=>{const{search:a,requests$:l}=Object(S.c)({getRequest:Object(s.useCallback)(((s,a)=>{var l;return i?{request:{params:j.encode({before:s,columns:e,endTimestamp:t,highlightPhrase:n,query:r,size:a.size,sourceId:i,startTimestamp:null!==(l=a.extendTo)&&void 0!==l?l:o})},options:{strategy:y}}:null}),[e,t,n,r,i,o]),parseResponses:A});return{fetchLogEntriesBefore:a,logEntriesBeforeSearchRequests$:l}},L=({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,sourceId:i,startTimestamp:o})=>{const{fetchLogEntriesBefore:s,logEntriesBeforeSearchRequests$:a}=k({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,sourceId:i,startTimestamp:o}),{cancelRequest:l,isRequestRunning:u,isResponsePartial:c,loaded:h,logEntriesBeforeSearchResponse$:f,total:m}=(e=>{const t=Object(d.d)(e,D),{cancelRequest:n,isRequestRunning:r,isResponsePartial:i,loaded:o,total:s}=Object(S.d)(t);return{cancelRequest:n,isRequestRunning:r,isResponsePartial:i,loaded:o,logEntriesBeforeSearchRequests$:e,logEntriesBeforeSearchResponse$:t,total:s}})(a);return{cancelRequest:l,fetchLogEntriesBefore:s,isRequestRunning:u,isResponsePartial:c,loaded:h,logEntriesBeforeSearchResponse$:f,total:m}},A=Object(S.b)(null,Object(f.b)(x)),D=Object(h.exhaustMap)(S.a),I={before:void 0,after:void 0,combined:void 0},P={entries:[],topCursor:null,bottomCursor:null,hasMoreBefore:!0,hasMoreAfter:!0},F=200;function z({sourceId:e,startTimestamp:t,endTimestamp:n,query:r,center:i,columns:a}){const[u,f]=c()(P),[m,p]=Object(s.useState)(!1),g=l()(t),b=l()(n),[v,y]=Object(s.useState)(r);Object(o.isEqual)(r,v)||y(r),Object(s.useEffect)((()=>{g&&g>t&&f({hasMoreBefore:!0})}),[g,t,f]),Object(s.useEffect)((()=>{b&&b<n&&f({hasMoreAfter:!0})}),[b,n,f]);const E=Object(s.useMemo)((()=>({sourceId:e,startTimestamp:t,endTimestamp:n,query:v,columnOverrides:a})),[a,n,v,e,t]),{fetchLogEntriesAround:O,isRequestRunning:w,logEntriesAroundSearchResponses$:j}=(({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,sourceId:i,startTimestamp:o})=>{var a,l;const{fetchLogEntriesBefore:u}=k({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,sourceId:i,startTimestamp:o}),{fetchLogEntriesAfter:c}=C({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,sourceId:i,startTimestamp:o}),f=Object(d.b)((()=>new T.ReplaySubject),[]),m=Object(s.useCallback)(((e,t)=>{const n=u(e,{size:Math.floor(t/2)});if(null==n)return;const r=Object(S.a)(n).pipe(Object(h.last)(),Object(h.map)((n=>{var r,i;const o=null!==(r=null===(i=n.response.data)||void 0===i?void 0:i.bottomCursor)&&void 0!==r?r:{time:e.time-1,tiebreaker:0},s=c(o,{size:Math.ceil(t/2)});if(null==s)throw new Error("Failed to create request: no request args given");return s})));f.next([n,r])}),[c,u,f]),p=Object(d.b)((e=>e.pipe(Object(h.switchMap)((([e])=>e.pipe(Object(h.switchMap)((([e,t])=>{const n=Object(S.a)(e),r=t.pipe(Object(h.switchMap)(S.a),Object(h.startWith)(void 0));return Object(T.combineLatest)([n,r])})),Object(h.map)((([e,t])=>{var n,r,i,o,s,a,l,u,c,d,h,f;const m=e.response.loaded,p=null==t?void 0:t.response.loaded,g=e.response.total,b=null==t?void 0:t.response.total;return{before:e,after:t,combined:{isRunning:null!==(n=e.response.isRunning||(null==t?void 0:t.response.isRunning))&&void 0!==n&&n,isPartial:null!==(r=e.response.isPartial||(null==t?void 0:t.response.isPartial))&&void 0!==r&&r,loaded:null!=m||null!=p?(null!=m?m:0)+(null!=p?p:0):void 0,total:null!=g||null!=b?(null!=g?g:0)+(null!=b?b:0):void 0,entries:[...null!==(i=null===(o=e.response.data)||void 0===o?void 0:o.entries)&&void 0!==i?i:[],...null!==(s=null==t||null===(a=t.response.data)||void 0===a?void 0:a.entries)&&void 0!==s?s:[]],errors:[...null!==(l=e.response.errors)&&void 0!==l?l:[],...null!==(u=null==t?void 0:t.response.errors)&&void 0!==u?u:[]],hasMoreBefore:null===(c=e.response.data)||void 0===c?void 0:c.hasMoreBefore,hasMoreAfter:null==t||null===(d=t.response.data)||void 0===d?void 0:d.hasMoreAfter,topCursor:null===(h=e.response.data)||void 0===h?void 0:h.topCursor,bottomCursor:null==t||null===(f=t.response.data)||void 0===f?void 0:f.bottomCursor}}}))))))),[f]),{latestValue:{before:g,after:b,combined:v}}=Object(d.c)(p,I);return{cancelRequest:Object(s.useCallback)((()=>{null==g||g.abortController.abort(),null==b||b.abortController.abort()}),[g,b]),fetchLogEntriesAround:m,isRequestRunning:null!==(a=null==v?void 0:v.isRunning)&&void 0!==a&&a,isResponsePartial:null!==(l=null==v?void 0:v.isPartial)&&void 0!==l&&l,loaded:null==v?void 0:v.loaded,logEntriesAroundSearchResponses$:p,total:null==v?void 0:v.total}})(E);Object(d.e)(j,{next:({before:e,after:t,combined:n})=>{null==e.response.data&&null==(null==t?void 0:t.response.data)||n.isPartial||(f((e=>{var t,r;const i=m?P:e;return{...m?P:i,entries:n.entries,hasMoreAfter:null!==(t=n.hasMoreAfter)&&void 0!==t?t:i.hasMoreAfter,hasMoreBefore:null!==(r=n.hasMoreAfter)&&void 0!==r?r:i.hasMoreAfter,bottomCursor:n.bottomCursor,topCursor:n.topCursor,lastLoadedTime:new Date}})),m&&p(!1))}});const{fetchLogEntriesBefore:x,isRequestRunning:R,logEntriesBeforeSearchResponse$:_}=L(E);Object(d.e)(_,{next:({response:{data:e,isPartial:t}})=>{null==e||t||(f((t=>{var n,r,i;const o=m?P:t;return{...m?P:o,entries:[...e.entries,...o.entries],hasMoreBefore:null!==(n=e.hasMoreBefore)&&void 0!==n?n:o.hasMoreBefore,topCursor:null!==(r=e.topCursor)&&void 0!==r?r:o.topCursor,bottomCursor:null!==(i=o.bottomCursor)&&void 0!==i?i:e.bottomCursor,lastLoadedTime:new Date}})),m&&p(!1))}});const A=Object(s.useCallback)((e=>{if(null===u.topCursor)throw new Error("useLogStream: Cannot fetch previous entries. No cursor is set.\nEnsure you have called `fetchEntries` at least once.");(u.hasMoreBefore||null!=e&&e.force)&&x(u.topCursor,{size:F,extendTo:null==e?void 0:e.extendTo})}),[x,u.topCursor,u.hasMoreBefore]),{fetchLogEntriesAfter:D,isRequestRunning:z,logEntriesAfterSearchResponse$:$}=M(E);Object(d.e)($,{next:({response:{data:e,isPartial:t}})=>{null==e||t||(f((t=>{var n,r,i;const o=m?P:t;return{...m?P:o,entries:[...o.entries,...e.entries],hasMoreAfter:null!==(n=e.hasMoreAfter)&&void 0!==n?n:o.hasMoreAfter,topCursor:null!==(r=o.topCursor)&&void 0!==r?r:e.topCursor,bottomCursor:null!==(i=e.bottomCursor)&&void 0!==i?i:o.bottomCursor,lastLoadedTime:new Date}})),m&&p(!1))}});const q=Object(s.useCallback)((e=>{if(null===u.bottomCursor)throw new Error("useLogStream: Cannot fetch next entries. No cursor is set.\nEnsure you have called `fetchEntries` at least once.");(u.hasMoreAfter||null!=e&&e.force)&&D(u.bottomCursor,{size:F,extendTo:null==e?void 0:e.extendTo})}),[D,u.bottomCursor,u.hasMoreAfter]),B=Object(s.useCallback)((()=>{f(P),i?O(i,F):x("last",{size:F})}),[i,O,x,f]),N=Object(s.useCallback)((()=>{p(!0),x("last",{size:F})}),[x]),W=Object(s.useMemo)((()=>w||null==u.bottomCursor&&null==u.topCursor&&R),[w,R,u.bottomCursor,u.topCursor]),V=Object(s.useMemo)((()=>R||z),[z,R]);return{...u,fetchEntries:B,fetchNextEntries:q,fetchPreviousEntries:A,fetchNewestEntries:N,isLoadingMore:V,isReloading:W}}const[$,q]=i()(z)},179:function(e,t,n){"use strict";let r;n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Month=2592e6]="Month",e[e.Year=31104e6]="Year"}(r||(r={}));r.Millisecond,r.Second,r.Minute,r.Hour,r.Day,r.Month,r.Year,r.Second,r.Minute,r.Hour,r.Day,r.Month,r.Year;var i=n(128),o=n(27);const s=e=>Object(o.pick)(e,["time","tiebreaker"]);function a(e,t,n=i.ascending){const r=n(e.time,t.time);if(0===r){const r=n(e.tiebreaker,t.tiebreaker);return 0===r&&void 0!==e.gid&&void 0!==t.gid?n(e.gid,t.gid):r}return r}const l=(e,t)=>(n,r)=>a(e(n),r,t),u=(e,t)=>{const n=l(e,t),r=Object(i.bisector)(n);return(e,t)=>{const i=r.left(e,t);return i>=e.length||0!==n(e[i],t)?null:i}};n(40)},180:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(252),i=n.n(r),o=n(2),s=n.n(o),a=n(17),l=n(27),u=n(108);const c=e=>"function"==typeof e?e:(t,n)=>Object(l.get)(t,e,n),d=Object.assign(((e,t)=>n=>{const r=c(e)(n,d.default);if(void 0!==r)return t instanceof Map?t.get(r):Object(l.get)(t,r)}),{default:Symbol("default")}),h=(e,t,n,r)=>Object(u.parseToHsl)(e).lightness>.5?Object(u.shade)(1-r,t):Object(u.tint)(1-n,t),f=(e,t)=>{const n=Object(u.getLuminance)(e),r=Object(u.getLuminance)(t);return parseFloat((n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)).toFixed(2))},m=(e,t,n)=>f(e,t)>f(e,n)?t:n,p=a.euiStyled.mark`
  color: ${e=>m(e.theme.eui.euiColorAccent,e.theme.eui.euiColorEmptyShade,e.theme.eui.euiColorDarkestShade)};
  background-color: ${e=>e.theme.eui.euiColorAccent};
  outline: 1px solid ${e=>e.theme.eui.euiColorAccent};
  };
`,g=a.euiStyled.mark`
  color: ${e=>m(h(e.theme.eui.euiTextColor,e.theme.eui.euiColorAccent,.7,.5),e.theme.eui.euiColorEmptyShade,e.theme.eui.euiColorDarkestShade)};
  background-color: ${e=>h(e.theme.eui.euiTextColor,e.theme.eui.euiColorAccent,.7,.5)};
  outline: 1px solid ${e=>h(e.theme.eui.euiTextColor,e.theme.eui.euiColorAccent,.7,.5)};
  };
`,b=(e,t,n)=>t.reduce(((e,t,r)=>{const i=e[e.length-1];if("string"!=typeof i)return e;const o=i.indexOf(t);return o>-1?[...e.slice(0,e.length-1),i.slice(0,o),s.a.createElement(n,{key:`highlight-${t}-${r}`},t),i.slice(o+t.length)]:e}),[e]),v=s.a.memo((({highlightTerms:e,isActiveHighlight:t,value:n,render:r})=>r?s.a.createElement(s.a.Fragment,null,r(1===n.length?n[0]:n)):1===n.length?s.a.createElement(s.a.Fragment,null,b(y(n[0]),e,t?p:g)):n.length>1?s.a.createElement("ul",{"data-test-subj":"LogEntryFieldValues"},n.map(((n,r)=>s.a.createElement(E,{key:`LogEntryFieldValue-${r}`,"data-test-subj":`LogEntryFieldValue-${r}`},b(y(n),e,t?p:g))))):null)),y=e=>"string"==typeof e?e:i()(e),E=a.euiStyled.li`
  display: inline;
  &:not(:last-child) {
    margin-right: 1ex;
    &::after {
      content: ',';
    }
  }
`},193:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(70),o=n(4);const s=()=>{const[e]=Object(o.useUiSetting$)(i.UI_SETTINGS.QUERY_ALLOW_LEADING_WILDCARDS),[t]=Object(o.useUiSetting$)(i.UI_SETTINGS.QUERY_STRING_OPTIONS),[n]=Object(o.useUiSetting$)(i.UI_SETTINGS.DATEFORMAT_TZ),[s]=Object(o.useUiSetting$)(i.UI_SETTINGS.COURIER_IGNORE_FILTER_IF_FIELD_NOT_IN_INDEX);return Object(r.useMemo)((()=>({allowLeadingWildcards:e,queryStringOptions:t,dateFormatTZ:n,ignoreFilterIfFieldNotInIndex:s})),[e,n,s,t])}},195:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(e){void 0===e&&(e={});var t=r.useState(e),n=t[0],i=t[1];return[n,r.useCallback((function(e){i((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[i])]}},203:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);const i=r.type({type:r.literal("aborted")}),o=r.type({type:r.literal("generic"),message:r.string}),s=r.type({type:r.literal("shardFailure"),shardInfo:r.type({shard:r.union([r.number,r.null]),index:r.union([r.string,r.null]),node:r.union([r.string,r.null])}),message:r.union([r.string,r.null])}),a=r.union([i,o,s])},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(65),i=n.n(r),o=n(2),s=n(110);const a=(e,{format:t="dateTime",fallbackFormat:n}={})=>{const r=Object(s.a)("dateFormat:scaled")[0]||[["",void 0]],a={dateTime:Object(s.a)("dateFormat")[0],time:r.find((([e])=>""===e))[1]}[t];return Object(o.useMemo)((()=>((e,t,n="Y-MM-DD HH:mm:ss.SSS")=>t?i()(e).format(t):i()(e).format(n))(e,a,n)),[e,a,n])}},205:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return b}));var r=n(33),i=n.n(r),o=n(1),s=n(2),a=n.n(s),l=n(108),u=n(17),c=n(96),d=n(206),h=n(104),f=n(167),m=n(165);const p=({columnConfigurations:e,columnWidths:t})=>{const{firstVisiblePosition:n}=Object(s.useContext)(h.a.Context);return a.a.createElement(b,null,e.map((e=>{if(Object(m.d)(e)){let r;return r=!1===e.timestampColumn.header?null:"string"==typeof e.timestampColumn.header?e.timestampColumn.header:n?Object(f.a)(n.time):o.i18n.translate("xpack.infra.logs.stream.timestampColumnTitle",{defaultMessage:"Timestamp"}),a.a.createElement(g,{key:e.timestampColumn.id,columnWidth:t[e.timestampColumn.id],"data-test-subj":"logColumnHeader timestampLogColumnHeader"},r)}if(Object(m.c)(e)){let n;return n=!1===e.messageColumn.header?null:"string"==typeof e.messageColumn.header?e.messageColumn.header:o.i18n.translate("xpack.infra.logs.stream.messageColumnTitle",{defaultMessage:"Message"}),a.a.createElement(g,{columnWidth:t[e.messageColumn.id],"data-test-subj":"logColumnHeader messageLogColumnHeader",key:e.messageColumn.id},n)}if(Object(m.b)(e)){let n;return n=!1===e.fieldColumn.header?null:"string"==typeof e.fieldColumn.header?e.fieldColumn.header:e.fieldColumn.field,a.a.createElement(g,{columnWidth:t[e.fieldColumn.id],"data-test-subj":"logColumnHeader fieldLogColumnHeader",key:e.fieldColumn.id},n)}})))},g=({children:e,columnWidth:t,"data-test-subj":n})=>a.a.createElement(v,i()({"data-test-subj":n},t),a.a.createElement(y,null,e)),b=u.euiStyled.div.attrs((e=>{var t;return{role:null!==(t=e.role)&&void 0!==t?t:"row"}}))`
  align-items: stretch;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  overflow: hidden;
  padding-right: ${d.a}px;
  border-bottom: ${e=>e.theme.eui.euiBorderThin};
  box-shadow: 0 2px 2px -1px ${e=>Object(l.transparentize)(.3,e.theme.eui.euiColorLightShade)};
  position: relative;
  z-index: 1;
`,v=Object(u.euiStyled)(c.a).attrs((e=>{var t;return{role:null!==(t=e.role)&&void 0!==t?t:"columnheader"}}))`
  align-items: center;
  display: flex;
  flex-direction: row;
  height: 32px;
  overflow: hidden;
`,y=Object(u.euiStyled)(c.b)`
  color: ${e=>e.theme.eui.euiTitleColor};
  font-size: ${e=>e.theme.eui.euiFontSizeS};
  font-weight: ${e=>e.theme.eui.euiFontWeightSemiBold};
  line-height: ${e=>e.theme.eui.euiLineHeight};
  text-overflow: clip;
  white-space: pre;
`},206:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return VerticalScrollPanel}));var r=n(14),i=n.n(r),o=n(128),s=n(27),a=n(2),l=n(17);const u=20;class VerticalScrollPanel extends a.PureComponent{constructor(...e){super(...e),i()(this,"scrollRef",a.createRef()),i()(this,"childRefs",new Map),i()(this,"childDimensions",new Map),i()(this,"nextScrollEventFromCenterTarget",!1),i()(this,"handleScroll",Object(s.throttle)((()=>{this.reportVisibleChildren(!this.nextScrollEventFromCenterTarget),this.nextScrollEventFromCenterTarget=!1}),250)),i()(this,"registerChild",((e,t)=>{null===t?this.childRefs.delete(e):this.childRefs.set(e,t)})),i()(this,"updateChildDimensions",(()=>{this.childDimensions=new Map(Object(s.sortBy)(Array.from(this.childRefs.entries()).reduce(((e,[t,n])=>{const r=n.getOffsetRect();return null!==r&&e.push([t,r]),e}),[]),"1.top"))})),i()(this,"getVisibleChildren",(()=>{if(null===this.scrollRef.current||this.childDimensions.size<=0)return;const{childDimensions:e,props:{height:t},scrollRef:{current:{scrollTop:n}}}=this;return d(Array.from(e.entries()),t,n)})),i()(this,"getScrollPosition",(()=>{if(null===this.scrollRef.current)return;const{props:{height:e},scrollRef:{current:{scrollHeight:t,scrollTop:n}}}=this;return{pagesAbove:n/e,pagesBelow:(t-n-e)/e}})),i()(this,"reportVisibleChildren",((e=!1)=>{const{onVisibleChildrenChange:t}=this.props,n=this.getVisibleChildren(),r=this.getScrollPosition();n&&r&&"function"==typeof t&&t({bottomChild:n.bottomChild,middleChild:n.middleChild,topChild:n.topChild,fromScroll:e,...r})})),i()(this,"centerTarget",((e,t)=>{const{props:{height:n},childDimensions:r,scrollRef:i}=this;if(null===i.current||!e||r.size<=0)return!1;const o=r.get(e);if(o){const e=void 0===t?o.height/2:t;this.nextScrollEventFromCenterTarget=!0;const r=i.current.scrollTop,s=o.top+e-n/2;return i.current.scrollTop=s,r!==s}return!1})),i()(this,"handleUpdatedChildren",((e,t)=>{this.updateChildDimensions();let n=!1;e&&(n=this.centerTarget(e,t)),n||this.reportVisibleChildren()}))}componentDidMount(){this.handleUpdatedChildren(this.props.target,void 0)}getSnapshotBeforeUpdate(e){if(0===e.height&&this.props.height>0||e.target!==this.props.target&&this.props.target)return{scrollOffset:void 0,scrollTarget:this.props.target};if(this.props.height>0){const e=this.getVisibleChildren();if(e)return{scrollOffset:e.middleChildOffset,scrollTarget:e.middleChild}}return{scrollOffset:void 0,scrollTarget:void 0}}componentDidUpdate(e,t,n){e.height===this.props.height&&e.target===this.props.target&&e.entriesCount===this.props.entriesCount||this.handleUpdatedChildren(n.scrollTarget,n.scrollOffset),e.isLocked&&!this.props.isLocked&&this.scrollRef.current&&(this.scrollRef.current.scrollTop=this.scrollRef.current.scrollHeight)}componentWillUnmount(){this.childRefs.clear()}render(){const{children:e,height:t,width:n,hideScrollbar:r,"data-test-subj":i}=this.props,o=r?u:0;return a.createElement(c,{"data-test-subj":i,style:{height:t,width:n+o},scrollbarOffset:o,onScroll:this.handleScroll,ref:this.scrollRef},"function"==typeof e?e(this.registerChild):null)}}i()(VerticalScrollPanel,"defaultProps",{hideScrollbar:!1});const c=l.euiStyled.div`
  overflow-x: hidden;
  overflow-y: scroll;
  position: relative;
  padding-right: ${e=>e.scrollbarOffset||0}px;

  & * {
    overflow-anchor: none;
  }
`,d=(e,t,n)=>{const r=Math.min(h(e,n+t/2),e.length-1),i=Math.min(h(e,n,0,r),e.length-1),o=Math.min(h(e,n+t,r),e.length-1);return{bottomChild:e[o][0],bottomChildOffset:e[o][1].top-n-t,middleChild:e[r][0],middleChildOffset:n+t/2-e[r][1].top,topChild:e[i][0],topChildOffset:e[i][1].top-n}},h=Object(o.bisector)((([e,t])=>t.top+t.height)).left},232:function(e,t,n){"use strict";n.r(t),n.d(t,"LogStream",(function(){return w})),n.d(t,"LogStreamContent",(function(){return j}));var r=n(121),i=n(27),o=n(2),s=n.n(o),a=n(17),l=n(4),u=n(86),c=n(178),d=n(193),h=n(151),f=n(13),m=n(18),p=n(14),g=n.n(p),b=n(163),v=n.n(b);class resettable_error_boundary_ResettableErrorBoundary extends s.a.Component{constructor(...e){super(...e),g()(this,"state",{latestError:void 0}),g()(this,"resetError",(()=>{this.setState((e=>({...e,latestError:void 0})))}))}componentDidUpdate({resetOnChange:e}){const{resetOnChange:t}=this.props,{latestError:n}=this.state;null==n||v()(t,e)||this.resetError()}static getDerivedStateFromError(e){return{latestError:e}}render(){const{children:e,renderError:t}=this.props,{latestError:n}=this.state;return null!=n?t({latestError:n,resetError:this.resetError}):e}}const y=({children:e,resetOnChange:t=null})=>s.a.createElement(resettable_error_boundary_ResettableErrorBoundary,{renderError:O,resetOnChange:t},e),E=({error:e})=>e instanceof r.a?s.a.createElement(f.EuiEmptyPrompt,{title:s.a.createElement(m.FormattedMessage,{id:"xpack.infra.logStream.kqlErrorTitle",defaultMessage:"Invalid KQL expression",tagName:"h2"}),body:s.a.createElement(f.EuiCodeBlock,{className:"eui-textLeft"},e.message)}):s.a.createElement(f.EuiEmptyPrompt,{title:s.a.createElement(m.FormattedMessage,{id:"xpack.infra.logStream.unknownErrorTitle",defaultMessage:"An error occurred",tagName:"h2"}),body:s.a.createElement(f.EuiCodeBlock,{className:"eui-textLeft"},e.message)}),O=({latestError:e})=>s.a.createElement(E,{error:e}),w=({height:e=400,...t})=>s.a.createElement(x,{style:{height:e}},s.a.createElement(y,{resetOnChange:[t.query]},s.a.createElement(j,t))),j=({sourceId:e="default",startTimestamp:t,endTimestamp:n,query:a,filters:f,center:m,highlight:p,columns:g})=>{var b,v;const y=Object(o.useMemo)((()=>g?function(e){return e.map((e=>{switch(e.type){case"timestamp":{const{width:t,header:n,render:r}=e;return{timestampColumn:{id:"___#timestamp",width:t,header:n,render:r}}}case"message":{const{width:t,header:n,render:r}=e;return{messageColumn:{id:"___#message",width:t,header:n,render:r}}}case"field":{const{width:t,header:n,render:r}=e;return{fieldColumn:{id:`___#${e.field}`,field:e.field,width:t,header:n,render:r}}}}}))}(g):void 0),[g]),{services:E}=Object(l.useKibana)();if(null==E||null===(b=E.http)||void 0===b||!b.fetch||null==E||null===(v=E.data)||void 0===v||!v.indexPatterns)throw new Error("<LogStream /> cannot access kibana core services.\n\nEnsure the component is mounted within kibana-react's <KibanaContextProvider> hierarchy.\nRead more at https://github.com/elastic/kibana/blob/main/src/plugins/kibana_react/README.md\"\n");const O=Object(d.a)(),{derivedIndexPattern:w,isLoading:j,loadSource:x,sourceConfiguration:M}=Object(u.b)({sourceId:e,fetch:E.http.fetch,indexPatternsService:E.data.indexPatterns}),R=Object(o.useMemo)((()=>"object"==typeof a&&"bool"in a?S(a,Object(r.b)(w,[],null!=f?f:[],O)):Object(r.b)(w,C(a),null!=f?f:[],O)),[w,f,O,a]),{entries:_,fetchEntries:T,fetchNextEntries:k,fetchPreviousEntries:L,hasMoreAfter:A,hasMoreBefore:D,isLoadingMore:I,isReloading:P}=Object(c.b)({sourceId:e,startTimestamp:t,endTimestamp:n,query:R,center:m,columns:y}),F=Object(o.useMemo)((()=>M?null!=y?y:M.configuration.logColumns:[]),[M,y]),z=Object(o.useMemo)((()=>_.map((e=>({kind:"logEntry",logEntry:e,highlights:[]})))),[_]);Object(o.useEffect)((()=>{x()}),[x]),Object(o.useEffect)((()=>{T()}),[T]);const $=Object(o.useCallback)((({fromScroll:e,pagesBeforeStart:t,pagesAfterEnd:n})=>{e&&(I||(t<2?L():n<2&&k()))}),[I,L,k]);return s.a.createElement(h.g,{target:m||(_.length?_[_.length-1].cursor:null),columnConfigurations:F,items:z,scale:"medium",wrap:!0,isReloading:j||P,isLoadingMore:I,hasMoreBeforeStart:D,hasMoreAfterEnd:A,isStreaming:!1,jumpToTarget:i.noop,reportVisibleInterval:$,reloadItems:T,highlightedItem:null!=p?p:null,currentHighlightKey:null,startDateExpression:"",endDateExpression:"",updateDateRange:i.noop,startLiveStreaming:i.noop,hideScrollbar:!1})},x=a.euiStyled.div`
  display: flex;
  background-color: ${e=>e.theme.eui.euiColorEmptyShade};
`;const S=(e,t)=>({bool:{must:[...e.bool.must,...t.bool.must],filter:[...e.bool.filter,...t.bool.filter],should:[...e.bool.should,...t.bool.should],must_not:[...e.bool.must_not,...t.bool.must_not]}}),C=e=>null==e?[]:"string"==typeof e?[{language:"kuery",query:e}]:"language"in e&&"query"in e?[e]:[];t.default=w},252:function(e,t,n){var r="undefined"!=typeof JSON?JSON:n(253);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n=t.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var s,a="boolean"==typeof t.cycles&&t.cycles,l=t.replacer||function(e,t){return t},u=t.cmp&&(s=t.cmp,function(e){return function(t,n){var r={key:t,value:e[t]},i={key:n,value:e[n]};return s(r,i)}}),c=[];return function e(t,s,d,h){var f=n?"\n"+new Array(h+1).join(n):"",m=n?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=l.call(t,s,d))){if("object"!=typeof d||null===d)return r.stringify(d);if(i(d)){for(var p=[],g=0;g<d.length;g++){var b=e(d,g,d[g],h+1)||r.stringify(null);p.push(f+n+b)}return"["+p.join(",")+f+"]"}if(-1!==c.indexOf(d)){if(a)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}c.push(d);var v=o(d).sort(u&&u(d));for(p=[],g=0;g<v.length;g++){var y=e(d,s=v[g],d[s],h+1);if(y){var E=r.stringify(s)+m+y;p.push(f+n+E)}}return c.splice(c.indexOf(d),1),"{"+p.join(",")+f+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},o=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n}},253:function(e,t,n){t.parse=n(254),t.stringify=n(255)},254:function(e,t){var n,r,i,o,s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},a=function(e){throw{name:"SyntaxError",message:e,at:n,text:i}},l=function(e){return e&&e!==r&&a("Expected '"+e+"' instead of '"+r+"'"),r=i.charAt(n),n+=1,r},u=function(){var e,t="";for("-"===r&&(t="-",l("-"));r>="0"&&r<="9";)t+=r,l();if("."===r)for(t+=".";l()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,l(),"-"!==r&&"+"!==r||(t+=r,l());r>="0"&&r<="9";)t+=r,l();if(e=+t,isFinite(e))return e;a("Bad number")},c=function(){var e,t,n,i="";if('"'===r)for(;l();){if('"'===r)return l(),i;if("\\"===r)if(l(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(l(),16),isFinite(e));t+=1)n=16*n+e;i+=String.fromCharCode(n)}else{if("string"!=typeof s[r])break;i+=s[r]}else i+=r}a("Bad string")},d=function(){for(;r&&r<=" ";)l()};o=function(){switch(d(),r){case"{":return function(){var e,t={};if("{"===r){if(l("{"),d(),"}"===r)return l("}"),t;for(;r;){if(e=c(),d(),l(":"),Object.hasOwnProperty.call(t,e)&&a('Duplicate key "'+e+'"'),t[e]=o(),d(),"}"===r)return l("}"),t;l(","),d()}}a("Bad object")}();case"[":return function(){var e=[];if("["===r){if(l("["),d(),"]"===r)return l("]"),e;for(;r;){if(e.push(o()),d(),"]"===r)return l("]"),e;l(","),d()}}a("Bad array")}();case'"':return c();case"-":return u();default:return r>="0"&&r<="9"?u():function(){switch(r){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null}a("Unexpected '"+r+"'")}()}},e.exports=function(e,t){var s;return i=e,n=0,r=" ",s=o(),d(),r&&a("Syntax error"),"function"==typeof t?function e(n,r){var i,o,s=n[r];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(void 0!==(o=e(s,i))?s[i]=o:delete s[i]);return t.call(n,r,s)}({"":s},""):s}},255:function(e,t){var n,r,i,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,(function(e){var t=s[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function l(e,t){var o,s,u,c,d,h=n,f=t[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(e)),"function"==typeof i&&(f=i.call(t,e,f)),typeof f){case"string":return a(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(n+=r,d=[],"[object Array]"===Object.prototype.toString.apply(f)){for(c=f.length,o=0;o<c;o+=1)d[o]=l(o,f)||"null";return u=0===d.length?"[]":n?"[\n"+n+d.join(",\n"+n)+"\n"+h+"]":"["+d.join(",")+"]",n=h,u}if(i&&"object"==typeof i)for(c=i.length,o=0;o<c;o+=1)"string"==typeof(s=i[o])&&(u=l(s,f))&&d.push(a(s)+(n?": ":":")+u);else for(s in f)Object.prototype.hasOwnProperty.call(f,s)&&(u=l(s,f))&&d.push(a(s)+(n?": ":":")+u);return u=0===d.length?"{}":n?"{\n"+n+d.join(",\n"+n)+"\n"+h+"}":"{"+d.join(",")+"}",n=h,u}}e.exports=function(e,t,o){var s;if(n="",r="","number"==typeof o)for(s=0;s<o;s+=1)r+=" ";else"string"==typeof o&&(r=o);if(i=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return l("",{"":e})}},256:function(e,t,n){(function(t){var n;n=function(){"use strict";var e=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},o=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,a=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function s(){n&&(n=!1,e()),r&&l()}function a(){i(s)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;o.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},u=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},c=g(0,0,0,0);function d(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function f(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return c;var r=u(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=d(o)}return t}(r),o=i.left+i.right,s=i.top+i.bottom,a=d(r.width),l=d(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==t&&(a-=h(r,"left","right")+o),Math.round(l+s)!==n&&(l-=h(r,"top","bottom")+s)),!function(e){return e===u(e).document.documentElement}(e)){var f=Math.round(a+o)-t,m=Math.round(l+s)-n;1!==Math.abs(f)&&(a-=f),1!==Math.abs(m)&&(l-=m)}return g(i.left,i.top,a,l)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof u(e).SVGGraphicsElement}:function(e){return e instanceof u(e).SVGElement&&"function"==typeof e.getBBox};function p(e){return n?m(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):f(e):c}function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=p(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var n,r,i,o,s,a,u,c=(r=(n=t).x,i=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(a.prototype),l(u,{x:r,y:i,width:o,height:s,top:i,right:r+o,bottom:s+i,left:r}),u);l(this,{target:e,contentRect:c})},y=function(){function t(t,n,r){if(this.activeObservations_=[],this.observations_=new e,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new v(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),E="undefined"!=typeof WeakMap?new WeakMap:new e,O=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=a.getInstance(),r=new y(t,n,this);E.set(this,r)};return["observe","unobserve","disconnect"].forEach((function(e){O.prototype[e]=function(){var t;return(t=E.get(this))[e].apply(t,arguments)}})),void 0!==r.ResizeObserver?r.ResizeObserver:O},e.exports=n()}).call(this,n(257))},257:function(e,t,n){e.exports=n(29)(158)},86:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m}));var r=n(83),i=n.n(r),o=n(2),s=n(8),a=n(84),l=n(44),u=n(45),c=n(16),d=n(19);const h=({sourceId:e,fetch:t,indexPatternsService:n})=>{const[r,i]=Object(o.useState)(void 0),[h,f]=Object(o.useState)(void 0),[m,p]=Object(o.useState)(void 0),[g,b]=Object(a.c)({cancelPreviousOn:"resolution",createPromise:async()=>(await Object(l.a)(e,t)).data,onResolve:i},[e,t,n]),[v,y]=Object(a.c)({cancelPreviousOn:"resolution",createPromise:async e=>await Object(s.h)(e,n),onResolve:f},[n]),[E,O]=Object(a.c)({cancelPreviousOn:"resolution",createPromise:async n=>(await(async(e,t,n)=>{const r=await n(Object(c.a)(e),{method:"PATCH",body:JSON.stringify(c.e.encode({data:t}))}).catch((t=>{throw new s.c(`Failed to update log source configuration "${e}": ${t}`,t)}));return Object(d.b)(c.f,(t=>new s.c(`Failed to decode log source configuration "${e}": ${t}`)))(r)})(e,n,t)).data,onResolve:i},[e,t,n]),[w,j]=Object(a.c)({cancelPreviousOn:"resolution",createPromise:async()=>await Object(u.a)(e,t),onResolve:({data:e})=>p(e)},[e,t]),x=Object(o.useMemo)((()=>{var e,t;return{fields:null!==(e=null==h?void 0:h.fields)&&void 0!==e?e:[],title:null!==(t=null==h?void 0:h.indices)&&void 0!==t?t:"unknown"}}),[h]),S="pending"===g.state,C="pending"===v.state,M="pending"===w.state,R="pending"===E.state,_=S||C||M||R,T="uninitialized"===g.state||"uninitialized"===v.state||"uninitialized"===w.state,k="rejected"===g.state,L="rejected"===v.state,A="rejected"===w.state,D=[g,v,w].filter(a.b).map((({value:e})=>e instanceof Error?e:new Error(`${e}`))),I=D.length>0,P=Object(o.useCallback)((async()=>{const e=b(),t=j(),n=y((await e).configuration);return await Promise.all([e,n,t])}),[b,j,y]),F=Object(o.useCallback)((async e=>{const t=await O(e),n=y(t.configuration),r=j();return await Promise.all([t,n,r])}),[j,y,O]),z=Object(o.useCallback)((async()=>{if(T)return await P()}),[T,P]);return{sourceId:e,initialize:z,isUninitialized:T,derivedIndexPattern:x,hasFailedLoading:I,hasFailedLoadingSource:k,hasFailedLoadingSourceStatus:A,hasFailedResolvingSource:L,latestLoadSourceFailures:D,isLoading:_,isLoadingSourceConfiguration:S,isLoadingSourceStatus:M,isResolvingSourceConfiguration:C,sourceStatus:m,loadSourceStatus:j,loadSource:P,sourceConfiguration:r,updateSource:F,resolvedSourceConfiguration:h}},[f,m]=i()(h)},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d}));var r=n(2),i=n(17),o=n(165),s=n(204),a=n(143);const l=i.euiStyled.div.attrs((()=>({role:"cell"})))`
  align-items: stretch;
  display: flex;
  flex-basis: ${e=>e.baseWidth||"0%"};
  flex-direction: row;
  flex-grow: ${e=>e.growWeight||0};
  flex-shrink: ${e=>e.shrinkWeight||0};
  overflow: hidden;
`,u=i.euiStyled.div.attrs({"data-test-subj":"LogEntryColumnContent"})`
  flex: 1 0 0%;
  padding: 2px ${8}px;
`,c=Symbol("iconColumnId"),d=({columnConfigurations:e,scale:t,timeFormat:n="time"})=>{const{CharacterDimensionsProbe:i,dimensions:l}=Object(a.g)(t),u=Object(r.useMemo)((()=>Date.now()),[]),d=Object(s.a)(u,{format:n}),h=Object(r.useMemo)((()=>{return t=e,n=l.width,r=d.length,t.reduce(((e,t)=>{if(Object(o.d)(t)){const i=t.timestampColumn.width?Object(o.a)(t.timestampColumn.width):void 0;return{...e,[t.timestampColumn.id]:{growWeight:0,shrinkWeight:0,baseWidth:null!=i?i:`${Math.ceil(n*r*1.1)+16}px`}}}if(Object(o.c)(t)){const n=t.messageColumn.width?Object(o.a)(t.messageColumn.width):void 0;return{...e,[t.messageColumn.id]:{growWeight:5,shrinkWeight:0,baseWidth:null!=n?n:"0%"}}}{const r=t.fieldColumn.width?Object(o.a)(t.fieldColumn.width):void 0;return{...e,[t.fieldColumn.id]:{growWeight:r?0:1,shrinkWeight:0,baseWidth:null!=r?r:`${Math.ceil(10*n)+16}px`}}}}),{[c]:{growWeight:0,shrinkWeight:0,baseWidth:"48px"}});var t,n,r}),[e,l.width,d]);return Object(r.useMemo)((()=>({columnWidths:h,CharacterDimensionsProbe:i})),[h,i])}}}]);